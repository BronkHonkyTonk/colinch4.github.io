---
layout: post
title: "[go] Flag 패키지를 이용한 명령줄 플래그 관리 방법"
description: " "
date: 2023-12-12
tags: [go]
comments: true
share: true
---

## 1. 소개
명령줄 인터페이스(CLI)를 개발하다보면 사용자가 프로그램을 실행할 때 특정한 옵션을 지정할 수 있도록 하는 것이 필요합니다. Go 언어에서는 `flag` 패키지를 사용하여 명령줄 플래그를 쉽게 관리할 수 있습니다. 

이 블로그에서는 `flag` 패키지를 사용하여 Go 언어로 CLI 프로그램을 개발할 때 플래그를 어떻게 관리하는지에 대해 알아보겠습니다.

## 2. `flag` 패키지 사용하기
`flag` 패키지를 사용하려면 먼저 패키지를 임포트해야 합니다.
```go
import "flag"
```

## 3. 플래그 선언하기
다음으로, 플래그를 선언할 변수를 만들어야 합니다. 일반적으로는 변수명과 기본값, 그리고 설명을 함께 작성합니다.
```go
var serverPort int
flag.IntVar(&serverPort, "port", 8080, "서버 포트 번호")
```

위의 예제에서 `IntVar` 함수는 특정 변수에 `flag`로 전달되는 정수값을 할당합니다. 함수의 인자로는 변수의 주소를 받고, 플래그 이름, 기본값, 설명을 받습니다.

## 4. 플래그 파싱하기
모든 플래그를 선언한 후에는 `flag` 패키지에 포함된 `Parse` 함수를 호출하여 플래그를 파싱합니다.
```go
flag.Parse()
```

## 5. 사용자 플래그 값 사용하기
이제 `serverPort` 변수를 통해 사용자가 지정한 서버 포트를 사용할 수 있습니다.

## 6. 결론
`flag` 패키지를 이용하면 CLI 프로그램에서 플래그를 쉽게 처리할 수 있습니다. 이를 통해 사용자가 프로그램을 보다 유연하게 사용할 수 있도록 도와줍니다.

이상으로 Go 언어에서 `flag` 패키지를 사용하여 명령줄 플래그를 관리하는 방법에 대해 알아보았습니다.

## 7. 참고 자료
- 공식 Go 언어 `flag` 패키지 문서 : [Go Flag 패키지](https://golang.org/pkg/flag/)
- "The Go Programming Language" (Alan A. A. Donovan, Brian W. Kernighan 지음, 박정일 옮김) - 8장. 플래그, 12.3절. : "플래그"