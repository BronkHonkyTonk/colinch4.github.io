---
layout: post
title: "[python] 메모리 관리와 캐시 일관성"
description: " "
date: 2023-12-12
tags: [python]
comments: true
share: true
---

파이썬은 **동적으로 메모리를 관리**하는 고수준 언어입니다. **가비지 컬렉션** 기능을 통해 자동으로 메모리를 관리하여 개발자가 메모리를 관리할 필요가 없게 해줍니다. 그러나 이러한 자동 메모리 관리 기능이 어떻게 동작하는지 이해하는 것은 중요합니다.

## 1. 메모리 관리

파이썬은 **참조에 의한 메모리 관리**를 사용합니다. 이는 개발자가 메모리를 명시적으로 할당하거나 해제할 필요가 없음을 의미합니다. 변수가 객체를 참조할 때마다 해당 객체의 참조 개수가 증가하고, 변수가 없어질 때 참조 개수가 감소합니다. 이러한 개념은 **가비지 컬렉션**을 통해 더 이상 참조되지 않는 객체들이 메모리에서 해제됩니다.

```python
# 예시 코드
a = [1, 2, 3]  # 리스트 객체의 참조 개수: 1
b = a          # 리스트 객체의 참조 개수: 2
c = a          # 리스트 객체의 참조 개수: 3
a = 0          # 리스트 객체의 참조 개수: 2
b = 0          # 리스트 객체의 참조 개수: 1
c = 0          # 리스트 객체의 참조 개수: 0 (가비지 컬렉션에 의해 해제됨)
```

## 2. 캐시 일관성

파이썬에서의 캐시 일관성은 **동일한 입력에 대해 동일한 출력이 보장**되는 것을 의미합니다. 이는 **함수나 메서드 호출 결과를 캐시**하여 중복된 계산을 피하고 프로그램 성능을 향상시킵니다.

파이썬에서는 `functools.lru_cache` 모듈을 사용하여 **캐시를 구현**할 수 있습니다.

```python
# 예시 코드
import functools

@functools.lru_cache(maxsize=128)
def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)
```

## 결론

파이썬은 동적으로 메모리를 관리하고, 캐시 일관성을 지원하여 프로그램의 성능을 향상시킵니다. 이러한 기능을 이해하고 적절히 활용함으로써 효율적인 파이썬 프로그략을 개발할 수 있습니다.

자세한 내용은 [파이썬 공식 문서](https://docs.python.org/3/library/functools.html)를 참고하세요.