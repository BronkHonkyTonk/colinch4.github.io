---
layout: post
title: "[kotlin] 코틀린에서 안드로이드 뷰모델과 라이브 데이터 사용하기"
description: " "
date: 2023-12-12
tags: [kotlin]
comments: true
share: true
---

안드로이드 앱을 개발하다 보면 UI 컴포넌트들의 데이터 상태를 관리하고 업데이트하는 것이 중요합니다. 이를 위해 안드로이드 애플리케이션 아키텍처 컴포넌트 아키텍처에서는 뷰모델과 라이브 데이터를 사용하여 UI와 데이터 소스를 분리하는 방법을 제공합니다.

## 안드로이드 뷰모델

안드로이드 뷰모델은 UI 관련 데이터를 저장하고 관리하는 데 사용됩니다. 액티비티 또는 프래그먼트가 구성 구성이 변경되더라도 데이터를 보존할 수 있도록 해줍니다. 이를 통해 레이아웃의 회전이나 액티비티 재시작과 같은 구성 변경으로 인해 데이터를 잃는 문제를 해결할 수 있습니다. 

코틀린에서 뷰모델을 사용하려면 `ViewModel` 클래스를 상속받아 새로운 뷰모델 클래스를 만들고, `ViewModelProvider`를 사용하여 뷰모델 인스턴스를 얻습니다.

```kotlin
class MyViewModel : ViewModel() {
    // 뷰모델에서 관리해야 하는 데이터 선언
}
```

## 라이브 데이터

라이브 데이터는 생명주기 인식형 데이터 홀더 클래스로, 관찰 가능한 데이터를 제공합니다. 이를 통해 데이터의 변경 사항이 발생할 때마다 UI를 업데이트할 수 있습니다. 

코틀린에서 라이브 데이터를 사용하려면 `LiveData` 클래스를 인스턴스화하고, `observe` 메서드를 사용하여 관찰자를 등록합니다.

```kotlin
val liveData: LiveData<String> = ...
liveData.observe(this, Observer { data ->
    // 라이브 데이터가 변경될 때마다 실행될 동작
})
```

뷰모델과 라이브 데이터를 함께 사용하면 UI의 상태와 데이터를 쉽게 관리할 수 있습니다. 생명주기를 인식하는데, 메모리 누수나 수명 주기 관리에 대해 걱정할 필요가 없습니다.

안드로이드 뷰모델과 라이브 데이터는 안드로이드 앱의 아키텍처를 개선하고 비동기적으로 데이터를 처리하고 업데이트하는 데 매우 유용합니다.

[안드로이드 개발자 사이트](https://developer.android.com/topic/libraries/architecture/viewmodel)에서 자세한 내용을 확인할 수 있습니다.

위의 내용을 통해 코틀린에서 안드로이드 뷰모델과 라이브 데이터를 사용하는 방법에 대해 살펴보았습니다. 이를 통해 안드로이드 앱의 아키텍처를 개선하고 사용자 경험을 향상시킬 수 있습니다.