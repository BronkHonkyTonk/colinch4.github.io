---
layout: post
title: "[python] 객체의 수명 관리"
description: " "
date: 2023-12-12
tags: [python]
comments: true
share: true
---

Python은 자동으로 메모리를 관리하여 개발자가 수동으로 메모리를 할당하거나 해제하지 않아도 됩니다. 하지만 객체의 수명을 제어하는 것은 여전히 중요합니다. 객체의 수명이 관리되지 않으면 메모리 누수가 발생할 수 있고, 성능에 영향을 미칠 수 있습니다.

## 객체 수명과 참조 카운트

파이썬은 **참조 카운트**를 사용하여 메모리에서 객체의 수명을 추적합니다. 객체가 만들어질 때마다 참조 카운트는 1 증가하고, 해당 객체를 참조하는 다른 객체가 삭제될 때마다 참조 카운트는 감소합니다. 만약 참조 카운트가 0이 되면, 해당 객체는 메모리에서 해제됩니다.

```python
# 예시 코드
import sys

a = [1, 2, 3]  # 리스트 객체의 참조 카운트는 1
b = a          # 리스트 객체의 참조 카운트는 2
c = b          # 리스트 객체의 참조 카운트는 3
del a          # 리스트 객체의 참조 카운트는 2
```

## 순환 참조

파이썬에서는 **순환 참조**로 인해 메모리 누수가 발생할 수 있습니다. 순환 참조는 두 개 이상의 객체가 서로를 참조할 때 발생합니다. 이 경우 참조 카운트가 0이 되지 않아 메모리에서 객체가 해제되지 않습니다.

```python
# 예시 코드
class Node:
    def __init__(self, data):
        self.data = data
        self.next = None

a = Node(1)
b = Node(2)
a.next = b
b.next = a  # 순환 참조
```

## 가비지 컬렉션

파이썬의 **가비지 컬렉션**은 참조 카운트와 함께 사용되어 순환 참조로 인한 메모리 누수를 방지합니다. 주기적으로 가비지 컬렉터가 실행되어 더 이상 사용되지 않는 객체를 해제합니다.

## 결론

파이썬의 객체 수명 관리는 자동으로 이루어지지만 순환 참조로 인한 문제를 방지하기 위해 개발자는 주의해야 합니다. 적절한 객체 참조 및 해제를 통해 메모리를 효율적으로 관리할 수 있습니다.