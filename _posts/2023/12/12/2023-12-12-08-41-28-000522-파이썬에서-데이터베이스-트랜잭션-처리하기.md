---
layout: post
title: "[python] 파이썬에서 데이터베이스 트랜잭션 처리하기"
description: " "
date: 2023-12-12
tags: [python]
comments: true
share: true
---

## 목차
1. 데이터베이스 연결
2. 트랜잭션 시작
3. 데이터베이스 작업 수행
4. 트랜잭션 커밋 또는 롤백

---

### 1. 데이터베이스 연결
가장 먼저 해야 할 일은 데이터베이스에 연결하는 것입니다. 파이썬에서는 내장 모듈 중 하나인 `sqlite3`를 사용하여 데이터베이스에 연결할 수 있습니다. 

예시:

```python
import sqlite3

# 데이터베이스 연결
conn = sqlite3.connect('example.db')
```

### 2. 트랜잭션 시작
트랜잭션을 시작하려면 데이터베이스 연결 객체의 `cursor()` 메서드를 사용하여 커서를 생성한 후, `execute()` 메서드를 사용하여 트랜잭션을 시작합니다.

예시:

```python
# 커서 생성
cursor = conn.cursor()

# 트랜잭션 시작
cursor.execute("BEGIN")
```

### 3. 데이터베이스 작업 수행
이제 원하는 데이터베이스 작업을 수행할 수 있습니다. 데이터를 추가하거나 수정하는 등의 작업을 수행합니다.

예시:

```python
# 데이터베이스 작업 수행
cursor.execute("INSERT INTO table_name (column1, column2) VALUES (?, ?)", (value1, value2))
```

### 4. 트랜잭션 커밋 또는 롤백
모든 데이터베이스 작업을 마친 후, **커밋** 또는 **롤백** 결정을 해야 합니다. 모든 작업이 성공했다면 커밋을 통해 데이터베이스에 변경사항을 적용합니다. 만약 실패했다면 롤백을 통해 변경사항을 취소합니다.

예시:

```python
# 모든 작업이 완료되면 커밋
conn.commit()
# 만약 에러가 발생했다면 롤백
conn.rollback()
```

이렇게 파이썬에서 데이터베이스 트랜잭션을 처리할 수 있습니다. 데이터베이스 작업을 안전하게 처리하기 위해 트랜잭션을 활용하세요!