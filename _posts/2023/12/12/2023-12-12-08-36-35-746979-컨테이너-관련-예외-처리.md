---
layout: post
title: "[c++] 컨테이너 관련 예외 처리"
description: " "
date: 2023-12-12
tags: [c++]
comments: true
share: true
---

C++에서는 컨테이너를 사용할 때 예외 처리가 중요합니다. 컨테이너에서 발생하는 예외를 적절히 처리하지 않으면 프로그램이 예기치 않게 종료될 수 있습니다. 따라서 예외 처리를 통해 프로그램의 안정성을 높일 수 있습니다.

## 범용적인 컨테이너 관련 예외 처리 방법

C++ 표준 라이브러리의 대부분의 컨테이너는 예외를 던질 수 있습니다. 보통 다음의 순서로 컨테이너에서 예외를 처리합니다.

1. 컨테이너에 접근하기 전에 예외 상황을 미리 확인합니다.
2. 예외가 발생할 수 있는 상황을 처리하는 코드를 `try` 블록 안에 작성합니다.
3. 예외가 발생했을 때 처리할 코드를 `catch` 블록 안에 작성합니다.
4. 예외가 발생하지 않았을 때 실행할 코드를 `try` 블록 바깥에 작성합니다.

컨테이너에서 예외 처리를 통해 예외 상황을 미연에 방지할 수 있고, 프로그램 실행 중 발생한 예외를 안전하게 처리할 수 있습니다.

### 범용적인 방법 예제

다음은 범용적인 방법을 사용한 컨테이너 예외 처리의 예제입니다.

```c++
try {
    // 컨테이너 접근 전에 예외 상황을 미리 확인
    if (container.empty()) {
        throw std::out_of_range("Container is empty");
    }

    // 예외가 발생할 수 있는 상황을 처리하는 코드
    // ...

} 
catch (const std::out_of_range &e) {
    // 예외가 발생했을 때 처리하는 코드
    // ...

}
```

## 특정 컨테이너에 따른 예외 처리 방법

특정한 종류의 컨테이너에 따라 예외 처리 방법이 다를 수 있습니다. 예를 들어, 벡터는 인덱스를 통한 접근 시에 범위를 벗어나는 경우 `std::out_of_range` 예외를 던집니다. 반면에 맵은 키를 통한 접근 시에 해당 키가 존재하지 않는 경우 `std::out_of_range` 예외를 던지는 것이 아니라 새로운 엔트리를 추가하게 됩니다. 

이렇게 컨테이너에 따라 예외가 발생하는 상황이 다르기 때문에 특정 컨테이너에 맞게 예외 처리를 구현해야 합니다.

## 결론

컨테이너를 사용할 때 예외 처리는 중요한 요소입니다. 범용적인 방법 외에도 특정한 컨테이너에 따른 예외 처리 방법을 이해하고 적용해야 합니다. 이를 통해 안정적인 프로그래밍을 할 수 있고 예기치 않은 상황에 대비할 수 있습니다.

**참고 문헌:** 
- [cplusplus.com - Exception safety](https://www.cplusplus.com/reference/new/nothrow/)
- [cppreference.com - Container exceptions](https://en.cppreference.com/w/cpp/container)