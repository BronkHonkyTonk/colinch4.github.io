---
layout: post
title: "[kotlin] 안드로이드 뷰모델과 상태 저장 처리"
description: " "
date: 2023-12-12
tags: [kotlin]
comments: true
share: true
---

안녕하세요! 안드로이드 앱을 개발하다 보면 화면 회전 또는 앱이 백그라운드로 들어갔다가 다시 포그라운드로 올라올 때 발생하는 상태 저장과 관련된 문제에 직면하게 될 것입니다. 이러한 문제를 해결하기 위해 뷰모델을 사용하여 상태를 관리하는 방법에 대해 살펴보겠습니다.

## 뷰모델이란?

뷰모델은 안드로이드 아키텍처 컴포넌트 중 하나로, 앱의 UI와 관련된 데이터를 저장하고 관리하는데 사용됩니다. 뷰모델은 화면 회전 및 앱의 생명주기 변화와 같은 상황에서 데이터 보존과 관련된 문제를 해결하는데 도움이 됩니다.

## 뷰모델의 이점

**1. 생명주기에 안전한 데이터 보존**
뷰모델은 액티비티 또는 프래그먼트의 생명주기와 관련된 문제를 해결하여 데이터를 안전하게 유지할 수 있습니다.

**2. 화면 관련 데이터의 분리**
뷰모델을 사용하면 화면과 관련된 데이터를 뷰와 분리할 수 있어 코드를 깔끔하게 유지할 수 있습니다.

**3. 테스트 용이성**
뷰모델을 사용하면 UI 로직을 테스트하는 것이 훨씬 쉬워집니다.

## 뷰모델의 상태 저장 처리

뷰모델을 사용하여 상태를 저장하려면 `ViewModel` 클래스를 상속받은 사용자 정의 클래스를 생성해야 합니다. 그리고 뷰모델 안에서 상태를 관리하는데 필요한 데이터를 보존할 수 있습니다.

```kotlin
import androidx.lifecycle.ViewModel

class MyViewModel : ViewModel() {
    var currentState: Int = 0
}
```

위의 예시에서 `MyViewModel` 클래스는 정수 형태의 `currentState` 변수를 가지고 있으며, 이 값은 화면 회전이나 다른 상태 변화에 따라서도 유지됩니다.

## 요약

안드로이드 뷰모델을 사용하여 상태를 유지하고 관리하는 것은 앱의 안정성과 사용자 경험을 향상시키는 데 큰 도움이 됩니다. 뷰모델은 생명주기와 관련된 문제를 해결하고 UI 코드를 더욱 간결하게 만들어줍니다.

뷰모델을 사용하여 처리하는 방법에 대해 더 자세히 알고 싶다면 [안드로이드 공식 문서](https://developer.android.com/topic/libraries/architecture/viewmodel)를 참고해보세요.

이상으로 안드로이드 뷰모델과 상태 저장 처리에 대해 알아보았습니다. 감사합니다!