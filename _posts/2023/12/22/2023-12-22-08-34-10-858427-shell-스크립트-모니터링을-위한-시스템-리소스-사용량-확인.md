---
layout: post
title: "[shell] Shell 스크립트 모니터링을 위한 시스템 리소스 사용량 확인"
description: " "
date: 2023-12-22
tags: [shell]
comments: true
share: true
---

서버나 시스템의 안정성을 유지하기 위해 리소스 모니터링은 매우 중요합니다. `Shell 스크립트`를 사용하여 리소스 사용량을 확인하고 모니터링하는 방법을 알아보겠습니다.

## 시스템 리소스 확인

### CPU 사용량 확인

시스템의 CPU 사용량을 확인하려면 다음과 같이 `/proc/stat` 파일을 사용할 수 있습니다. 

```shell
cat /proc/stat
```

### 메모리 사용량 확인

시스템의 메모리 사용량을 확인하려면 `free` 명령어를 사용합니다.

```shell
free -m
```

### 디스크 사용량 확인

디스크 사용량을 확인하려면 `df` 명령어를 사용합니다.

```shell
df -h
```

## 시스템 리소스 모니터링 스크립트 작성

위의 명령어들을 이용하여 시스템 리소스를 주기적으로 확인하는 스크립트를 작성해보겠습니다.

```shell
#!/bin/bash
while true
do
    echo "CPU 사용량"
    cat /proc/stat | grep '^cpu '
    echo "메모리 사용량"
    free -m
    echo "디스크 사용량"
    df -h
    sleep 60
done
```

위의 스크립트는 CPU, 메모리, 디스크 사용량을 1분마다 주기적으로 확인합니다.

이제 위의 스크립트를 실행하고 시스템 리소스의 변화를 확인할 수 있습니다.

## 마치며

위의 방법을 통해 스크립트를 사용하여 시스템 리소스를 모니터링하고, 시스템 안정성을 유지할 수 있습니다.