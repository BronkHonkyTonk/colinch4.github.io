---
layout: post
title: "[ios] 앱 추적 권한 설정 변경에 대한 이벤트 발생 기준 정의하기"
description: " "
date: 2023-12-22
tags: [ios]
comments: true
share: true
---

iOS 14부터 앱 추적 허용 권한 설정 변경에 따른 권한 변경 이벤트 추적을 위해 **App Tracking Transparency 프레임워크**가 도입되었습니다.

이 프레임워크를 통해 광고 ID 추적 권한 변경과 관련된 **SKAdNetwork** 및 **ATT 광고 식별자**를 처리할 수 있습니다.

## 앱 추적 권한 설정 이벤트

iOS 애플리케이션에서 추적 권한 설정 변경 이벤트가 발생하는 경우를 정의해야 합니다. 이는 주로 사용자가 **앱 내 설정** 또는 **시스템 설정 앱**을 통해 앱 추적 권한을 변경할 때 발생합니다.

### 앱 내 추적 권한 설정 변경

앱 내 설정 화면에서 사용자가 추적 허용 스위치를 변경할 때, 우리 앱은 다음과 같은 코드를 통해 **이벤트를 캡처**해야 합니다.

```swift
import AppTrackingTransparency

ATTrackingManager.requestTrackingAuthorization { status in
    // 권한 상태(status)에 따른 처리 로직
    // 예: 사용자가 '허용'을 선택한 경우에 대한 로직
}
```

### 시스템 설정 앱을 통한 추적 권한 변경

사용자가 iOS의 **설정 앱**을 통해 앱 추적 접근 선택지를 변경할 때에도, 우리 앱이 이러한 변경을 **감지하고 처리**할 수 있어야 합니다.

## SKAdNetwork 및 ATT 식별자 업데이트 처리

앱 추적 권한 설정 변경에 따라 필요한 조치를 취해야 합니다. **SKAdNetwork API**를 통해 **광고 ID 추적 여부**를 파악하고, 추적 거부로 인해 일부 광고 ID를 수집할 수 없는 경우에 대비해 **광고 식별자 제거** 등의 처리가 필요할 수 있습니다.

이러한 변경 사항을 통지하고 적절히 대응하기 위해서는, **사내 개발자 문서**를 참고하여 이에 대한 **가이드라인 및 정책**을 충분히 이해하고 있어야 합니다.

## 마치며

iOS 14부터는 개인정보 보호를 강화하기 위해 사용자의 앱 추적 권한을 엄격하게 제어하고 있습니다. 우리는 이러한 변경에 발맞춰, 사용자의 권리를 존중하고 광고 식별자와 관련된 변경 사항을 적절히 반영하여, 안정적인 사용자 경험을 제공할 수 있도록 대응해야 합니다.

이와 관련한 실제 사용 사례 예시 및 권장 사항은 관련 문서 및 [애플 개발자 센터](https://developer.apple.com/kr/documentation/apptrackingtransparency)에서 확인하시기 바랍니다.