---
layout: post
title: "[리눅스] 사용자별 서비스 제한 설정"
description: " "
date: 2023-12-22
tags: [리눅스]
comments: true
share: true
---

이 기능을 사용하려면 `PAM(Portable Account Management)`을 이용해야 합니다. PAM은 리눅스 시스템에서 인증과 관련된 작업을 수행하는 데 사용하는 라이브러리입니다. `PAM`을 이용하여 사용자별로 서비스에 대한 제한을 설정할 수 있습니다.

다음은 사용자별 서비스 제한 설정 방법입니다.

## PAM을 사용하여 서비스 제한 설정하기

1. 먼저 `pam_limits.so` 모듈을 이용하여 사용자의 리소스 제한을 설정합니다. 이 모듈은 한 사용자가 사용할 수 있는 리소스의 양을 제한하는 데 사용됩니다.

2. `limits.conf` 파일을 이용하여 사용자의 제한 사항을 정의합니다. 이 파일은 `/etc/security/` 디렉터리에 위치하고 있으며, 사용자별로 제한을 설정할 수 있습니다.
   
예를 들어, 사용자 'alice'에 대해 메모리 사용을 제한하고 싶다면 다음과 같이 `limits.conf` 파일을 수정합니다.

```shell
alice hard as 50000
``` 

이렇게 설정하면 'alice' 사용자는 최대 50MB의 메모리만 사용할 수 있습니다.

3. 설정 변경 후에는 `pam.d` 디렉터리에 있는 각 서비스의 인증 파일을 수정해야 합니다. 다음 예제는 `sshd` 서비스를 이용하여 설정을 보여줍니다.

```shell
vi /etc/pam.d/sshd
```

파일을 열고 아래의 내용을 추가합니다.

```shell
session required pam_limits.so
```

위의 설정을 통해 'sshd' 서비스에서 `PAM`을 사용하여 사용자의 제한을 적용할 수 있게 됩니다.

이제 사용자별로 서비스 제한을 설정하는 방법에 대해 알아보았습니다. 이를 통해 시스템 관리자는 보안 및 자원 관리에 대한 제어를 더욱 강화할 수 있습니다.