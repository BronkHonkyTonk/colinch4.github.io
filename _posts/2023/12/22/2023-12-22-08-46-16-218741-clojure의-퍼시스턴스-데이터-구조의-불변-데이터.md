---
layout: post
title: "[clojure] Clojure의 퍼시스턴스 데이터 구조의 불변 데이터"
description: " "
date: 2023-12-22
tags: [clojure]
comments: true
share: true
---

Clojure는 함수형 프로그래밍 언어로, **불변성(Immutability)**이 핵심 원칙 중 하나입니다. Clojure의 퍼시스턴스(Persistent) 데이터 구조는 불변하면서도 효율적으로 변경된 새로운 버전을 만들어냅니다.

## 1. 불변 데이터 구조의 특징

Clojure의 List, Map, Set 등의 퍼시스턴스 데이터 구조는 변경 불가능한 특성을 가지고 있습니다. 한 번 생성된 데이터 구조는 수정될 수 없으며, **변경 작업을 수행하면 새로운 버전이 생성**됩니다.

```clojure
(def original-list (list 1 2 3))
(def new-list (conj original-list 4))
```

위의 예시에서 `conj` 함수를 사용하여 새로운 값을 추가한 `new-list`는 `original-list`를 변경하지 않고 새로운 List를 반환합니다.

## 2. 불변 데이터 구조의 이점

불변 데이터 구조를 사용함으로써 다음과 같은 이점을 얻을 수 있습니다.
- **스레드 안전성(Thread Safety)**: 여러 스레드에서 동시에 데이터에 접근해도 변경하지 않기 때문에 스레드 안전성이 보장됩니다.
- **디버깅 용이성** : 데이터가 변경되지 않기 때문에 예측가능하며, 디버깅이 용이합니다.
- **함수형 프로그래밍 지원** : 불변 데이터 구조는 함수형 프로그래밍의 기본적인 요소이며, Clojure는 함수형 프로그래밍을 강력하게 지원합니다.

## 3. Clojure의 불변 데이터 구조 활용

Clojure에서는 `persistent!` 함수를 사용하여 수정 가능한 (mutable) 데이터 구조를 만들 수 있습니다. 하지만, 이러한 기능은 Clojure 코드의 복잡도를 증가시키고 버그 발생 가능성을 높입니다. **불변 데이터 구조를 최대한 활용**하여 코드의 안정성을 높이는 것이 권장됩니다.

불변 데이터 구조는 Clojure의 핵심 컨셉 중 하나이며, 함수형 프로그래밍 스타일을 따르는데 있어서 중요한 부분입니다.

## 4. 결론

Clojure는 불변 데이터 구조를 통해 안전하고 예측 가능한 프로그래밍을 가능케 합니다. **불변 데이터 구조를 적극적으로 활용**하여 코드 안정성과 가독성을 높이고, 함수형 프로그래밍의 장점을 최대한 활용하는 것이 중요합니다.

이러한 특성은 Clojure를 통해 효율적이고 안정적인 소프트웨어 개발을 지원하며, 다중 스레드를 사용하는 환경에서 더욱 중요한 역할을 합니다.