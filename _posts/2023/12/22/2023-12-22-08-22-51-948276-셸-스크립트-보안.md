---
layout: post
title: "[shell] 셸 스크립트 보안"
description: " "
date: 2023-12-22
tags: [shell]
comments: true
share: true
---

컴퓨터 시스템에서 많은 작업을 자동화하기 위해 **셸 스크립트**가 사용됩니다. 그러나, 셸 스크립트를 작성할 때 보안을 고려하는 것은 매우 중요합니다. 여기에는 몇 가지 중요한 보안 요소가 있습니다.

## 1. 입력 유효성 검사
사용자 입력을 처리하는 스크립트에서는 **입력 유효성 검사**가 매우 중요합니다. 이를테면, 사용자가 제공한 파일 또는 디렉토리 이름을 사용하여 셸 명령어를 실행하는 경우에는, 사용자 입력을 제대로 처리하지 않으면 의도치 않은 명령어가 실행될 수 있습니다.

```shell
#!/bin/bash
read -p "파일 이름 입력: " filename
if [ -f "$filename" ]; then
  cat "$filename"
else
  echo "파일을 찾을 수 없습니다."
fi
```

위의 예시에서 사용자 입력이 파일 시스템에서 원하는 위치에 있는지 확인하기 위해 `-f` 옵션을 사용하여 검사하고 있습니다.

## 2. 환경 변수
스크립트에서 중요한 환경 변수에는 **백도어 공격**에 사용될 수 있는 것들이 있습니다. 따라서, 환경 변수를 사용하는 경우에는 환경 변수에 민감한 정보를 저장하지 않는 것이 좋습니다.

```shell
#!/bin/bash
echo "환경 변수 값: $SECRET_KEY"
```

위의 예시는 `$SECRET_KEY`와 같은 중요한 정보를 환경 변수에 저장하고 출력하는 부분으로, 이와 같은 환경 변수의 사용을 지양해야 합니다.

## 3. 셸스크립트 실행 권한
셸 스크립트 파일에 대한 **실행 권한**을 잘 관리하는 것도 매우 중요합니다. 불필요한 사용자 또는 그룹에 대한 실행 권한을 막아야 합니다.

```shell
$ ls -l script.sh
-rwxr-xr-x 1 user user 35 Sep 15 10:45 script.sh
```

위의 예시는 `script.sh` 파일이 모든 사용자에 대해 실행이 가능한 상태입니다.

## 요약
**셸 스크립트 보안**은 중요한 고려 사항이며 사용자 입력 유효성 검사, 환경 변수 관리, 실행 권한 관리 등이 필요합니다. 이러한 간단한 조치들로 셸 스크립트를 통해 시스템에 대한 보안을 강화할 수 있습니다.

참고문헌:
- https://www.shellscript.sh/security.shtml