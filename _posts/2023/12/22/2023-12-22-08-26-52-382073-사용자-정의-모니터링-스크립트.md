---
layout: post
title: "[리눅스] 사용자 정의 모니터링 스크립트"
description: " "
date: 2023-12-22
tags: [리눅스]
comments: true
share: true
---

리눅스 시스템에서는 사용자 정의 모니터링 스크립트를 작성하여 시스템 자원 및 서비스를 모니터링하는 것이 가능합니다. 이는 시스템의 상태를 실시간으로 확인하고 이상 사항을 빠르게 파악하는 데 도움이 됩니다.

## 1. 모니터링 스크립트 작성

먼저, 모니터링하고자 하는 항목을 결정하고 해당 정보를 수집하는 스크립트를 작성해야 합니다. 예를 들어, **CPU, 메모리, 네트워크 상태, 서비스 가용성** 등을 모니터링하고자 할 수 있습니다.

다음은 간단한 bash 스크립트 예제입니다. 이 예제는 CPU 사용량을 확인하는 스크립트입니다.

```bash
#!/bin/bash
cpu_usage=$(top -b -n 1 | grep "Cpu(s)" | awk '{print $2 + $4}')
echo "Current CPU Usage: $cpu_usage%"
```

## 2. 스크립트 실행과 결과 확인

작성된 스크립트를 실행하여 모니터링 결과를 확인할 수 있습니다. 예를 들어 위의 CPU 사용량 확인 스크립트를 실행하면 현재 CPU 사용률이 출력됩니다.

```bash
$ ./cpu_monitoring_script.sh
Current CPU Usage: 30%
```

## 3. 스케줄링을 통한 자동 실행

스크립트를 스케줄링하여 주기적으로 실행하고 결과를 로깅하면, 시간이 지남에 따라 시스템의 성능과 안정성에 대한 추이를 파악할 수 있습니다.  **cron**을 사용하여 주기적인 실행을 예약할 수 있습니다.

```bash
# 매 10분마다 스크립트 실행 및 로깅
*/10 * * * * /path/to/cpu_monitoring_script.sh >> /var/log/cpu_monitoring.log 2>&1
```

이제, 시스템 리소스와 서비스를 사용자 정의 모니터링 스크립트를 활용하여 실시간으로 모니터링할 수 있게 되었습니다.

위의 방법은 기본적인 예시일 뿐이며, 실제 환경에 따라 보다 다양하고 복잡한 모니터링 스크립트를 작성할 수 있습니다.