---
layout: post
title: "[sql] 외래 키 제약 조건과 NULL 값 처리 방법"
description: " "
date: 2023-12-22
tags: [sql]
comments: true
share: true
---

데이터베이스 모델링에서 외래 키 제약 조건과 NULL 값 처리는 중요한 주제입니다. 이 블로그 포스트에서는 외래 키 제약 조건에 대해 설명하고, NULL 값 처리 방법에 대해 알아보겠습니다.

## 외래 키 제약 조건

외래 키 제약 조건은 관계형 데이터베이스에서 다른 테이블의 기본 키와 외래 키 간의 무결성을 유지하는 데 사용됩니다. 즉, 외래 키 제약 조건은 데이터 무결성을 보장하고 데이터 무결성 위반을 방지합니다. 외래 키 제약 조건을 설정하면 부모 테이블의 값이 자식 테이블에 존재하는지 확인하고, 데이터 무결성이 유지됩니다.

```sql
CREATE TABLE 부모 (
    부모_아이디 INT PRIMARY KEY
);

CREATE TABLE 자식 (
    자식_아이디 INT PRIMARY KEY,
    부모_아이디 INT,
    FOREIGN KEY (부모_아이디) REFERENCES 부모(부모_아이디)
);
```

위의 예제에서 `자식` 테이블의 `부모_아이디` 열은 `부모` 테이블의 `부모_아이디` 열을 참조하는 외래 키 제약 조건이 설정되었습니다.

## NULL 값 처리 방법

외래 키 제약 조건에서 NULL 값은 부모 테이블에서 해당 행이 존재하지 않음을 나타냅니다. 이때 NULL 값을 허용하는지 여부에 따라 다양한 처리 방법이 있습니다. 일반적으로 다음과 같은 처리 방법이 있습니다.

1. **CASCADE**: 부모 테이블에서 행이 삭제되면 자식 테이블에서 해당 행도 자동으로 삭제됩니다.
2. **SET NULL**: 부모 테이블에서 행이 삭제되면 자식 테이블에서 해당 열의 값을 NULL로 설정합니다.
3. **RESTRICT**: 부모 테이블에서 해당 행을 삭제할 수 없습니다.
4. **NO ACTION**: RESTRICT와 동일하며, 외래 키 제약 조건이 설정되었을 때 기본 동작입니다.

이러한 처리 방법을 적절히 선택하여 외래 키 제약 조건을 사용하여 데이터의 무결성을 유지할 수 있습니다.

외래 키 제약 조건과 NULL 값 처리는 데이터베이스 설계와 관련된 복잡한 문제이며, 신중하게 고려해야 합니다.

이상으로 외래 키 제약 조건과 NULL 값 처리 방법에 대해 알아보았습니다.

- - -

참고 문헌:
1. https://www.postgresql.org/docs/current/ddl-constraints.html
2. https://dev.mysql.com/doc/refman/8.0/en/create-table-foreign-keys.html