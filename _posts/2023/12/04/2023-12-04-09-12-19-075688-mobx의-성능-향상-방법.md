---
layout: post
title: "[javascript] MobX의 성능 향상 방법"
description: " "
date: 2023-12-04
tags: [javascript]
comments: true
share: true
---

MobX는 React 애플리케이션의 상태 관리에 매우 유용한 라이브러리입니다. 하지만 매우 큰 규모의 애플리케이션에서는 성능이 저하될 수 있습니다. 이러한 성능 문제를 최소화하는 다양한 방법이 있습니다. 이번 글에서는 MobX의 성능을 높이기 위한 몇 가지 방법에 대해 알아보겠습니다.

### 1. Reaction 최적화

MobX는 상태가 변경될 때마다 관련된 reaction을 기록하고, 해당 reaction이 다시 실행되어야 할 경우에만 실행합니다. 이 작업은 자동으로 이루어지지만, 때로는 너무 많은 reaction이 실행되는 경우가 있을 수 있습니다. 이를 최소화하는 방법으로는 `reaction` 대신 `autorun`을 사용하거나, `observe`를 사용하여 특정 값의 변경만 추적하도록 할 수 있습니다. 이렇게 하면 불필요한 reaction 실행을 방지할 수 있습니다.

### 2. Computed 속성 최적화

Computed 속성은 MobX에서 특정 값을 계산하는 데 사용됩니다. 그러나 계산이 매우 복잡하고 오래 걸리는 경우, 애플리케이션의 성능에 부정적인 영향을 미칠 수 있습니다. 이 경우 계산이 자주 발생하지 않도록 `@computed` 데코레이터와 함께 `when` 함수를 사용하여 값을 지연 계산하는 것이 좋습니다. 이렇게 하면 필요한 경우에만 계산을 수행하므로 성능이 향상됩니다.

### 3. Batched Updates 활용

MobX는 변경 사항을 즉시 반영하지 않고, 일부 경우에 일괄 업데이트를 수행하여 성능을 높일 수 있습니다. 예를 들어 React 컴포넌트의 `setState`를 사용하여 상태를 업데이트할 때에는, MobX에서 제공하는 `batch` 함수를 사용하여 여러 상태 변경을 일괄 처리할 수 있습니다. 이렇게 하면 불필요한 렌더링이 줄어들어 성능이 개선됩니다.

### 4. Memoization 기법 활용

Memoization은 이전에 계산한 결과를 저장하고, 동일한 입력으로 다시 호출될 때에는 저장한 결과를 반환하는 기법입니다. MobX에서도 Memoization을 활용하여 연산 비용을 줄일 수 있습니다. `@computed`의 의존성 배열에 Memoization을 위한 변수를 추가하여, 해당 변수가 변경되지 않는 이상 계산을 다시 수행하지 않도록 할 수 있습니다.

이 외에도 MobX의 성능을 향상하기 위한 다양한 방법이 있습니다. 성능 테스트와 프로파일링을 통해 본인의 애플리케이션에 가장 적합한 방법을 찾아보세요.

> 참고 문헌:
> - [MobX 최적화 - Best Practices](https://mobx.js.org/optimizing-react.html)
> - [MobX 성능 최적화 팁](https://mobx.js.org/)

모든 참고 문헌에는 MobX의 성능을 향상시키기 위한 더 자세한 내용이 포함되어 있으므로, 관심있는 분들은 참고하시기 바랍니다.