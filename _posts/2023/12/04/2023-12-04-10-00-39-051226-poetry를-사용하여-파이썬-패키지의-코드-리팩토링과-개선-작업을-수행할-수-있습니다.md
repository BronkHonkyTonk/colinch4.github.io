---
layout: post
title: "[python] Poetry를 사용하여 파이썬 패키지의 코드 리팩토링과 개선 작업을 수행할 수 있습니다."
description: " "
date: 2023-12-04
tags: [python]
comments: true
share: true
---

파이썬 패키지를 개발하다보면 코드의 리팩토링과 개선이 필요한 경우가 많습니다. 이때 Poetry(포에트리)는 유용한 도구로 활용될 수 있습니다. Poetry는 파이썬 패키지 관리 도구로서 의존성 관리와 가상 환경 관리, 패키지 배포 등을 편리하게 수행할 수 있도록 도와줍니다.

## Poetry의 주요 기능

1. **의존성 관리**: Poetry는 프로젝트의 의존성을 관리하는데 도움을 줍니다. `pyproject.toml` 파일을 통해 프로젝트의 의존성을 정의하고, Poetry가 의존 패키지들을 자동으로 설치해줍니다.

2. **환경 관리**: Poetry는 프로젝트의 가상 환경 관리를 지원합니다. Poetry를 통해 쉽게 프로젝트에 대한 독립적인 가상 환경을 생성하고 관리할 수 있습니다.

3. **패키지 배포**: Poetry는 패키지를 간편하게 배포할 수 있는 기능도 제공합니다. `pyproject.toml` 파일에 패키지의 정보와 배포 설정을 작성하고, Poetry의 `build` 명령어를 사용하여 패키지를 빌드하고 배포할 수 있습니다.

## Poetry를 사용한 코드 리팩토링과 개선 예시

가정한 프로젝트의 구조와 코드 예시입니다. 프로젝트는 하나의 패키지와 모듈로 구성되어 있습니다.

```
my_project/
    ├── my_package/
    │   ├── __init__.py
    │   └── my_module.py
    └── pyproject.toml
```

### 1. Poetry 설치

Poetry를 사용하려면 먼저 Poetry를 설치해야 합니다. 터미널에서 다음 명령어를 실행하여 Poetry를 설치하세요.

```bash
$ pip install poetry
```

### 2. 프로젝트 초기화

이제 Poetry를 사용하여 프로젝트를 초기화합니다. 프로젝트 루트 디렉토리에서 다음 명령어를 실행하세요.

```bash
$ poetry init
```

명령어를 실행하면 프로젝트 정보를 입력하는 인터랙티브한 화면이 나타납니다. 프로젝트의 이름, 버전, 패키지 이름 등을 입력합니다.

### 3. 의존성 관리

Poetry를 사용하여 프로젝트의 의존성을 관리할 수 있습니다. 프로젝트 디렉토리에서 다음 명령어를 실행하여 필요한 패키지를 추가할 수 있습니다.

```bash
$ poetry add <package-name>
```

예를 들어, `requests` 패키지를 추가하려면 다음과 같이 실행합니다.

```bash
$ poetry add requests
```

이 명령어는 `pyproject.toml` 파일에 의존성 정보를 자동으로 추가해줍니다.

### 4. 가상 환경

Poetry를 사용하여 프로젝트의 가상 환경을 관리할 수도 있습니다. 가상 환경을 생성하려면 다음 명령어를 실행하세요.

```bash
$ poetry install
```

이 명령어를 실행하면 Poetry는 `pyproject.toml` 파일에 정의된 의존성 패키지들을 자동으로 설치하여 프로젝트의 가상 환경을 준비합니다.

### 5. 코드 리팩토링과 개선 작업

이제 코드 리팩토링과 개선 작업을 수행할 차례입니다. 필요한 변경사항을 코드에 적용하고, Poetry의 가상 환경에서 코드를 실행하여 테스트해보세요.

### 6. 패키지 배포

Poetry를 사용하여 패키지를 배포할 수도 있습니다. `pyproject.toml` 파일에 패키지 정보와 배포 설정을 작성한 후, 다음 명령어를 실행하세요.

```bash
$ poetry build
```

이 명령어는 패키지를 빌드하여 배포 가능한 형식으로 만들어 줍니다.

## 결론

Poetry는 파이썬 프로젝트의 의존성 관리, 가상 환경 관리 및 패키지 배포 등을 쉽게 수행할 수 있는 도구입니다. 코드의 리팩토링과 개선 작업에 필요한 패키지 설치, 가상 환경 설정 등을 편리하게 처리할 수 있어 개발자들에게 많은 도움을 줍니다. Poetry를 사용하여 프로젝트를 개발하고 관리해보세요.

참고: [Poetry 공식 문서](https://python-poetry.org/docs/)