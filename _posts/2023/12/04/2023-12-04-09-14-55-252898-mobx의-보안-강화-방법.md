---
layout: post
title: "[javascript] MobX의 보안 강화 방법"
description: " "
date: 2023-12-04
tags: [javascript]
comments: true
share: true
---

MobX는 React 애플리케이션의 상태 관리를 위한 강력한 라이브러리입니다. 그러나, 모든 애플리케이션에서는 보안이 중요한 요소입니다. MobX를 사용할 때 보안을 강화할 수 있는 몇 가지 방법을 살펴보겠습니다.

## 1. 불변성 유지하기

MobX를 사용할 때에도, 상태의 불변성을 유지하는 것이 중요합니다. 객체의 상태를 변경하면 MobX가 변경 사항을 추적할 수 없게 됩니다. 따라서, 가능하면 상태를 변경하지 말고, 새로운 상태 객체를 생성하는 것이 좋습니다. 불변성을 유지하기 위해 Immutable.js와 같은 라이브러리를 사용할 수도 있습니다.

## 2. 액션 제한하기

MobX에서는 액션(Action)이라는 개념을 사용하여 상태를 변경합니다. 액션은 어떤 코드로도 실행될 수 있으므로, 보안 측면에서는 제한이 필요합니다. 모든 사용자 입력 또는 외부 요청과 같은 액션은 검증되어야 합니다. 이를 위해, MobX의 `@action` 데코레이터를 사용하여 특정 함수들을 액션으로 제한할 수 있습니다.

```javascript
import { action } from 'mobx';

class Store {
  @action
  updateData() {
    // 데이터 업데이트 코드
  }
}
```

위의 예제에서 `updateData()` 함수는 액션으로 제한되어 있습니다. 따라서 다른 코드에서 이 함수를 직접 호출할 수 없으며, 반드시 허용된 경로를 통해서만 호출될 수 있습니다.

## 3. 권한 관리하기

보안을 향상시키기 위해 MobX에서는 사용자의 권한 관리도 중요합니다. 특정 상태나 액션에 접근할 수 있는 권한을 제한하는 것이 필요합니다. 이를 위해, MobX에서는 `autorun` 함수나 `when` 함수와 같은 함수들을 사용하여 특정 조건을 만족해야만 상태 변경이 가능하도록 할 수 있습니다.

```javascript
import { autorun } from 'mobx';

let userRole = 'guest';

autorun(() => {
  if (userRole === 'admin') {
    // 특정 상태 변경 코드
  }
});
```

위의 예제에서 `autorun` 함수는 사용자의 역할이 'admin'일 때에만 상태를 변경할 수 있습니다. 따라서 보안을 강화하기 위해 권한 관리를 철저히 해야 합니다.

## 4. 외부 라이브러리 적용하기

항상 모든 보안 이슈를 직접 해결할 수는 없습니다. 따라서, MobX와 함께 사용할 수 있는 보안 관련 외부 라이브러리를 찾아보는 것도 좋은 방법입니다. 예를 들어, XSS(Cross-Site Scripting) 공격 방지를 위해 DOMpurify와 같은 라이브러리를 사용할 수 있습니다.

## 5. 업데이트와 패치 관리하기

MobX는 상태의 변경 사항을 감지하고, 자동으로 뷰를 업데이트합니다. 그러나, 뷰의 업데이트가 계속 되면 성능 문제가 발생할 수 있습니다. 따라서 업데이트와 패치 관리를 통해 보안 강화할 수 있습니다. 예를 들어, Debounce나 Throttle과 같은 기법을 사용하여 업데이트를 제한할 수 있습니다.

---

MobX를 사용하여 React 애플리케이션의 상태 관리를 진행하는 동안, 보안을 강화하는 방법을 살펴보았습니다. 이러한 방법들을 적용함으로써 애플리케이션의 보안을 향상시킬 수 있습니다.

더 자세한 내용은 [MobX 공식 문서](https://mobx.js.org/)를 참고하세요.