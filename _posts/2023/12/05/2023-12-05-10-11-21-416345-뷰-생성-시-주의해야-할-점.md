---
layout: post
title: "[sql] 뷰 생성 시 주의해야 할 점"
description: " "
date: 2023-12-05
tags: [sql]
comments: true
share: true
---

뷰(View)는 SQL 데이터베이스에서 가상의 테이블로 사용되는 개체입니다. 뷰를 생성하면 특정 조건에 따라 데이터베이스의 테이블에서 필요한 데이터를 선택적으로 조회할 수 있습니다. 하지만 뷰를 생성할 때 몇 가지 주의해야 할 점이 있습니다. 이번 포스트에서는 뷰를 생성할 때 주의해야 할 사항에 대해 알아보겠습니다.

## 1. 뷰의 기본 테이블 변경

뷰를 생성할 때, 뷰가 기반으로 하는 테이블을 변경하면 뷰의 동작에 영향을 미칠 수 있습니다. 따라서 뷰를 생성한 후에는 해당 테이블의 구조나 데이터를 변경하지 않는 것이 좋습니다. 변경이 필요한 경우, 뷰를 재생성하거나 새로운 뷰를 생성하는 것이 바람직합니다.

## 2. 뷰의 성능

뷰는 쿼리 실행 시점에 뷰의 정의를 참고하여 결과를 생성합니다. 따라서 뷰에 대한 쿼리를 실행하면 실제로는 뷰가 참조하는 테이블의 데이터에 대해 쿼리가 실행됩니다. 이러한 동작은 뷰가 매번 실행될 때마다 오버헤드를 발생시킬 수 있습니다. 따라서 뷰를 사용할 때는 성능에 주의해야 합니다.

## 3. 뷰의 업데이트

뷰는 기본 테이블과 연동되어 있으므로 뷰를 통해 데이터를 수정하는 경우, 실제로는 뷰가 기반으로 하는 테이블의 데이터가 수정됩니다. 하지만 모든 뷰가 업데이트 가능한 것은 아닙니다. 업데이트 가능한 뷰는 다양한 제약 조건을 충족해야 합니다. 따라서 뷰를 사용하여 데이터를 수정하는 경우, 뷰가 업데이트 가능한지 확인하는 것이 중요합니다.

## 4. 뷰의 보안

뷰를 사용하면 특정 조건에 따라 데이터의 일부만 조회할 수 있습니다. 이를 통해 데이터의 일부를 숨기거나 보안을 강화할 수 있습니다. 하지만 뷰가 기반으로 하는 테이블에 대한 쓰기(INSERT, UPDATE, DELETE) 권한이 있다면, 뷰를 통해 해당 테이블의 데이터에 접근하는 것이 가능합니다. 따라서 뷰를 사용하여 데이터의 보안을 강화하기 위해서는 해당 테이블의 권한을 제어하는 것이 중요합니다.

뷰는 유용한 기능이지만, 생성 시 주의해야 할 사항들이 있습니다. 뷰를 사용할 때는 뷰의 기반 테이블을 변경하지 않고, 성능을 고려하며, 업데이트 가능 여부를 확인하고 보안에 주의해야 합니다. 이를 통해 뷰를 효율적으로 활용할 수 있습니다.

> **참고 자료:**  
> - [Oracle Database Documentation: Creating and Managing Views](https://docs.oracle.com/en/database/oracle/oracle-database/19/tdddg/views.html#GUID-BC7CB02C-8F1A-47BC-8A24-9203FEE80ACD)
> - [Microsoft SQL Server Documentation: Create a View](https://docs.microsoft.com/en-us/sql/t-sql/statements/create-view-transact-sql?view=sql-server-ver15)