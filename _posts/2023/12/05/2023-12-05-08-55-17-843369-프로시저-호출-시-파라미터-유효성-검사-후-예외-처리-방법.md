---
layout: post
title: "[sql] 프로시저 호출 시 파라미터 유효성 검사 후 예외 처리 방법"
description: " "
date: 2023-12-05
tags: [sql]
comments: true
share: true
---

프로시저는 데이터베이스 내에서 저장된 SQL 코드의 집합입니다. 프로시저는 여러 개의 파라미터를 가질 수 있으며, 이 파라미터들은 프로시저 내에서 사용되는 값으로 사용됩니다.

프로시저를 호출할 때, 파라미터의 유효성을 검사하는 것은 매우 중요합니다. 유효성 검사를 통해 잘못된 값이 전달되는 것을 방지할 수 있으며, 예외 처리를 통해 오류 상황에 대한 적절한 조치를 취할 수 있습니다.

## 예외 처리 방법

1. 유효성 검사: 프로시저 내에서 파라미터 값의 유효성을 검사해야 합니다. 예를 들어, 숫자 타입의 파라미터가 음수 값을 가질 수 없는 경우, 프로시저 내에서 해당 파라미터의 값이 음수인지를 체크해야 합니다. 유효성 검사를 통해 잘못된 값이 전달되는 것을 사전에 방지할 수 있습니다.

2. 예외 처리: 유효성 검사를 통해 잘못된 값이 발견되면, 적절한 예외를 발생시켜야 합니다. 데이터베이스 시스템은 이 예외를 감지하고 처리할 수 있습니다. 예외 처리는 프로시저 내에서 오류 상황에 대한 적절한 조치를 취할 수 있도록 도와줍니다. 예외 처리를 위해 프로시저 내에 TRY-CATCH 블록을 사용하는 것이 일반적입니다. 오류가 발생하면 TRY 블록에서 CATCH 블록으로 제어가 전달되어 오류 처리 로직을 실행할 수 있습니다.

이와 같은 예외 처리 방법을 사용하여 프로시저 내부에서 파라미터 값의 유효성을 검사하고 예외를 처리함으로써, 데이터베이스 시스템의 안정성을 높일 수 있습니다. 이는 잘못된 값으로 인한 데이터 손실이나 시스템 오류를 방지하는 데 도움이 됩니다.

> **참고 문서**
> - [SQL 프로시저 예외 처리 방법](https://docs.microsoft.com/ko-kr/sql/t-sql/language-elements/try-catch-transact-sql?view=sql-server-ver15) (Microsoft Docs)