---
layout: post
title: "[sql] 뷰와 서브쿼리의 관계"
description: " "
date: 2023-12-05
tags: [sql]
comments: true
share: true
---

뷰(View)와 서브쿼리(Subquery)는 SQL에서 데이터를 처리하거나 조회할 때 유용한 개념입니다. 두 개념은 비슷한 역할을 하지만 약간의 차이가 있습니다.

## 뷰 (View)
뷰는 하나 이상의 테이블로부터 유도된 가상의 테이블입니다. 뷰는 기존의 테이블을 기반으로 데이터를 가공하거나 필요한 컬럼만 선택하여 새로운 가상의 테이블을 만들 수 있습니다. 뷰는 기존의 테이블과 마찬가지로 데이터를 조회, 수정, 삭제할 수 있습니다. 

뷰를 사용하면 다음과 같은 이점을 얻을 수 있습니다:
- 데이터 보안: 테이블의 일부 컬럼만 노출하거나 특정 조건으로 데이터를 필터링하여 사용자에게 제공할 수 있습니다.
- 데이터 가공: 뷰를 사용하여 계산된 컬럼, 조인 등을 수행하여 복잡한 쿼리를 간편하게 작성할 수 있습니다.
- 데이터 일관성: 특정한 비즈니스 규칙 또는 정의된 필터를 적용하여 일관된 데이터를 제공할 수 있습니다.

뷰는 다음과 같이 생성할 수 있습니다:

```sql
CREATE VIEW [뷰명]
AS
SELECT [컬럼1], [컬럼2], ...
FROM [기존 테이블]
WHERE [조건]
```

## 서브쿼리 (Subquery)
서브쿼리는 다른 쿼리 내에 포함된 중첩된 쿼리입니다. 주로 다른 쿼리의 결과에 의존하는 쿼리를 작성할 때 사용됩니다. 서브쿼리를 사용하면 쿼리의 결과를 바탕으로 다른 쿼리를 수행하거나 조건을 설정할 수 있습니다.

서브쿼리는 다음과 같이 사용될 수 있습니다:

```sql
SELECT [컬럼1], [컬럼2], ...
FROM [테이블]
WHERE [컬럼] IN (SELECT [컬럼]
                 FROM [기준 테이블]
                 WHERE [조건])
```

뷰와 서브쿼리 모두 SQL에서 데이터를 다루는 강력한 도구입니다. 뷰는 가상의 테이블로 데이터를 가공하고 필터링하는 데 사용되며, 서브쿼리는 중첩된 쿼리로 다른 쿼리의 결과에 의존하여 작업을 수행하는 데 사용됩니다.

## 참고 자료
- [MySQL 뷰 생성](https://dev.mysql.com/doc/refman/8.0/en/create-view.html)
- [SQL 서브쿼리 사용법](https://www.w3schools.com/sql/sql_subqueries.asp)