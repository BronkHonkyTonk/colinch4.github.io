---
layout: post
title: "[flutter] 플러터 애플리케이션에서의 http_mock_adapter 사용 시 데이터 유출 방지 방법"
description: " "
date: 2023-12-05
tags: [flutter]
comments: true
share: true
---

플러터(Flutter) 애플리케이션을 개발할 때, API 통신을 테스트하거나 개발 중에 많이 사용하는 것이 HTTP 목업 어댑터(http_mock_adapter)입니다. 이는 HTTP 클라이언트를 가짜(mock) 객체로 대체하여 실제 API 통신 없이도 테스트할 수 있게 해줍니다.

하지만, HTTP 목업 어댑터를 사용하는 경우에는 주의해야 할 보안 문제가 있습니다. 목업 어댑터를 사용하면 테스트에 사용되는 데이터가 실제로 네트워크를 통해 유출될 수 있습니다. 이를 방지하기 위해 몇 가지 방법을 소개하겠습니다.

## 1. 테스트 데이터에서 개인 정보 제거

HTTP 목업 어댑터를 사용할 때에는 테스트 데이터에 개인 정보가 포함되지 않도록 주의해야 합니다. 예를 들어, 실제 API 통신을 대체하는 목업 데이터를 작성할 때, 사용자의 개인 정보(예: 이메일 주소, 비밀번호)가 포함된 데이터는 삭제하거나 임의의 값으로 대체해야 합니다. 이렇게 함으로써 개인 정보가 유출되는 것을 방지할 수 있습니다.

## 2. 암호화된 통신 설정

HTTP 목업 어댑터를 사용하는 경우에도 암호화된 통신 설정을 유지해야 합니다. 플러터에서는 `http` 패키지를 사용하여 API 통신을 처리하므로, HTTPS를 사용하는 것이 중요합니다. 목업 어댑터를 사용해도 HTTPS 통신을 유지하면 개인 정보의 유출을 방지할 수 있습니다.

## 3. 테스트용 데이터베이스 또는 서버 사용

개인 정보가 포함된 데이터를 사용하는 경우, 테스트용 데이터베이스 또는 서버를 사용하여 개인 정보의 유출을 방지할 수 있습니다. 테스트 단계에서는 실제 사용자 데이터를 사용하지 않고, 테스트용 데이터베이스나 서버를 통해 테스트용 계정 및 데이터를 생성하고 사용하는 것이 좋습니다.

## 4. 실제 API 키를 사용하지 않음

실제 API 호출을 대체하는 경우, 실제 API 키를 사용하지 않도록 주의해야 합니다. 목업 어댑터에 실제 API 키를 노출시키면 악의적인 공격자가 해당 키를 훔쳐 실제 API를 남용할 수 있습니다. 목업 데이터나 더미 데이터를 사용하거나, 테스트용 API 키를 따로 발급하여 사용하는 것이 좋습니다.

## 결론

플러터 애플리케이션에서 HTTP 목업 어댑터를 사용할 때에는 데이터 유출 방지를 위해 주의해야 합니다. 개인 정보가 포함된 데이터를 사용하지 않도록 주의하고, 암호화된 통신을 지원하고, 테스트용 데이터베이스나 서버를 사용하며, 실제 API 키를 노출시키지 않도록 해야 합니다. 이러한 조치들을 취하면 안전한 플러터 앱 개발을 보장할 수 있습니다.

> 참고 문서:
> - [http_mock_adapter 패키지](https://pub.dev/packages/http_mock_adapter)
> - [플러터 공식 문서](https://flutter.dev/)
> - [Dart 언어 공식 문서](https://dart.dev/)