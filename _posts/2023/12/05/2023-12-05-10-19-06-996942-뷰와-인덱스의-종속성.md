---
layout: post
title: "[sql] 뷰와 인덱스의 종속성"
description: " "
date: 2023-12-05
tags: [sql]
comments: true
share: true
---

데이터베이스에서 뷰(View)와 인덱스(Index)는 중요한 개념입니다. 이 두 요소는 데이터베이스의 성능과 유지보수에 영향을 주는데, 그 중요성을 이해하기 위해서는 뷰와 인덱스의 종속성에 대해서 알아야 합니다.

## 뷰(View)

뷰는 하나 이상의 테이블로부터 유도된 가상의 테이블입니다. 즉, 뷰는 기존의 테이블을 기반으로 필요한 열(컬럼)들을 선택하거나 특정 조건에 맞는 행(로우)들을 선택하여 새로운 테이블을 만드는 것입니다. 특정 사용자가 자주 필요로 하는 데이터를 미리 정의된 뷰로 만들어 놓으면, 사용자는 이 뷰를 통해 데이터를 조회하고 처리할 수 있습니다.

뷰는 기본 테이블에 의존적입니다. 즉, 뷰는 기반 테이블의 스키마가 변경되면 자동으로 업데이트되며, 기반 테이블이 삭제되면 뷰도 함께 삭제됩니다. 또한, 뷰를 통해 데이터를 수정하면 실제 기반 테이블의 데이터도 동시에 변경됩니다. 이러한 종속성은 데이터 일관성을 유지하기 위해 중요합니다.

## 인덱스(Index)

인덱스는 테이블의 데이터를 빠르게 검색하기 위한 데이터 구조입니다. 인덱스는 특정 열(컬럼) 또는 열들의 조합에 대한 정렬된 데이터를 갖고 있으며, 이를 통해 데이터베이스 엔진은 효율적인 검색을 수행할 수 있습니다. 인덱스는 SELECT 쿼리의 성능을 향상시키고, 특정 열에 대한 정렬 작업을 최소화하여 데이터베이스의 응답 시간을 단축시킵니다.

인덱스는 기본 테이블에 종속적입니다. 즉, 기반 테이블에 데이터가 추가, 수정, 삭제되면 인덱스도 함께 업데이트되어야 합니다. 만약 인덱스를 잘못 설계하거나 관리하지 않을 경우, 데이터베이스의 성능에 부정적인 영향을 미칠 수 있습니다.

## 뷰와 인덱스의 종속성

뷰와 인덱스는 모두 기반 테이블에 종속적입니다. 그러므로 뷰나 인덱스가 기반 테이블에 대한 종속성을 갖는다는 것은, 기반 테이블이 변경되면 뷰와 인덱스도 함께 변경되어야 한다는 의미입니다. 

만약 뷰에 대한 기반 테이블의 스키마가 변경되면, 뷰는 스키마에 맞게 업데이트되어야 합니다. 또한, 뷰에 대한 기반 테이블이 삭제되면 뷰도 함께 삭제되어야 합니다.

인덱스의 경우에도 기반 테이블에 데이터가 추가, 수정, 삭제되었을 경우, 인덱스는 업데이트되어야 합니다. 인덱스를 잘못 설계하거나 관리하지 않으면 데이터베이스의 성능에 영향을 미칠 수 있으므로, 주의가 필요합니다.

## 결론

뷰와 인덱스는 데이터베이스에서 중요한 개념으로, 둘 다 기반 테이블에 종속적입니다. 뷰는 기반 테이블의 스키마에 의존하여 업데이트되고, 기반 테이블이 삭제되면 뷰도 함께 삭제됩니다. 인덱스는 기반 테이블의 데이터에 의존하여 업데이트되어야 하며, 인덱스의 잘못된 설계나 관리는 데이터베이스의 성능에 영향을 줄 수 있습니다. 따라서, 뷰와 인덱스를 적절히 활용하여 데이터베이스의 성능을 향상시키는 것이 중요합니다.

[출처: Microsoft SQL Docs](https://docs.microsoft.com/en-us/sql/relational-databases/indexes/indexes?view=sql-server-ver15)