---
layout: post
title: "[swift] 스레드 동기화 기법의 장단점 비교"
description: " "
date: 2023-12-05
tags: [swift]
comments: true
share: true
---

스레드 동기화는 다중 스레드 환경에서의 데이터 접근과 조작을 조정하는 중요한 개념입니다. 이 문서에서는 스레드 동기화를 위해 사용되는 몇 가지 주요한 기법들을 살펴보고, 각각의 장점과 단점을 비교해보겠습니다.

## 1. 뮤텍스 (Mutex)

뮤텍스는 락(락 상태와 언락 상태)을 사용하여 공유 자원에 대한 동기화를 달성하는 가장 기본적인 동기화 기법입니다. 뮤텍스를 사용하면 한 번에 한 스레드만이 락을 소유할 수 있으므로, 공유 자원에 대한 안전한 접근이 가능합니다.

장점:
- 단일 스레드가 락을 소유하는 동안에만 공유 자원에 대한 접근이 가능하기 때문에, 경쟁 조건을 방지할 수 있습니다.
- 해제되기 전까지 다른 스레드가 락을 얻을 수 없기 때문에, 재진입 가능한 락을 사용할 때 데드락을 예방할 수 있습니다.

단점:
- 뮤텍스를 사용하면 한 번에 하나의 스레드만이 공유 자원에 접근할 수 있기 때문에, 성능이 저하될 수 있습니다.
- 잘못된 사용으로 인해 데드락이 발생할 수 있습니다.

## 2. 세마포어 (Semaphore)

세마포어는 공유 자원에 대한 접근 제어를 위해 카운터를 사용하는 동기화 기법입니다. 세마포어는 일정한 수의 스레드만이 동시에 접근할 수 있도록 제한함으로써 조율합니다.

장점:
- 여러 개의 스레드가 동시에 공유 자원에 접근할 수 있기 때문에, 병렬성을 높일 수 있습니다.
- 접근 제한을 설정하여 우선순위를 부여함으로써 특정 스레드들의 동작을 제어할 수 있습니다.

단점:
- 카운터 값에 대한 메모리 액세스가 동시에 발생할 수 있기 때문에, 성능이 저하될 수 있습니다.
- 잘못된 사용으로 인해 데드락이 발생할 수 있습니다.

## 3. 조건 변수 (Condition Variable)

조건 변수는 특정 조건이 충족될 때까지 스레드의 실행을 지연시키는 동기화 기법입니다. 조건 변수는 락과 함께 사용되어 공유 자원의 상태 변화를 감지하고, 스레드들이 진입 조건을 만족할 때까지 대기하도록 합니다.

장점:
- 특정 조건이 충족될 때까지 스레드의 실행을 지연시킬 수 있기 때문에, 효율적인 리소스 관리가 가능합니다.
- 조건 변수를 이용하여 스레드의 실행 순서를 제어할 수 있습니다.

단점:
- 잘못된 사용으로 인해 데드락이 발생할 수 있습니다.
- 조건 변수를 사용하는 동안 다른 스레드가 락을 소유하지 못하도록 조심해야 합니다.

## 4. Read-Write Lock

Read-Write Lock은 공유 자원의 읽기와 쓰기를 별도로 제어하는 동기화 기법입니다. 읽기와 쓰기는 서로 다른 스레드들 간에 충돌이 없기 때문에, 읽기 연산 동안에는 여러 스레드가 동시에 접근할 수 있습니다.

장점:
- 여러 개의 스레드가 읽기 연산을 병행할 수 있기 때문에, 성능을 향상시킬 수 있습니다.
- 쓰기 연산이 발생하는 경우에는 단 하나의 스레드만이 접근할 수 있기 때문에, 데이터 일관성을 보장할 수 있습니다.

단점:
- 락을 얻기 위해 대기하는 시간이 길어질 수 있습니다.
- Read-Write Lock은 단일 스레드가 쓰고 나서 반드시 락을 해제해야 한다는 점을 유의해야 합니다.

이들 스레드 동기화 기법의 장단점을 비교해보면, 어떤 기법을 선택해야 할지 결정할 수 있습니다. 애플리케이션의 요구 사항과 동시성 제어의 필요성을 고려하여 적절한 스레드 동기화 기법을 선택하도록 합니다.

> 참고 문헌:
> - [Mutex, Semaphore, and Condition Variables - GeeksforGeeks](https://www.geeksforgeeks.org/mutex-vs-semaphore/)
> - [Understanding Read/Write Locks in Swift](https://www.swiftbysundell.com/articles/understanding-read-write-locks-in-swift/)