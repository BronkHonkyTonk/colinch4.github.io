---
layout: post
title: "[javascript] 전역 변수의 오버라이딩과 충돌 문제"
description: " "
date: 2023-12-05
tags: [javascript]
comments: true
share: true
---

전역 변수는 프로그램에서 모든 곳에서 접근 가능한 변수입니다. 하지만 이러한 전역 변수는 오버라이딩과 충돌 문제를 일으킬 수 있습니다. 전역 변수의 오버라이딩은 예기치 않은 동작을 야기할 수 있으며, 다른 부분에서 사용하려는 변수와의 충돌로 인해 결과를 왜곡시킬 수도 있습니다.

## 오버라이딩 문제

전역 변수의 오버라이딩은 다른 지역 변수나 함수에 의해 동일한 이름의 변수가 존재할 때 발생할 수 있습니다. 이런 경우, 전역 변수는 지역 변수에 의해 재정의되어 전역 범위에서 해당 변수에 접근할 때 예상하지 못한 결과를 얻게 됩니다.

아래의 예제를 살펴보겠습니다.

```javascript
var name = "John";

function printName() {
  var name = "Jane";
  console.log(name);  // 출력: "Jane"
}

printName();

console.log(name);  // 출력: "John"
```

위의 코드에서 `name`이라는 전역 변수가 있습니다. 하지만 `printName` 함수 내에서 동일한 이름의 `name` 지역 변수가 선언되고 값을 할당하면 전역 변수는 해당 값을 잃고 혼란스러운 결과를 초래합니다. 함수 내에서 `name`을 출력하면 "Jane"이 출력되지만, 전역 스코프에서 `name`을 출력하면 여전히 "John"이 출력됩니다.

## 충돌 문제

전역 변수는 다른 라이브러리나 프레임워크에서 사용하는 변수와 충돌할 수 있습니다. 다른 라이브러리에서 이미 사용하는 이름을 전역 변수로 선언하면, 예상치 못한 동작이 발생할 수 있고, 더 큰 문제로 이어질 수도 있습니다.

아래의 예제를 살펴보겠습니다.

```javascript
var $ = "My Library";

function printMessage(message) {
  console.log($, message);
}

printMessage("Hello, World!");
```

위의 코드에서 `$`라는 전역 변수가 `"My Library"`로 선언되어 있습니다. 그러나 `$`는 일반적으로 제이쿼리 라이브러리에서 사용되는 이름입니다. 따라서 다른 스크립트에서 제이쿼리를 사용할 경우, 해당 스크립트는 `$`를 제이쿼리 객체로 사용할 것입니다. 결과적으로 `$`를 사용하는 `printMessage` 함수는 원하는 동작이 아닌 예외나 오류를 발생시킬 수 있습니다.

## 해결 방법

전역 변수의 오버라이딩과 충돌 문제를 해결하기 위해 몇 가지 방법이 있습니다.

### 1. 지양하기

전역 변수의 사용을 근본적으로 피하는 것이 가장 좋은 방법입니다. 변수의 범위를 가능한한 작게 유지하여 지역 범위에서만 사용하도록 하는 것이 좋습니다. 모듈 시스템을 사용하거나 클래스와 같은 개념을 도입하여 변수의 범위를 분리하는 것도 도움이 됩니다.

### 2. 네임스페이스 사용

전역 네임스페이스 객체를 사용하여 변수와 함수를 그룹화할 수 있습니다. 이렇게 하면 전역 스코프 내에서 충돌이 발생하지 않고 변수와 함수에 접근할 수 있습니다.

```javascript
var myLibrary = {};

myLibrary.name = "My Library";

myLibrary.printMessage = function(message) {
  console.log(myLibrary.name, message);
};

myLibrary.printMessage("Hello, World!");
```

위의 코드에서 `myLibrary`라는 전역 객체를 사용하여 변수와 함수를 포함시켰습니다. 이렇게 하면 `$`와 같은 변수와의 충돌 문제를 방지할 수 있습니다.

### 3. IIFE 사용

즉시 실행 함수 표현식(IIFE)은 전역 스코프 내에서 작업을 수행하는 동시에 외부에서 접근하지 못하도록 만듭니다. 변수들은 IIFE 내부에서 정의되며, 이를 통해 전역 변수와 충돌하는 것을 방지할 수 있습니다.

```javascript
(function() {
  var name = "My Library";

  function printMessage(message) {
    console.log(name, message);
  }

  printMessage("Hello, World!");
})();
```

IIFE를 사용하면 코드를 모듈화하고 전역 변수의 오버라이딩과 충돌을 피할 수 있습니다.

## 결론

전역 변수의 오버라이딩과 충돌 문제는 프로그램에서 예기치 못한 동작과 오류를 야기할 수 있습니다. 이러한 문제를 해결하기 위해 전역 변수 사용을 최소화하고, 네임스페이스를 사용하거나 IIFE와 같은 방법을 적용하는 것이 좋습니다. 주의 깊게 관리함으로써 코드의 가독성과 유지 보수성을 향상시킬 수 있습니다.