---
layout: post
title: "[sql] 뷰의 업데이트 및 삭제 제한"
description: " "
date: 2023-12-05
tags: [sql]
comments: true
share: true
---

## 들어가기 전에
SQL에서 뷰(View)는 하나 이상의 테이블로부터 가져온 결과를 가상의 테이블로 나타내는 개념입니다. 뷰를 사용하면 여러 테이블을 합쳐서 하나의 테이블처럼 다룰 수 있고, 데이터를 노출하지 않고도 일부 데이터에 접근하도록 제한할 수 있습니다. 

하지만 뷰는 원본 테이블에 대한 가상의 테이블이므로, 뷰를 통해 데이터를 조회하는 것은 가능하지만 뷰를 통해 데이터를 직접 업데이트하거나 삭제하는 것은 제한됩니다. 이번 글에서는 뷰의 업데이트 및 삭제가 제한되는 이유와 어떻게 제한되는지 알아보겠습니다.

## 뷰의 업데이트 제한
뷰를 통한 업데이트는 일반적으로 제한됩니다. 뷰는 하나 이상의 테이블을 기반으로 만들어진 가상의 테이블이지만, 실제 데이터는 원본 테이블에 저장되어 있습니다. 따라서 뷰를 통해 업데이트하는 것은 실제로 원본 테이블을 업데이트하는 것과 동일한 작업입니다. 

만약 뷰를 통해 업데이트를 허용한다면, 뷰의 정의를 수정해야 하고 뷰와 연결된 여러 테이블의 데이터 무결성을 유지하기 어렵게 됩니다. 따라서 일반적으로 뷰를 통한 업데이트는 제한되는 것이 일반적입니다.

## 뷰의 삭제 제한
뷰를 삭제하는 것 역시 제한됩니다. 뷰는 원본 테이블로부터 생성된 가상의 테이블이므로, 뷰가 삭제된다고 해서 원본 테이블이 삭제되지는 않습니다. 다만, 뷰를 삭제하면 해당 뷰에 대한 접근 권한이 사라지는 것이기 때문에 뷰를 통해 데이터에 접근할 수 없게 됩니다.

만약 뷰를 삭제하면 연결된 다른 객체들도 영향을 받을 수 있습니다. 예를 들어, 다른 뷰가 삭제한 뷰를 참조하고 있다면 해당 뷰는 참조 에러가 발생하게 됩니다.

## 뷰의 제한 우회하기
뷰의 업데이트 및 삭제 제한은 일반적으로 데이터 무결성을 유지하고 보안을 강화하기 위해 필요한 제약 조건입니다. 하지만 특정 상황에서는 뷰의 제한을 우회해야 할 수도 있습니다.

뷰의 업데이트를 우회하기 위해서는 원본 테이블에 대한 직접 업데이트를 수행해야 합니다. 뷰가 참조하는 테이블의 열을 수정하면 뷰를 통해 조회할 때 업데이트된 결과를 볼 수 있게 됩니다. 마찬가지로 뷰의 삭제를 우회하기 위해서는 해당 뷰가 참조하는 테이블에 대한 접근 권한을 얻어야 합니다.

하지만 이러한 우회 방법은 데이터 무결성을 위협할 수 있으므로 신중하게 사용해야 합니다.

## 결론
뷰는 원본 테이블에 대한 가상의 테이블이므로, 뷰를 통해 데이터를 업데이트하거나 삭제하는 것은 제한됩니다. 이러한 제한은 데이터 무결성을 유지하고 보안을 강화하기 위해 필요한 것입니다. 그러나 특정 상황에서는 뷰의 제한을 우회할 수 있지만, 신중하게 사용해야 합니다.

## 참고 자료
- [Oracle 뷰(View) 제한](https://docs.oracle.com/en/database/oracle/oracle-database/19/sqlrf/Restrictions-on-Updatable-Views.html)
- [MySQL 뷰(View) 제한](https://dev.mysql.com/doc/refman/8.0/en/view-updatability.html)