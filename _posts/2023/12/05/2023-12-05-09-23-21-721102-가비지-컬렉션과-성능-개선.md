---
layout: post
title: "[javascript] 가비지 컬렉션과 성능 개선"
description: " "
date: 2023-12-05
tags: [javascript]
comments: true
share: true
---

자바스크립트는 가비지 컬렉션(Garbage Collection)을 사용하여 메모리를 관리합니다. 가비지 컬렉션은 프로그램에서 더 이상 사용되지 않는 메모리를 식별하고 해제하여 재사용 가능한 메모리 영역을 유지합니다. 하지만 가비지 컬렉션에는 성능 문제가 있을 수 있습니다. 이번 글에서는 가비지 컬렉션의 동작과 성능 개선 방법에 대해 알아보겠습니다.

## 가비지 컬렉션의 동작

가비지 컬렉션은 다음과 같은 단계를 거쳐 동작합니다.

1. **Mark**: 가비지 컬렉터가 모든 객체를 순회하며 사용중인 객체를 마킹합니다.
2. **Sweep**: 마킹되지 않은 객체는 사용되지 않는 객체로 간주하고 메모리에서 해제합니다.
3. **Compact**: 사용된 객체들을 메모리 상에서 조각으로 나눠 정리합니다.

이러한 과정은 자동으로 이루어지며, 개발자는 직접적으로 관여할 수 없습니다.

## 가비지 컬렉션의 성능 문제

가비지 컬렉션은 대부분의 경우에는 효율적으로 동작하지만, 다음과 같은 경우에 성능 문제가 발생할 수 있습니다.

1. **메모리 누수**: 객체가 더 이상 필요하지 않은데도 참조되고 있는 경우, 해당 객체는 가비지 컬렉션에 의해 해제되지 않습니다. 이로 인해 메모리 누수가 발생하고, 시스템 성능이 저하될 수 있습니다.
2. **가비지 컬렉션의 오버헤드**: 가비지 컬렉션의 과정은 메모리를 순회하고 마킹하는 작업을 필요로 합니다. 이 작업은 CPU와 메모리 리소스를 소모하기 때문에, 큰 규모의 객체들이 많은 양의 메모리를 차지하는 경우, 가비지 컬렉션에 의한 성능 저하가 발생할 수 있습니다.

## 성능 개선 방법

가비지 컬렉션의 성능을 개선하는 방법은 다양합니다. 

1. **메모리 누수 해결**: 불필요한 객체의 참조를 명시적으로 해제함으로써 메모리 누수를 방지할 수 있습니다. 예를 들어, 이벤트 리스너 등록 시에는 적절한 시점에 리스너를 제거해주는 것이 중요합니다.
2. **객체 풀링**: 일부 객체들은 반복적으로 생성되고 삭제되는 경우가 많습니다. 이러한 객체들을 미리 생성해놓고 재사용하는 객체 풀링(Object Pooling) 기법을 사용하여 가비지 컬렉션의 부담을 줄일 수 있습니다.
3. **성능 최적화**: 가비지 컬렉션의 오버헤드를 줄이기 위해, GC-friendly한 코딩 패턴을 사용하는 것이 좋습니다. 예를 들어, 큰 규모의 객체나 메모리를 많이 사용하는 객체를 사용하는 경우, 객체를 적절히 분할하여 작은 단위로 나누는 것이 성능 개선에 도움이 될 수 있습니다.

## 결론

가비지 컬렉션은 자바스크립트의 중요한 기능 중 하나입니다. 적절한 가비지 컬렉션의 이해와 성능 개선 방법을 적용하여 메모리 관리를 효율적으로 수행할 수 있습니다. 메모리 누수와 가비지 컬렉션의 오버헤드에 대한 문제를 주의하며, 성능 최적화를 위해 앞서 언급한 방법들을 활용해보세요.

---

**참고자료**
- [JavaScript Memory Management](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Memory_Management)
- [Garbage Collection in JavaScript](https://javascript.info/garbage-collection)
- [Memory Management and Performance](https://v8.dev/docs/resourc...)