---
layout: post
title: "[sql] 뷰의 개념과 목적"
description: " "
date: 2023-12-05
tags: [sql]
comments: true
share: true
---

## 뷰란 무엇인가?
뷰(View)는 데이터베이스에서 자주 사용하는 쿼리를 미리 정의하여 하나의 가상 테이블로 만든 것입니다. 기존의 테이블에서 원하는 컬럼만 선택하여 필요한 데이터를 조회하고, 필요한 조건과 정렬 등의 처리를 미리 수행할 수 있습니다. 뷰는 테이블과 마찬가지로 데이터베이스에 저장되지만, 실제 데이터를 가지는 것이 아니라 쿼리를 실행하여 결과를 동적으로 반환하는 것입니다.

## 뷰의 목적은 무엇인가?
뷰는 다음과 같은 목적으로 사용될 수 있습니다:

1. 데이터 보안: 뷰를 사용하여 사용자에게 필요한 데이터만 노출하고, 중요한 데이터의 접근을 제한할 수 있습니다. 기밀성이 높은 데이터를 숨기거나 특정 컬럼을 제외하거나 가상의 데이터를 생성할 수 있습니다.

2. 데이터의 일관성 유지: 여러 개의 테이블에 분산되어 있는 데이터를 뷰를 통해 하나로 통합하여 사용할 수 있습니다. 뷰에 대한 쿼리를 통해 복잡한 조인이나 계산을 한 번에 처리할 수 있으며, 개발자는 중복 코드를 작성하지 않고도 일관된 결과를 얻을 수 있습니다.

3. 쿼리 간소화: 뷰를 사용하면 복잡한 쿼리를 단순화할 수 있습니다. 자주 사용하는 쿼리를 뷰로 정의하고, 필요할 때마다 해당 뷰를 쿼리하여 간단하게 결과를 얻을 수 있습니다. 뷰는 쿼리의 재사용성을 높여 개발 시간을 단축시킬 수 있습니다.

## 뷰의 사용법
뷰는 `CREATE VIEW` 문을 사용하여 생성할 수 있습니다. 뷰를 생성할 때는 원하는 컬럼을 선택하고, 필요한 조건과 정렬 등을 포함한 쿼리를 작성해야 합니다. 뷰가 생성되면 기존의 테이블처럼 사용할 수 있습니다.

```sql
CREATE VIEW view_name AS
SELECT column1, column2, ...
FROM table
WHERE conditions;
```

뷰를 사용할 때는 다음과 같이 `SELECT` 문에서 뷰의 이름을 사용하여 데이터를 조회할 수 있습니다.

```sql
SELECT * FROM view_name;
```

## 뷰의 제약사항
뷰를 생성할 때는 몇 가지 제약사항을 고려해야 합니다:

1. 뷰는 다른 뷰나 테이블에 기초하여 생성될 수 있습니다.
2. 뷰는 가상의 테이블이므로 기본 테이블의 데이터가 변경되면 자동으로 업데이트되는 것이 아니라, 재쿼리를 실행해야 합니다.
3. 뷰는 일부 데이터를 가상으로 생성하는 경우에도 사용할 수 있지만, 수정 또는 삭제 연산은 할 수 없습니다.
4. 뷰에는 primary key 제약이나 unique 제약이 없습니다.
5. 뷰에는 자체적으로 인덱스를 생성할 수 없으므로, 기본 테이블에 정의된 인덱스를 사용합니다.

## 마무리
뷰는 데이터베이스에서 자주 사용하는 쿼리를 미리 정의하여 일관된 결과를 가져오고, 데이터 보안과 일관성 유지를 위해 유용한 도구입니다. 쿼리의 재사용성을 높이고 개발 시간을 단축시킬 수 있으며, 복잡한 쿼리를 단순화할 수 있습니다. 하지만 뷰의 제약사항을 고려하여 적절하게 사용해야 합니다.