---
layout: post
title: "[sql] 집계 함수를 사용한 서브쿼리"
description: " "
date: 2023-12-11
tags: [sql]
comments: true
share: true
---

SQL에서 서브쿼리(subquery)는 다른 쿼리 안에 포함된 쿼리입니다. 서브쿼리를 사용하여 특정 조건을 만족하는 데이터를 세부적으로 조회하거나 집계 함수를 활용하여 데이터를 계산할 수 있습니다. 집계 함수를 사용한 서브쿼리는 데이터 속성에 대한 요약 정보를 얻는 데 유용합니다.

## 집계 함수를 사용한 서브쿼리의 예시

보다 구체적인 이해를 돕기 위해 아래에 예시를 제시합니다.

```sql
SELECT department, avg(salary)
FROM employees
WHERE salary > (SELECT avg(salary) FROM employees)
GROUP BY department;
```

위의 쿼리는 `employees` 테이블에서 각 부서별로 평균 급여가 전체 평균 급여보다 높은 경우에 대해 부서명과 평균 급여를 반환합니다.

## 서브쿼리의 활용

서브쿼리를 사용하면 데이터를 세분화하여 필요한 정보를 추출할 수 있습니다. 또한 집계 함수와 함께 사용하면 특정 조건을 만족하는 데이터에 대한 요약 정보를 효과적으로 얻을 수 있습니다.

서브쿼리의 성능을 향상시키기 위해 인덱스를 적절하게 활용하거나 질의문을 최적화하는 방법들을 찾아보는 것이 중요합니다.

서브쿼리와 집계 함수를 조합하여 데이터 속성에 대한 다양한 요약 정보를 추출하고 분석함으로써 유의미한 의사결정에 도움을 줄 수 있습니다.

이상으로 SQL에서 집계 함수를 사용한 서브쿼리에 대해 알아보았습니다.