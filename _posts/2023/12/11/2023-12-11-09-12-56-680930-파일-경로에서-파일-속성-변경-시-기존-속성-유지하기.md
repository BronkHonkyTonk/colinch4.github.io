---
layout: post
title: "[go] 파일 경로에서 파일 속성 변경 시 기존 속성 유지하기"
description: " "
date: 2023-12-11
tags: [go]
comments: true
share: true
---

## 파일 속성 변경

파일 속성을 변경하기 위해서는 Go의 `os` 패키지와 `FileInfo` 인터페이스를 사용할 수 있습니다. 파일 속성에는 파일의 권한, 소유자, 생성일 등이 포함됩니다. 이러한 속성을 변경하려면 파일의 메타데이터를 읽어와야 합니다.

가장 먼저 파일의 메타데이터를 읽어오는 방법은 다음과 같습니다.

```go
package main

import (
	"log"
	"os"
)

func main() {
	fileInfo, err := os.Stat("file.txt")
	if err != nil {
		log.Fatal(err)
	}

	// 파일 정보 출력
	log.Println("파일 속성:", fileInfo.Mode())
}
```

위 예제에서는 `os.Stat` 함수를 사용하여 `file.txt`의 `FileInfo` 객체를 가져오고, 이를 통해 파일의 권한 정보를 출력합니다.

## 파일 속성 변경 시 기존 속성 유지하기

기존 파일 속성을 유지하면서 새로운 파일 속성을 추가하거나 변경하려면 `os.Chmod` 함수를 사용할 수 있습니다. 이 함수를 사용하면 원하는 속성을 추가하거나 변경할 수 있습니다.

다음은 파일의 속성을 변경하고 기존 속성을 유지하는 예제입니다.

```go
package main

import (
	"log"
	"os"
)

func main() {
	err := os.Chmod("file.txt", 0644) // 새로운 속성 추가 또는 변경
	if err != nil {
		log.Fatal(err)
	}
}
```

위의 예제에서는 `os.Chmod` 함수를 사용하여 `file.txt`의 파일 속성을 변경하고 있습니다. 여기서 0644는 예시로, 새로운 파일 속성에 해당하는 값으로 변경하고자 하는 권한을 지정해야 합니다.

이렇게 함으로써 Go를 사용하여 파일 속성을 변경하고 기존 속성을 유지하는 방법에 대해 알아보았습니다.

많은 시스템에서 파일 속성을 변경하거나 확인할 때 유용한 도구로 사용되며, 파일 시스템과 상호 작용할 때 유용한 도구일 뿐만 아니라, 파일 시스템과 데이터를 다룰 때 안전하게 파일을 다룰 수 있도록 하는 데 도움이 됩니다.