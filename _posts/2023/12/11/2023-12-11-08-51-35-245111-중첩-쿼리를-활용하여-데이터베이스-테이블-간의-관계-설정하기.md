---
layout: post
title: "[sql] 중첩 쿼리를 활용하여 데이터베이스 테이블 간의 관계 설정하기"
description: " "
date: 2023-12-11
tags: [sql]
comments: true
share: true
---

관계형 데이터베이스에서 데이터를 가져오거나 조작하는 작업을 수행할 때, 종종 여러 테이블 간의 관계를 고려해야 합니다. 중첩 쿼리(nested query)는 이러한 관계를 설정하고 다양한 연산을 수행하는 데 유용한 기술입니다.

## 중첩 쿼리란?

중첩 쿼리는 하나의 SQL 문 안에 다른 SQL 문을 포함하는 것을 말합니다. 이를 통해 서브쿼리(subquery)를 사용하여 다른 쿼리의 결과를 포함시키거나 연동시킬 수 있습니다.

예를 들어, 주문 정보와 고객 정보를 함께 조회해야 할 때, 주문 테이블과 고객 테이블 간의 관계를 설정하기 위해 중첩 쿼리를 사용할 수 있습니다.

## 예시

다음은 주문 테이블과 고객 테이블을 활용하여 중첩 쿼리를 작성하는 예시입니다:

```sql
SELECT *
FROM orders
WHERE customer_id IN (SELECT customer_id FROM customers WHERE country = 'Korea');
```

이 쿼리는 `customers` 테이블에서 국가가 'Korea'인 고객들의 ID를 가져와 `orders` 테이블에서 해당 고객들의 주문 정보를 조회합니다.

## 중첩 쿼리의 장점

중첩 쿼리는 데이터베이스 간의 복잡한 관계를 다루는 데 매우 유용합니다. 코드의 가독성과 유지보수성을 향상시키며, 효율적인 데이터 분석 및 처리를 가능하게 합니다.

중첩 쿼리를 사용함으로써 더욱 다양한 데이터베이스 작업을 수행할 수 있으며, 복잡한 비즈니스 요구사항을 만족하는 쿼리를 작성할 수 있습니다.

## 결론

중첩 쿼리는 데이터베이스 테이블 간의 관계를 설정하고 다양한 데이터 분석 작업을 수행하는 데 매우 유용한 기술입니다. 적재적소에 중첩 쿼리를 활용하여 복잡한 데이터베이스 작업을 보다 간편하고 효율적으로 수행할 수 있습니다.

---
참고 문헌:
- https://www.sqlshack.com/sql-subqueries-in-select-statement/
- https://learnsql.com/blog/sql-subqueries/