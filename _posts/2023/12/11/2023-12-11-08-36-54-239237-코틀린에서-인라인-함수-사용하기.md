---
layout: post
title: "[kotlin] 코틀린에서 인라인 함수 사용하기"
description: " "
date: 2023-12-11
tags: [kotlin]
comments: true
share: true
---

코틀린에서는 `inline` 키워드를 사용하여 함수를 인라인화할 수 있습니다. 이는 함수 호출을 코틀린 컴파일러가 해당 함수의 본문으로 대체함으로써 호출 오버헤드를 줄여 성능을 최적화하는 방법입니다. 인라인 함수는 기본적으로 내부적으로 함수 본문을 호출하는 위치에 함수 내용을 전부 그대로 복사해 넣는 것이므로, 함수 호출에 따른 오버헤드를 줄일 수 있습니다.

## 인라인 함수 작성하기

코틀린에서 인라인 함수를 작성하려면 해당 함수 선언 앞에 `inline` 키워드를 사용하면 됩니다.

```kotlin
inline fun calculateResult(a: Int, b: Int): Int {
    return a + b
}
```

위의 코드에서 `calculateResult` 함수는 `inline` 키워드로 인라인화 되었습니다. 이제 해당 함수가 호출될 때 함수 본문이 그대로 호출 위치에 복사되어 실행됩니다.

## 인라인 함수 사용하기

인라인 함수를 호출할 때는 일반 함수 호출과 같이 호출하면 됩니다. 컴파일러는 해당 함수가 인라인 함수이며 그에 따른 최적화를 수행합니다.

```kotlin
fun main() {
    val result = calculateResult(3, 5)
    println("결과는 $result 입니다.")
}
```

위의 코드에서 `calculateResult` 함수가 호출될 때 인라인 함수로 선언되어 있으므로, 해당 호출 위치에 함수 본문이 복사되어 최종적으로 실행됩니다.

## 언제 인라인 함수를 사용해야 하는가?

- 함수가 매우 짧은 경우에 인라인 함수를 사용하면 호출 오버헤드를 줄일 수 있습니다.
- 함수가 고차 함수로 사용될 때 (예: 람다를 인자로 받는 경우) 인라인 함수를 사용하면 함수 객체가 생성되는 오버헤드를 줄일 수 있습니다.

따라서 함수가 간단하고 호출되는 빈도가 높은 경우, 특히 고차 함수로 사용될 때에는 인라인 함수를 고려해볼만 합니다.

코틀린에서 인라인 함수를 사용하여 성능을 최적화하는 방법을 알아보았습니다. 해당 기능을 활용하여 많은 함수 호출을 최적화 할 수 있습니다.