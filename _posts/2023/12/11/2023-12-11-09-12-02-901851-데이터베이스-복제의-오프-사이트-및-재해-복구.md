---
layout: post
title: "[sql] 데이터베이스 복제의 오프 사이트 및 재해 복구"
description: " "
date: 2023-12-11
tags: [sql]
comments: true
share: true
---

본문은 데이터베이스 복제에 대한 이해와 오프 사이트 복제, 재해 복구에 대해 설명합니다.

## 복제의 개념

데이터베이스 복제는 원본 데이터베이스의 사본을 생성하여 여러 서버에 복제함으로써 데이터의 가용성과 확장성을 향상시키는 기술입니다. 주로 고가용성, 성능 향상, 오프 사이트 및 재해 복구를 위해 활용됩니다.

## 데이터베이스 오프 사이트 복제

오프 사이트 복제는 주요 데이터 센터 외에 추가적인 데이터 센터에 데이터의 복사본을 유지하는 것을 의미합니다. 주요 데이터 센터에 재해가 발생했을 때 비즈니스 연속성을 확보하기 위해 필요한 방식이며, 일반적으로 전역적으로 데이터 구성을 유지하는데 사용됩니다.

### 데이터베이스 복제 방식

#### 1. 스냅샷 복제
스냅샷 복제는 특정 시점의 데이터베이스 복사본을 가져와서 복제하는 방식입니다. 이 방식은 주로 대용량 데이터의 초기 복제나 변경 사항이 많지 않은 경우에 유용합니다.

```sql
CREATE DATABASE 복사본명 AS SNAPSHOT OF 원본DB;
```

#### 2. 로그 복제
로그 복제는 트랜잭션 로그를 사용하여 변경 사항을 계속해서 복제하는 방식입니다. 이 방식은 변경 사항이 많은 OLTP(On-Line Transaction Processing) 환경에서 유용합니다.

```sql
RESTORE LOG 원본DB FROM 디스크='로그파일경로' TO 디스크='복사본DB';
```

## 재해 복구

재해 복구는 재해로 인해 중단된 시스템을 복구하는 과정을 말합니다. 데이터베이스 복제는 이러한 상황에서 신속한 복구를 지원하며 온라인 트랜잭션 로그를 통한 지속적인 데이터 동기화를 제공하여 중요한 업무 연속성을 유지할 수 있습니다.

## 결론

데이터베이스 복제는 오프 사이트 및 재해 복구를 위해 중요한 기술로, 올바른 복제 방식을 선택하여 시스템의 가용성을 향상시키고 중단 시간을 최소화하는 것이 중요합니다.

**참고 문헌:**
- "Pro SQL Server Always On Availability Groups" by Uttam Parui
- "Disaster Recovery Principles and Practices" by Harwell Thrasher