---
layout: post
title: "[python] 예외 처리의 성능과 관련된 주의사항"
description: " "
date: 2023-12-11
tags: [python]
comments: true
share: true
---

파이썬에서 예외 처리는 프로그램의 안정성과 가독성을 높여주지만, 잘못된 사용은 성능에 부정적인 영향을 미칠 수 있습니다. 특히, 예외 처리의 오버헤드가 큰 경우 이를 줄이기 위해 다음과 같은 주의사항을 고려해야 합니다.

## 1. 너무 세밀한 예외 처리는 성능에 악영향을 미칠 수 있다

Python에서는 `try`...`except` 구문을 사용하여 예외를 처리합니다. **너무 세밀한 예외 처리는 성능에 부정적인 영향을 미칠 수 있으므로 반드시 필요한 경우에만 사용해야 합니다**. 여러 예외를 처리해야 하는 상황이라면 가장 일반적인 예외를 처리하는 것이 바람직합니다.

예시:
```python
try:
    # 일부 코드
except FileNotFoundError:
    # 파일을 찾을 수 없는 경우의 처리
except PermissionError:
    # 파일에 대한 권한이 없는 경우의 처리
except Exception as e:
    # 그외 예외 처리
```

## 2. 예외 처리를 피할 수 있다면 피하는 편이 좋다

**오류를 발생시키는 상황을 예방할 수 있다면, 예외 처리를 사용하기 보다는 사전에 오류를 방지하는 것이 성능적으로 유리합니다**. 예를 들어, 딕셔너리에서 키가 존재하는지 확인하고 접근하는 것보다 `get()` 메서드를 활용하여 기본값을 반환받아 사용하는 것이 성능상 이점이 있습니다.

예시:
```python
# 키가 존재하는지 확인하고 접근
if 'key' in my_dict:
    value = my_dict['key']

# get() 메서드 활용
value = my_dict.get('key', default_value)
```

## 3. 예외의 종류에 따라 처리 방법을 다르게 할 필요가 있다면 예외 처리 분기를 최소화하라

예외 처리 분기가 많을수록 오버헤드가 증가하므로 **예외의 종류에 따라 처리 방법을 다르게 하는 경우, 예외 처리 분기를 최소화하는 것이 좋습니다**. 이는 성능을 향상시키고 가독성을 높일 수 있습니다.

예시:
```python
try:
    # 일부 코드
except (FileNotFoundError, PermissionError) as e:
    # 파일 오류 처리
except ValueError as e:
    # 값 오류 처리
except Exception as e:
    # 일반적인 예외 처리
```

## 결론

예외 처리는 프로그램의 안정성을 높여주지만, 과도한 사용은 성능에 부정적인 영향을 미칠 수 있습니다. 따라서 적절한 예외 처리 사용 방법을 고려하여 성능과 안정성을 모두 고려한 개발이 필요합니다.

참고문헌:
- [Python 공식 문서 - 예외 처리](https://docs.python.org/3/tutorial/errors.html)