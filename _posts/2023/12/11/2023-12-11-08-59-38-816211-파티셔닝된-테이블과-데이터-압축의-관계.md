---
layout: post
title: "[sql] 파티셔닝된 테이블과 데이터 압축의 관계"
description: " "
date: 2023-12-11
tags: [sql]
comments: true
share: true
---

파티셔닝은 대량의 데이터를 효율적으로 관리하기 위한 방법 중 하나입니다. 특정 기준에 따라 데이터를 분할하여 여러 개의 물리적인 영역으로 나누는 것을 말합니다. 이를 통해 데이터에 대한 접근 및 관리가 향상되고, 일반적으로 성능 향상과 유지보수 용이성이 향상됩니다.

이러한 파티셔닝된 테이블에서 데이터 압축을 적용하는 것은 중요한 고려 사항 중 하나입니다. 데이터 압축은 저장 공간을 절약할 뿐만 아니라 데이터 로딩 및 쿼리 성능에도 긍정적인 영향을 미칠 수 있습니다. 특히, 파티셔닝된 테이블에서 데이터 압축을 사용하면 개별 파티션에 저장되는 데이터 양을 줄이고 따라서 파티션 당 필요한 저장 공간을 줄일 수 있습니다.

## 1. 데이터 압축의 유형

데이터 압축에는 여러 가지 유형이 있지만, 주로 사용되는 압축 기술로는 **행 압축(row-level compression)**과 **컬럼 압축(columnar compression)**이 있습니다.

- 행 압축은 개별 로우 또는 레코드에 적용되는 압축 기술로, 중복 데이터를 제거하거나 비슷한 데이터를 하나의 토큰으로 대체하여 저장 공간을 줄입니다.
- 컬럼 압축은 데이터의 컬럼 레벨에서 압축을 적용하는 것으로, 같은 컬럼에 대한 데이터를 함께 압축하여 저장 공간을 줄입니다.

## 2. 파티셔닝된 테이블에서 데이터 압축의 이점

파티셔닝된 테이블에서 다음과 같은 이점을 제공하는 데이터 압축은 다음과 같습니다.

- **저장 공간 절약**:  각 파티션을 별도로 압축할 수 있으므로, 전체 테이블에 대한 압축보다 더 효과적으로 저장 공간을 절약할 수 있습니다.
- **쿼리 성능 향상**: 압축된 데이터를 조회할 때는 더 적은 디스크 I/O가 필요하므로 쿼리 성능이 향상될 수 있습니다.
- **유지보수 용이성**: 파티션 간의 데이터 이동이나 관리 작업 시, 압축된 데이터는 작업에 소요되는 시간과 비용을 줄여줄 수 있습니다.

## 3. 데이터 압축의 주의사항

파티셔닝된 테이블에서 데이터 압축을 적용할 때 고려해야 할 주의사항은 다음과 같습니다.

- **압축 오버헤드**: 압축 및 압축 해제 작업으로 인한 오버헤드가 있을 수 있으므로, 주기적인 성능 테스트가 필요합니다.
- **쿼리 성능 영향**: 특정 쿼리에 대해 압축된 데이터를 처리하는 데 필요한 추가적인 계산 비용이 발생할 수 있으므로, 쿼리 성능 변화를 주의깊게 모니터링해야 합니다.

## 결론

파티셔닝된 테이블에서 데이터 압축을 이해하고 적절히 활용하면, 저장 공간을 절약하고 데이터 접근 및 관리의 효율성을 증대시킬 수 있습니다. 그러나 데이터의 특성과 시스템 환경에 따른 다양한 요인을 고려하여 적절한 데이터 압축 전략을 수립해야 합니다.

참고 문헌: "Understanding Table, Data, and Compression" (https://docs.oracle.com/cd/E11882_01/server.112/e25523/tables001.htm)