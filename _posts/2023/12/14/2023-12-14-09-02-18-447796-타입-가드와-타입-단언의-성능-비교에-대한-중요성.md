---
layout: post
title: "[typescript] 타입 가드와 타입 단언의 성능 비교에 대한 중요성"
description: " "
date: 2023-12-14
tags: [typescript]
comments: true
share: true
---

타입 언어는 타입 가드와 타입 단언과 같은 기능을 제공하여 코드를 보다 안전하고 견고하게 만들어 줍니다. 그러나 이 두 가지 방법 간에는 성능면에서 차이가 있을 수 있습니다. 따라서 우리는 이러한 차이를 이해하고 적절하게 사용할 수 있는 능력을 가져야 합니다.

## 타입 가드

타입 가드는 런타임에 특정 타입의 값을 체크하고 해당 값이 예상한 타입과 일치하는지 확인하는 기능을 제공합니다. 주로 `typeof`, `instanceof`, 그리고 사용자 정의 함수를 사용하여 구현됩니다. 타입 가드는 더 엄격한 타입 체크를 제공하여 코드의 안전성을 높여줍니다. 

예를 들어, 다음과 같이 `typeof`를 사용하여 문자열을 체크하는 타입 가드를 작성할 수 있습니다.

```typescript
function isString(value: any): value is string {
  return typeof value === 'string';
}
```

## 타입 단언

타입 단언은 컴파일러에게 특정 값이 어떤 타입이라고 명시적으로 알려주는 기능을 제공합니다. 이를 통해 개발자가 컴파일러의 타입 추론을 무시하고 직접 타입을 지정할 수 있습니다. 타입 단언은 코드의 가독성을 높이고 개발자가 의도한 대로 타입을 명시할 수 있도록 도와줍니다.

예를 들어, 다음과 같이 `as` 키워드를 사용하여 문자열로 형변환하는 타입 단언을 작성할 수 있습니다.

```typescript
let someValue: any = 'hello';
let strLength: number = (someValue as string).length;
```

## 성능 비교

타입 가드와 타입 단언을 사용할 때 성능 측면에서는 어떠한 차이가 있을까요? 보통, 타입 가드는 런타임에 동작하여 성능에 영향을 미칠 수 있지만, 타입 단언은 컴파일 시간에만 사용되므로 런타임 성능에는 영향을 주지 않습니다.

따라서 성능이 중요한 상황이라면 타입 단언을 사용하는 것이 더 좋을 수 있습니다. 그러나 코드의 안전성을 우선시해야 하는 경우에는 타입 가드를 사용하는 것이 더 바람직할 수 있습니다.

## 결론

타입 가드와 타입 단언은 모두 코드의 타입 안정성을 높여주는데 중요한 역할을 합니다. 하지만 성능 측면에서는 타입 가드가 런타임에 영향을 미칠 수 있으므로 성능을 중요시하는 경우에는 타입 단언을 사용하는 것이 바람직할 수 있습니다. 개발자는 이러한 차이를 이해하고 적절하게 사용하여 코드를 작성해야 합니다.

[참조](https://www.typescriptlang.org/docs/handbook/advanced-types.html)

---