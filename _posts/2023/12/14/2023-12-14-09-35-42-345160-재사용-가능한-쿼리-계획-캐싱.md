---
layout: post
title: "[sql] 재사용 가능한 쿼리 계획 캐싱"
description: " "
date: 2023-12-14
tags: [sql]
comments: true
share: true
---

SQL 서버에서는 동일한 쿼리를 실행할 때 매번 새로운 실행 계획을 수립하는 것이 아니라, 해당 쿼리의 실행 계획을 캐싱하여 향후 재사용할 수 있습니다. 이를 통해 자원을 절약하고 성능을 향상시킬 수 있습니다.

## 쿼리 실행 계획 캐싱

SQL 서버는 처음 실행되는 쿼리에 대해 실행 계획을 작성하고, 해당 계획을 쿼리 메모리에 저장합니다. 쿼리가 실행될 때마다 SQL 서버는 먼저 쿼리 메모리에서 해당 쿼리의 실행 계획을 검색하고, 이미 캐시되어 있을 경우에는 다시 계획을 작성하지 않고 바로 실행합니다.

## 재사용성의 장점

쿼리 실행 계획을 캐싱함으로써, 동일한 쿼리에 대한 계획을 여러 번 작성하는 오버헤드를 줄일 수 있습니다. 이는 서버의 자원을 효율적으로 활용하고, 응답 시간을 단축시킴으로써 전반적인 시스템 성능을 향상시킵니다.

## 주의사항

쿼리 실행 계획 캐싱은 일반적으로 성능 향상에 도움이 되지만, 일부 상황에서는 실행 계획이 변경되어야 하는 경우도 있습니다. 따라서 적절한 상황에서의 쿼리 실행 계획 캐싱을 위해 유의해야 합니다.

## 결론

SQL 서버의 쿼리 실행 계획 캐싱은 성능 개선과 자원 절약을 위해 중요한 기능입니다. 올바르게 활용하고 관리함으로써 시스템 성능을 향상시키고 사용자 경험을 향상시킬 수 있습니다.

참고자료: 
- [Microsoft - 쿼리 실행 계획 캐싱](https://docs.microsoft.com/ko-kr/sql/relational-databases/performance/cached-query-plans)
- [Real SQL Server - SQL 서버의 쿼리 캐싱과 재사용 가능한 쿼리 계획](https://www.realsa.com/blog/entry/sql-server-caching-and-re-using-query-plans)