---
layout: post
title: "[go] Go 언어의 스케줄러 최적화를 통한 성능 향상"
description: " "
date: 2023-12-14
tags: [go]
comments: true
share: true
---

Go 언어는 강력한 동시성 기능으로 유명한데, 이는 고성능의 스케줄러가 주요 역할을 한다. 스케줄러는 고루틴(goroutine)을 시스템 스레드에 매핑하고, 고루틴 간의 작업을 분배하여 병렬 처리를 가능케 한다. 그러나 고루틴이 많아지면 스케줄러의 부하가 증가하여 전반적인 성능에 영향을 줄 수 있다. 이에 Go 언어의 스케줄러를 최적화하여 성능을 향상시킬 수 있다.

## 1. 동시성과 병렬성 이해하기
Go 언어의 동시성(concurrency)은 동시에 많은 작업을 실행하는 것을 가능케 하며, 병렬성(parallelism)은 실제로 여러 작업이 동시에 실행되는 것을 말한다. 고루틴은 동시성을 다루는 가장 중요한 개념으로, 각각의 고루틴은 별도의 스레드에서 실행되지 않고, 스케줄러에 의해 관리된다.

## 2. 스케줄러의 동작 방식 이해하기
Go 언어의 스케줄러는 M:N 스케줄링 모델을 사용하여 M개의 고루틴을 N개의 OS 스레드에 매핑시킨다. 스케줄러는 고루틴을 생성하고 관리하며, 시스템 콜이나 네트워크 입출력 등의 이벤트가 발생하면 대기 중인 고루틴을 다시 실행 대기 상태로 바꿔준다.

## 3. 스케줄러 최적화를 통한 성능 향상
Go 언어의 스케줄러 최적화를 위해 몇 가지 팁을 적용할 수 있다. **첫째**, `GOMAXPROCS` 환경 변수를 활용하여 고루틴이 사용할 수 있는 최대 CPU 코어 수를 설정할 수 있다. **둘째**, 무한 루프나 블로킹 I/O 같이 오랜 시간 동안 실행되는 고루틴을 모니터링하여 성능에 영향을 미치는 고루틴을 식별하고, 적절히 관리하면서 스케줄러의 부하를 줄일 수 있다. **셋째**, 경합 조건 등의 병렬성 문제를 최소화하여 동기화 오버헤드를 줄이는 것도 중요하다.

Go 언어의 스케줄러 최적화를 통해 동시성과 병렬성을 더욱 효과적으로 다룰 수 있고, 시스템의 성능을 향상시킬 수 있다.

## 참고 자료
- [Golang Blog](https://blog.golang.org/)
- [The Go Programming Language Specification](https://golang.org/ref/spec)