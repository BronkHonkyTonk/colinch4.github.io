---
layout: post
title: "[sql] 복합 인덱스 최적화"
description: " "
date: 2023-12-14
tags: [sql]
comments: true
share: true
---

복합 인덱스(Composite Index)는 여러 열에 대한 인덱스로, 데이터베이스 쿼리의 효율성을 높이는 데 도움을 줄 수 있습니다. 그러나 적절하지 않은 복합 인덱스는 오히려 성능을 저하시킬 수 있으므로, 인덱스를 최적화하는 것이 중요합니다.

## 복합 인덱스 필요성
복합 인덱스는 두 개 이상의 열을 사용하여 데이터를 정렬하고 검색하는 데 유용합니다. 예를 들어, 이름과 성별 열에 각각 인덱스를 생성하는 대신, 이 두 열을 함께 포함한 복합 인덱스를 생성하는 것이 효율적일 수 있습니다.

## 최적의 복합 인덱스 생성
적절한 복합 인덱스를 만들기 위해서는 데이터베이스의 쿼리 및 열에 대한 이해가 필요합니다. *가장 빈번하게 사용되는 조건에 따라* 인덱스 열의 순서를 결정해야 합니다. 또한, 인덱스 열의 크기를 최소화하여 인덱스 성능을 향상시킬 수 있습니다.

다음은 복합 인덱스를 생성하는 예제입니다.

```sql
CREATE INDEX idx_name_gender ON 테이블명 (이름, 성별);
```

## 정확한 인덱스 사용
복합 인덱스를 최적화하는 또 다른 방법은 *정확한 쿼리에 매칭되는 인덱스를 사용하는 것*입니다. 불필요한 인덱스를 사용하지 않도록 주의해야 합니다.

## 결론
복합 인덱스를 올바르게 사용하면 데이터베이스의 성능을 향상시킬 수 있지만, 올바르지 않게 사용하면 오히려 성능을 저하시킬 수 있습니다. 적절한 복합 인덱스 생성 및 관리는 데이터베이스 최적화에 있어 매우 중요합니다.

참고: [MySQL 5.7 Reference Manual - Indexes](https://dev.mysql.com/doc/refman/5.7/en/indexes.html)