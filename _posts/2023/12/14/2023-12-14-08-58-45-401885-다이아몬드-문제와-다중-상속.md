---
layout: post
title: "[c++] 다이아몬드 문제와 다중 상속"
description: " "
date: 2023-12-14
tags: [c++]
comments: true
share: true
---

C++에서 다중 상속은 여러 부모 클래스로부터 상속받는 기능을 의미합니다. 이는 소프트웨어를 재사용하는 강력한 방법이지만 다이아몬드 문제라는 복잡성을 야기할 수 있습니다.

## 다이아몬드 문제(Diamond Problem)

다이아몬드 문제는 다중 상속에서 발생하는 일반적인 문제입니다. 예를 들어, 클래스 A와 B가 모두 클래스 C를 상속한다고 가정해 봅시다. 이후 클래스 D가 A와 B를 모두 상속받게 되면, C의 멤버들에 대한 애매모호한 접근 방법이 발생할 수 있습니다.

이 문제를 해결하기 위해 C++은 가상 상속을 제공합니다. 가상 상속을 통해 다이아몬드 문제를 피할 수 있습니다. 가상 상속은 클래스 계층 구조에서 공통된 기본 클래스들을 한 번만 상속받도록 하는 메커니즘을 제공합니다.

## 다중 상속의 활용

다중 상속은 **인터페이스 상속**과 **구현 상속**이라는 두 가지 사용 방법이 있습니다. **인터페이스 상속**은 순수 가상 함수를 통해 인터페이스를 정의하고, **구현 상속**은 실제 함수 구현을 공유하는 것을 의미합니다.

아래는 다중 상속의 예시입니다.

```c++
class A {
public:
    void doSomething() {
        // 기능 구현
    }
};

class B {
public:
    void doSomethingElse() {
        // 다른 기능 구현
    }
};

class C : public A, public B { 
public:
    // A와 B의 기능 활용
};
```

## 요약

다중 상속은 소프트웨어 재사용성을 높이지만, 다이아몬드 문제와 같은 복잡성을 야기할 수 있습니다. C++에서는 이를 가상 상속을 통해 해결할 수 있습니다. 따라서 다중 상속을 사용할 때에는 주의가 필요합니다.

이는 C++에서의 상속의 복잡성과 유연성을 다룬 문제입니다. 다중 상속을 사용함으로써 코드를 더 유연하게 구성할 수 있지만, 적절한 사용이 중요합니다.

많은 경우에는 인터페이스 기반 설계를 고려하는 것이 유지보수 및 확장성 면에서 더 유리할 수 있습니다.

References:
- http://www.cplusplus.com/doc/tutorial/inheritance/
- https://en.wikipedia.org/wiki/Multiple_inheritance