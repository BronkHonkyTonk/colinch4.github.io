---
layout: post
title: "[c++] C++에서의 뮤텍스 라이브러리 활용"
description: " "
date: 2023-12-08
tags: [c++]
comments: true
share: true
---

C++ 프로그램에서 **뮤텍스**(Mutex)는 **스레드 간의 동기화**를 제어하기 위해 사용되는 **동기화 기법** 중 하나입니다. 뮤텍스는 여러 스레드가 **동시에 공유 자원에 접근하지 못하도록** 하는 데 사용됩니다. 이번 글에서는 C++ 프로그램에서 뮤텍스를 활용하는 방법을 다루겠습니다.

## 1. `<mutex>` 헤더 파일 포함

C++에서 뮤텍스를 사용하기 위해서는 `<mutex>` 헤더 파일을 포함해야 합니다. 이 헤더 파일은 **뮤텍스**와 **락**(Lock) 등을 정의하고 있는 표준 라이브러리이며, 스레드 간의 상호 배제를 구현하는 데 필요한 클래스와 함수를 제공합니다.

```cpp
#include <mutex>
```

## 2. `std::mutex` 클래스 활용

`std::mutex` 클래스는 **스택 기반 뮤텍스**를 제공합니다. 이 클래스를 사용하여 공유 자원에 대한 접근을 제어할 수 있습니다. 

```cpp
std::mutex mtx;
```

## 3. 뮤텍스 락 활용

뮤텍스를 사용하여 공유 자원에 접근하기 전에 **뮤텍스 락**(Mutex Lock)을 획득해야 합니다. 뮤텍스 락은 다음과 같이 **`std::lock_guard`** 클래스를 사용하여 관리할 수 있습니다.

```cpp
void someFunction() {
    std::lock_guard<std::mutex> lock(mtx);
    // 공유 자원에 대한 안전한 접근 코드 작성
}
```

이렇게 함으로써 스레드 간의 공유 자원에 안전하게 접근할 수 있습니다.

## 요약

이번 글에서는 C++에서 뮤텍스 라이브러리를 활용하는 방법에 대해 간략히 살펴보았습니다. 뮤텍스를 사용하여 스레드 간의 동기화를 효과적으로 제어할 수 있으며, **`std::mutex`** 및 **`std::lock_guard`** 등의 클래스와 함수를 활용하여 안전한 다중 스레드 프로그래밍을 구현할 수 있습니다.

더 자세한 내용은 [C++ reference](https://en.cppreference.com/w/cpp/thread/mutex)에서 확인할 수 있습니다.