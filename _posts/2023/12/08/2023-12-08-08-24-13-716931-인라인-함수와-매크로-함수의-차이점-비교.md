---
layout: post
title: "[c++] 인라인 함수와 매크로 함수의 차이점 비교"
description: " "
date: 2023-12-08
tags: [c++]
comments: true
share: true
---

프로그래밍에서 함수는 일련의 코드를 실행하기 위한 독립적인 블록으로 사용됩니다. *인라인 함수*와 *매크로 함수*는 둘 다 코드 실행을 위한 독립적인 단위를 제공하지만, 이 둘은 몇 가지 중요한 차이점이 있습니다.

## 인라인 함수

인라인 함수는 보통 함수 선언 앞에 `inline` 키워드가 붙어있는 함수로, 컴파일러가 함수를 호출하는 코드 부분을 함수의 본문으로 대체하여 실행합니다. 이는 함수 호출에 따른 오버헤드를 줄여주는데 주로 사용됩니다. 

아래는 C++에서 인라인 함수를 정의하는 예제입니다.

```c++
inline int add(int a, int b) {
    return a + b;
}
```

인라인 함수는 함수 호출에 따른 오버헤드를 제거하기 때문에 작은 함수일 때 유용합니다. 그러나 함수가 크거나 복잡하다면, 인라인 함수로 지정하여 대체하는 것이 바람직하지 않을 수 있습니다.

## 매크로 함수

매크로 함수는 소스 코드 안에서 특정한 텍스트를 다른 텍스트로 대체하여 코드를 확장시키는 데 사용됩니다. 매크로 함수는 전처리기 지시문 `#define`과 함께 정의됩니다.

아래는 C++에서 매크로 함수를 정의하는 예제입니다.

```c++
#define ADD(a, b) (a + b)
```

매크로 함수는 실제 함수가 아니기 때문에 타입 및 예외 처리 등을 보장받을 수 없습니다. 또한, 매크로 함수는 컴파일된 코드 내에서 단순히 텍스트를 대체하기 때문에 가독성과 디버깅이 어려울 수 있습니다.

## 결론

인라인 함수는 오버헤드를 줄이고 가독성을 유지하면서 함수 호출을 대체하는 반면, 매크로 함수는 텍스트를 단순히 대체하기 때문에 오버헤드가 없지만, 가독성이나 유지보수 측면에서 불편함을 초래할 수 있습니다.

따라서, 인라인 함수와 매크로 함수 중 어떤 것을 선택할지는 상황에 따라 다를 수 있습니다.

참고문헌:
- https://en.cppreference.com/w/cpp/language/inline
- https://en.cppreference.com/w/cpp/preprocessor#define