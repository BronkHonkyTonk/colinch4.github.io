---
layout: post
title: "[c++] 인라인 함수와 매크로 함수의 성능 비교"
description: " "
date: 2023-12-08
tags: [c++]
comments: true
share: true
---

프로그래밍에서 **인라인 함수**와 **매크로 함수**는 코드 최적화 및 성능 향상을 위해 사용됩니다. 이 두 가지 기술을 비교하여 각각의 장단점을 알아보겠습니다.

## 인라인 함수

인라인 함수는 일반 함수와는 달리 컴파일러에 의해 호출되는 곳에 함수의 본문이 직접 삽입되는 함수입니다. 이로써 함수 호출의 오버헤드를 없애고 실행 속도를 향상시킬 수 있습니다.

```c++
inline int add(int a, int b) {
    return a + b;
}
```

인라인 함수의 장점은 간단한 함수에 적합하며, 반복되는 코드의 복사본을 만들지 않아 코드 크기를 줄이는 데 도움을 줍니다. 그러나 복잡한 함수나 재귀 함수에는 적합하지 않을 수 있습니다. 

## 매크로 함수

매크로 함수는 코드 전처리기에 의해 호출되는 함수로, 매크로 호출 시 해당 매크로 함수의 본문으로 치환됩니다.

```c++
#define ADD(a, b) (a + b)
```

매크로 함수의 장점은 간단한 대체 및 반복되는 코드의 단순화에 있습니다. 그러나 매크로 함수는 타입 안정성, 디버깅, 오류 처리 등에서 한계가 있을 수 있습니다.

## 성능 비교

인라인 함수와 매크로 함수 중 어느 것이 더 효율적인가에 대한 답은 명확하지 않습니다. 일반적으로 인라인 함수가 함수 호출 오버헤드를 없앨 수 있으므로 실행 속도 측면에서 더 효율적일 수 있습니다. 그러나 컴파일러가 인라인 함수로 삽입하지 않을 수도 있기 때문에 상황에 따라 다를 수 있습니다.

따라서 성능 측면에서의 선택은 코드의 컨텍스트 및 특정 상황에 의해 결정되어야 합니다.

## 결론

인라인 함수와 매크로 함수는 각각의 장단점이 있습니다. 프로그램의 요구 사항 및 컴파일러의 처리 방식을 고려하여 적절한 방법을 선택해야 합니다.

성능 측면에서는 일반적으로 인라인 함수가 더 효율적일 수 있지만, 코드 상황에 따라 매크로 함수도 유용하게 사용될 수 있습니다.

이 글은 [GeeksforGeeks](https://www.geeksforgeeks.org/inline-functions-vs-macros/)의 내용을 참고하였습니다.