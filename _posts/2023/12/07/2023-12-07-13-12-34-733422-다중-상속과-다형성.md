---
layout: post
title: "[c++] 다중 상속과 다형성"
description: " "
date: 2023-12-07
tags: [c++]
comments: true
share: true
---

다중 상속은 C++에서 객체지향 프로그래밍에서 사용할 수 있는 강력한 기능 중 하나입니다. **다중 상속**은 어떤 클래스가 두 개 이상의 클래스로부터 상속을 받는 것을 의미합니다. 이는 클래스가 여러 부모 클래스로부터 특성을 상속받을 수 있음을 의미합니다.

## 다중 상속의 문제

다중 상속은 강력한 기능이지만, 오류를 발생시킬 수 있는 여러 가지 문제점을 가지고 있습니다. **다이아몬드 문제**는 다중 상속에서 발생하는 주요 문제 중 하나입니다. 이는 한 클래스가 두 개 이상의 클래스로부터 각각 다른 경로로 동일한 클래스를 상속받을 때 발생합니다. 이 경우, 상속 관계가 복잡해지고 코드가 혼란스러워질 수 있습니다.

## 가상 상속

C++에서는 다중 상속으로 인해 발생하는 다이아몬드 문제를 해결하기 위해 **가상 상속**이라는 기능을 제공합니다. 가상 상속을 사용하면 다이아몬드 문제를 해결하고, 여러 부모 클래스로부터 상속받은 멤버 변수 및 메서드의 중복을 방지할 수 있습니다.

가상 상속을 사용하려면 해당 클래스의 상속 명세 앞에 `virtual` 키워드를 사용해야 합니다. 이렇게 하면 가상 상속을 통해 이루어진 상속 관계에서는 다이아몬드 문제가 발생하지 않습니다.

```c++
class A {
public:
    int valueA;
};

class B : virtual public A {
public:
    int valueB;
};

class C : virtual public A {
public:
    int valueC;
};

class D : public B, public C {
public:
    int valueD;
};
```

위의 코드에서 `class D`는 `class B`와 `class C`로부터 `A`를 **가상 상속**받았으므로, `valueA`는 `D`에 대해 하나만 존재합니다.

**다형성**은 객체지향 프로그래밍의 중요한 개념 중 하나로, 동일한 이름의 메서드가 각기 다른 클래스에서 다른 기능으로 동작할 수 있는 능력을 의미합니다. 이는 다중 상속을 통해 부모 클래스로부터 다양한 형태의 자식 클래스를 파생해내는 데 중요한 역할을 합니다.

다중 상속과 다형성은 C++의 객체지향 프로그래밍에서 중요한 개념으로, 이를 이해하고 활용함으로써 유연하고 강력한 코드를 작성할 수 있습니다.

## 참고 자료
1. [C++ 다중 상속](https://en.cppreference.com/w/cpp/language/inheritance)
2. [C++ 가상 상속](https://en.cppreference.com/w/cpp/language/inheritance)