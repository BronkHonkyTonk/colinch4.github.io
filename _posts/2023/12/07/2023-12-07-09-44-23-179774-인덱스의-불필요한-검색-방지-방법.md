---
layout: post
title: "[sql] 인덱스의 불필요한 검색 방지 방법"
description: " "
date: 2023-12-07
tags: [sql]
comments: true
share: true
---

인덱스는 데이터베이스에서 검색 성능을 향상시키기 위해 사용되는 중요한 개념입니다. 하지만 잘못된 인덱스 설계 또는 잘못된 쿼리 작성으로 인해 인덱스의 효과를 발휘하지 못하거나, 오히려 성능을 저하시킬 수 있습니다. 이번 포스트에서는 인덱스의 불필요한 검색을 방지하기 위한 몇 가지 방법을 살펴보겠습니다.

## 1. 인덱스 컬럼의 선택

인덱스를 생성할 때 어떤 컬럼을 선택하는지가 매우 중요합니다. 불필요한 컬럼을 인덱스로 선택하면 인덱스의 크기가 증가하고 성능이 저하될 수 있습니다. 따라서 인덱스로 선택할 컬럼은 쿼리에서 자주 사용되는 컬럼이어야 합니다.

## 2. 인덱스 컬럼의 순서

인덱스 컬럼의 순서 또한 검색 성능에 영향을 미칩니다. 보통 인덱스 컬럼의 순서는 쿼리에서 WHERE 절에 가장 먼저 등장하는 컬럼을 앞쪽에 배치하는 것이 좋습니다. 이렇게 하면 불필요한 검색을 방지할 수 있습니다.

## 3. LIKE 절 사용 시 주의

LIKE 절은 검색 패턴을 사용하는 경우에 이용됩니다. 하지만 LIKE 절의 검색 패턴에 와일드카드 '%'를 맨 앞에 사용하면 인덱스가 효과적으로 사용되지 않을 수 있습니다. 와일드카드를 최대한 뒤쪽에 사용하는 것이 검색 성능을 향상시키는 방법입니다.

## 4. OR 절 사용 시 주의

OR 절은 여러 개의 조건을 포함하는 경우에 이용됩니다. 하지만 OR 절은 인덱스의 효과를 발휘하기 어렵게 만들 수 있습니다. 가능하면 OR 절을 사용하지 않고 UNION 등에 의해 여러 개의 쿼리로 분리하는 것이 성능적으로 유리합니다.

## 5. NULL 처리

NULL 값을 검색하는 쿼리는 인덱스의 효과를 발휘하기 어렵게 만들 수 있습니다. NULL 값을 처리하는 방법에 따라 인덱스의 성능이 달라지므로, NULL 값을 자주 검색하는 경우에는 적절한 처리 방법을 고려해야 합니다.

## 결론

인덱스는 데이터베이스 성능을 향상시키는 데 중요한 역할을 합니다. 그러나 올바른 인덱스 설계와 쿼리 작성을 통해 불필요한 검색을 방지하는 것이 중요합니다. 위에서 소개한 몇 가지 방법을 참고하여 효율적인 인덱스를 구성하고 성능을 최적화할 수 있습니다.

참고 자료:
- [SQL 인덱스란](https://zetawiki.com/wiki/SQL_%EC%9D%B8%EB%8D%B1%EC%8A%A4%EB%9E%80)
- [MySQL 인덱스 설계](https://d2.naver.com/helloworld/1345)
- [PostgreSQL 인덱스 개념 및 원리](https://idea-sketch.tistory.com/28)