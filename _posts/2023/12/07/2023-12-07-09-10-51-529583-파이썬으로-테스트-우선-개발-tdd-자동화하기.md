---
layout: post
title: "[python] 파이썬으로 테스트 우선 개발 (TDD) 자동화하기"
description: " "
date: 2023-12-07
tags: [python]
comments: true
share: true
---

테스트 우선 개발(Test-Driven Development, TDD)은 소프트웨어 개발 방법론 중 하나로, 요구사항을 검증하기 위한 자동화된 테스트를 먼저 작성한 후, 그에 맞는 코드를 구현하는 방식입니다. 이렇게 작성된 테스트는 개발자가 소스 코드를 수정하거나 리팩토링할 때마다 실행되어 코드의 정상 동작 여부를 확인합니다.

이번 글에서는 파이썬으로 TDD를 자동화하는 방법에 대해 알아보겠습니다.

## TDD 환경 설정

TDD를 위한 환경 설정을 하기 위해 먼저 파이썬 개발 환경을 설치해야 합니다. 파이썬 공식 웹사이트에서 다운로드하여 설치할 수 있습니다.

설치가 완료되면 터미널 또는 콘솔 창에서 `pip install pytest` 명령을 실행하여 pytest 라이브러리를 설치하겠습니다. 

## TDD 예제

TDD 예제로 간단한 계산기 기능을 구현해보겠습니다. 먼저, 테스트 코드를 작성합니다. 새로운 파일을 생성하고 다음과 같이 작성합니다.

```python
# calculator_test.py

def test_addition():
    assert 2 + 2 == 4

def test_subtraction():
    assert 5 - 3 == 2
```

위 코드는 `pytest`에 의해 자동으로 인식되는 테스트 함수를 작성한 것입니다. `test_`로 시작하는 함수명을 사용하여 작성합니다.

이제, 이 테스트를 실행하기 위해 다음과 같이 명령어를 입력합니다.

```
pytest calculator_test.py
```

테스트가 성공적으로 실행되면, 다음과 같은 메시지를 볼 수 있습니다.

```
============================= test session starts ==============================
...
collected 2 items

calculator_test.py ..                                                  [100%]

============================== 2 passed in 0.01s ==============================
```

위에서 작성한 두 가지 기능에 대한 테스트가 성공적으로 실행되었습니다.

## TDD 원칙에 따른 개발

테스트 케이스를 먼저 작성한 후, 그에 맞는 코드를 작성하는 것이 TDD의 핵심 원칙입니다. 이렇게 하는 이유는 개발자가 코드를 작성하기 전에 어떤 동작을 기대하는지 명확하게 이해할 수 있기 때문입니다. 또한, 테스트를 자동화하여 쉽게 반복 실행할 수 있기 때문에 코드의 변경에 따른 영향도를 빠르게 파악할 수 있습니다.

## 마무리

이제 파이썬을 사용하여 TDD를 자동화하는 방법에 대해 알아보았습니다. TDD는 개발 프로세스를 안정적이고 유지보수 가능한 코드로 이끌어주는 중요한 방법론입니다. 테스트를 통해 코드의 버그를 빠르게 찾아내어 안정성과 신뢰성을 높일 수 있습니다.

더 많은 TDD에 관한 내용을 알고 싶다면 다음 참고자료를 참고해주세요:

- [Python 공식 웹사이트](https://www.python.org/)
- [pytest 공식 문서](https://docs.pytest.org/en/latest/)
- [Test-Driven Development by Example](https://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530) (켄트 백)