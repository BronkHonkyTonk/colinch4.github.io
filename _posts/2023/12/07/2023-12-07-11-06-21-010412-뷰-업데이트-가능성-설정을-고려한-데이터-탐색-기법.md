---
layout: post
title: "[sql] 뷰 업데이트 가능성 설정을 고려한 데이터 탐색 기법"
description: " "
date: 2023-12-07
tags: [sql]
comments: true
share: true
---

데이터베이스에서 뷰(View)는 하나 이상의 테이블로부터 유도된 가상의 테이블이다. 뷰는 데이터를 추상화하거나 다른 관점으로 표현하기 위해 사용된다. 하지만 뷰를 사용할 때 업데이트 가능성을 고려해야 한다. 

## 업데이트 가능한 뷰와 불가능한 뷰

- 업데이트 가능한 뷰: 사용자가 뷰를 통해 진행한 수정 작업이 실제 기반 테이블에 영향을 주는 뷰
- 불가능한 뷰: 사용자가 뷰를 통해 수정 작업을 하더라도 실제 기반 테이블에는 아무런 영향을 주지 않는 뷰

뷰가 업데이트 가능한지 여부는 다음과 같은 조건에 따라 결정된다.

1. SELECT 문에 다음의 조건을 만족해야 한다.
   - 업데이트 가능한 뷰의 열은 기반 테이블에서 유일한 값을 가져야 한다.
   - FROM 절에 테이블이 하나만 존재해야 한다.
   - COUNT, SUM, AVG, MAX, MIN, COUNT(*)과 같은 그룹 함수로 결과를 구할 때는 허용된다.
2. 뷰 정의가 간단한 경우에 대해서만 업데이트가 가능하다.

## 데이터 탐색 기법

1. 직접적인 테이블 접근
   뷰를 통하지 않고 기반 테이블에 직접 접근하여 데이터를 탐색한다. 뷰를 통하지 않기 때문에 업데이트 가능 여부를 고려하지 않아도 되지만, 데이터 변경 사항에 대한 관리를 위해서는 뷰를 사용하는 것이 좋다.

2. 뷰를 통한 데이터 탐색
   뷰를 사용하여 데이터를 탐색하는 것은 간단하고 편리한 방법이지만, 업데이트 가능성을 고려해야 한다. 업데이트 가능한 뷰를 사용할 경우, 수정 작업이 실제 기반 테이블에 영향을 줄 수 있으므로 주의해야 한다.

## 결론

뷰는 데이터베이스에서 중요한 요소 중 하나이며, 데이터를 추상화하고 다른 관점에서 표현하는 데 사용된다. 하지만 뷰를 사용할 때에는 업데이트 가능성을 고려하여 데이터 탐색 기법을 선택해야 한다. 직접적인 테이블 접근이 필요한 경우 뷰를 사용하지 않을 수 있지만, 데이터 변경 사항을 관리하기 위해서는 뷰를 사용하는 것이 좋다.

## 참고자료

- [SQL View](https://www.sqlshack.com/sql-view/)
- [What are the basic rules for updating views?](https://stackoverflow.com/questions/19022316/what-are-the-basic-rules-for-updating-views)