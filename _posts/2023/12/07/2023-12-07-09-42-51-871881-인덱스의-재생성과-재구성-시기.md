---
layout: post
title: "[sql] 인덱스의 재생성과 재구성 시기"
description: " "
date: 2023-12-07
tags: [sql]
comments: true
share: true
---

데이터베이스에서 인덱스는 조회 성능을 향상시키기 위해 사용되는 중요한 요소입니다. 그러나 인덱스는 데이터의 변경에 따라 효율성이 떨어질 수 있습니다. 따라서 인덱스는 정기적으로 재생성 또는 재구성해야 합니다. 이 게시물에서는 인덱스를 재생성하거나 재구성해야 하는 시기에 대해 알아보겠습니다.

### 재생성과 재구성의 차이점

- 인덱스 재생성 (Index Rebuild): 기존 인덱스의 구조를 완전히 재구성하는 작업입니다. 인덱스의 트리 구조를 다시 구성하여 효율성을 최적화합니다. 이 작업은 인덱스의 크기가 크게 변경될 때 진행됩니다.

- 인덱스 재구성 (Index Reorganize): 기존 인덱스의 구조를 최적화하여 효율성을 높이는 작업입니다. 이 작업은 인덱스의 일부 블록이 손상되었거나 삭제된 경우, 인덱스의 빈 공간을 정리하고 페이지 분할 등의 작업을 수행합니다.

### 인덱스 재생성 시기

인덱스 재생성은 주로 다음과 같은 경우에 수행됩니다.

1. 대량 데이터 변경: 테이블에 대량의 데이터가 삽입, 업데이트, 삭제되었을 때 인덱스 재생성을 고려해야 합니다. 데이터가 많이 변경되면 인덱스 구조가 불규칙해질 수 있으며, 이로 인해 성능이 저하될 수 있습니다.

2. 인덱스 저장 공간 부족: 인덱스가 저장할 공간이 부족한 경우, 인덱스 재생성을 통해 공간을 최적화할 수 있습니다. 인덱스의 용량이 계속해서 증가하면 디스크 공간 부족으로 인해 성능이 저하될 수 있습니다.

3. 테이블 변경: 테이블 구조에 중요한 변경이 있을 경우에도 인덱스 재생성을 고려해야 합니다. 특히, 컬럼 추가 또는 삭제, 인덱스 컬럼의 데이터 유형 변경 등의 작업은 인덱스 재생성을 필요로 할 수 있습니다.

### 인덱스 재구성 시기

인덱스 재구성은 주로 다음과 같은 경우에 수행됩니다.

1. 인덱스 블록 손상: 인덱스의 일부 블록이 손상되었을 경우, 인덱스 재구성을 통해 손상된 블록을 복구할 수 있습니다. 이는 인덱스의 일관성을 유지하고 성능을 유지하기 위해 필요한 작업입니다.

2. 인덱스의 빈 공간 정리: 인덱스에서 삭제된 데이터를 처리하기 위해 빈 공간을 정리해야 할 때 인덱스 재구성을 수행합니다. 이는 인덱스의 데이터 분포를 최적화하여 성능을 향상시키는 데 도움이 됩니다.

### 참고 자료

- [Oracle 인덱스 재생성과 재구성](https://docs.oracle.com/cd/E11882_01/server.112/e40540/rebuild.htm#CACJADJA)
- [Microsoft SQL Server 인덱스를 다시 작성 및 다시 정렬하는 방법](https://docs.microsoft.com/ko-kr/sql/relational-databases/indexes/reorganize-and-rebuild-indexes?view=sql-server-ver15)

-</br>></br>></br>></br>+</br>