---
layout: post
title: "[sql] 인덱스 생성 순서의 영향"
description: " "
date: 2023-12-07
tags: [sql]
comments: true
share: true
---

인덱스는 데이터베이스에서 쿼리의 성능을 향상시키는 중요한 요소입니다. 하지만 인덱스를 생성할 때에는 인덱스 생성 순서에도 주의해야합니다. 이번 포스트에서는 인덱스 생성 순서가 어떤 영향을 미치는지 알아보도록 하겠습니다.

## 인덱스 생성 순서

인덱스는 테이블의 열(Column)에 대해 생성할 수 있습니다. 보통은 쿼리에 자주 사용되는 열에 인덱스를 생성하여 쿼리의 실행 속도를 향상시키는 것이 일반적입니다. 하지만 여러 개의 열을 가진 테이블에서는 어떤 순서로 인덱스를 생성해야할지 고민이 될 수 있습니다.

인덱스를 생성할 때에는 쿼리에 자주 사용되는 열부터 인덱스를 생성하는 것이 일반적입니다. 이렇게 함으로써 해당 열을 이용한 쿼리의 성능을 최적화할 수 있습니다. 또한 여러 개의 열로 이루어진 인덱스를 생성할 때에는 인덱스 생성 순서가 중요한 역할을 할 수 있습니다.

## 인덱스 생성 순서의 영향

인덱스 생성 순서는 주로 다음과 같은 영향을 미칠 수 있습니다:

1. 쿼리 성능 역전: 인덱스를 생성하는 순서에 따라 쿼리의 성능이 달라질 수 있습니다. 예를 들어, 쿼리에서 열 A와 열 B를 동시에 조건으로 사용하는 경우, 인덱스를 (A, B) 순서로 생성하는 것이 (B, A) 순서로 생성하는 것보다 효과적일 수 있습니다. 인덱스 생성 순서에 따라 쿼리 성능이 역전될 수 있으므로 인덱스를 생성할 때에는 신중하게 고려해야합니다.

2. 다중 열 인덱스: 여러 개의 열로 이루어진 인덱스를 생성할 때에는 인덱스 생성 순서가 매우 중요합니다. 쿼리에서 조건으로 사용되는 열이 인덱스의 앞에 위치할수록 인덱스를 효과적으로 사용할 수 있습니다. 따라서, 쿼리에서 자주 사용되는 열부터 인덱스를 생성하는 것이 좋습니다.

3. 업데이트 성능 저하: 인덱스를 생성할 때에는 업데이트 작업에도 영향을 미칠 수 있습니다. 특히, 인덱스의 순서에 따라 업데이트 작업의 성능이 달라질 수 있습니다. 인덱스의 순서가 자주 업데이트되는 열에 먼저 오게되면, 업데이트 작업이 더 느릴 수 있습니다.

## 결론

인덱스는 쿼리의 성능을 향상시키는 중요한 요소입니다. 인덱스를 생성할 때에는 인덱스 생성 순서를 신중하게 고려해야합니다. 쿼리에 자주 사용되는 열부터 인덱스를 생성하고, 다중 열 인덱스를 생성할 때에는 인덱스 생성 순서를 고려하여야합니다. 또한 업데이트 작업에도 영향을 미치므로 인덱스 생성 순서를 결정할 때에는 성능 측면 뿐만 아니라 업데이트 작업에도 신중하게 고려해야합니다.

> References:
> - [MySQL 인덱스](https://myubuntu.tistory.com/353)
> - [SQL Server 인덱스에 대한 규칙과 지침](https://support.microsoft.com/ko-kr/topic/sql-server-%EC%9D%B8%EB%8D%B1%EC%8A%A4%EC%97%90-%EB%8C%80%ED%95%9C-%EA%B7%9C%EC%B9%99%EA%B3%BC-%EC%A7%80%EC%B9%A8-aea2f5a3-24c3-494e-968f-dcde3d98aabb)