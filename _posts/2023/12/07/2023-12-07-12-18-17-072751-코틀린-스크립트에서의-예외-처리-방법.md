---
layout: post
title: "[kotlin] 코틀린 스크립트에서의 예외 처리 방법"
description: " "
date: 2023-12-07
tags: [kotlin]
comments: true
share: true
---

코틀린은 안정적이고 견고한 예외 처리 메커니즘을 제공하여 예외 상황에 대응할 수 있습니다. 스크립트에서도 예외 처리를 사용하여 코드 실행 중에 발생할 수 있는 예외를 처리할 수 있습니다. 이번 글에서는 코틀린 스크립트에서의 예외 처리 방법에 대해 알아보겠습니다.

## 1. try-except 블록 사용하기

가장 일반적인 예외 처리 방법은 `try-except` 블록을 사용하는 것입니다. `try` 블록 안에 예외가 발생할 수 있는 코드를 작성하고, 예외가 발생하면 `catch` 블록에서 예외를 처리합니다. 아래는 코틀린 스크립트에서 `try-except` 블록을 사용하는 예제입니다.

```kotlin
try {
    // 예외가 발생할 수 있는 코드
    // ...
} catch (e: Exception) {
    // 예외 처리 코드
    // ...
}
```

이 예제에서 `try` 블록 안에 예외가 발생할 수 있는 코드를 작성합니다. 예외가 발생하면 해당 예외에 대한 정보가 `catch` 블록으로 전달되며, 여기서 예외를 처리할 수 있습니다.

## 2. 예외 타입에 따른 처리하기

코틀린은 다양한 예외 타입을 지원하므로, 예외 타입에 따라 다른 처리 방법을 적용할 수 있습니다. 예를 들어, 특정 예외 타입에 대해서만 특별한 처리를 하고 싶을 경우 `catch` 블록을 다중으로 작성하여 예외 타입을 분기 처리할 수 있습니다. 아래는 예외 타입에 따른 처리를 할 수 있는 예제입니다.

```kotlin
try {
    // 예외가 발생할 수 있는 코드
    // ...
} catch (e: IOException) {
    // IOException 처리 코드
    // ...
} catch (e: FileNotFoundException) {
    // FileNotFoundException 처리 코드
    // ...
} catch (e: IllegalArgumentException) {
    // IllegalArgumentException 처리 코드
    // ...
}
```

위 예제에서는 `catch` 블록을 다중으로 작성하여 예외 타입에 따라 다른 처리를 할 수 있습니다.

## 3. finally 블록 사용하기

`finally` 블록은 `try-except` 블록 실행 이후 항상 실행되어야 하는 로직을 작성할 때 사용합니다. 예를 들어, 파일을 열었을 때 항상 닫아야 한다면 `finally` 블록에서 파일을 닫는 로직을 작성할 수 있습니다. 아래는 `finally` 블록을 사용하는 예제입니다.

```kotlin
try {
    // 예외가 발생할 수 있는 코드
    // ...
} catch (e: Exception) {
    // 예외 처리 코드
    // ...
} finally {
    // 항상 실행되어야 하는 로직
    // ...
}
```

`try` 블록에서 예외가 발생하면 `catch` 블록으로 이동하여 예외를 처리합니다. 그리고 `finally` 블록은 예외 발생 여부와 상관없이 항상 실행되는 부분입니다.

## 4. 예외 다시 던지기

`catch` 블록에서 예외를 다시 던질 수도 있습니다. 예외를 다시 던지면 예외를 호출자에게 전달하고, 상위 레벨에서 예외를 처리할 수 있습니다. 이때, `throws` 예약어를 사용하여 해당 메서드에서 예외를 다시 던진다는 것을 명시해야 합니다. 아래는 예외를 다시 던지는 예제입니다.

```kotlin
fun someFunction() {
    try {
        // 예외가 발생할 수 있는 코드
        // ...
    } catch (e: Exception) {
        // 예외 처리 코드
        // ...
        throw e // 예외를 다시 던짐
    }
}
```

위 예제에서는 `catch` 블록에서 받은 예외를 다시 던지고 있습니다. 이렇게 하면 예외가 발생한 곳과 상위 레벨에서 예외를 처리할 수 있습니다.

## 결론

코틀린 스크립트에서도 예외 처리는 매우 중요한 부분입니다. `try-except` 블록을 사용하여 예외를 처리하고, 예외 타입에 따른 분기 처리 및 `finally` 블록을 사용하여 예외 처리 코드를 작성할 수 있습니다. 또한, 예외를 다시 던져서 상위 레벨에서 예외를 처리할 수도 있습니다. 앞서 소개한 예외 처리 방법을 적절히 활용하여 안정적인 스크립트를 작성해보세요.

## 참고 자료
- [코틀린 공식 문서 - Exception handling](https://kotlinlang.org/docs/reference/exceptions.html)