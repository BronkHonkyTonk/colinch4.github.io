---
layout: post
title: "[go] 구조체(struct)의 메모리 할당과 해제"
description: " "
date: 2023-12-07
tags: [go]
comments: true
share: true
---

구조체는 관련된 데이터를 포함하는 사용자 정의 데이터 타입입니다. 구조체를 사용할 때 메모리 할당과 해제는 중요한 과정입니다. Go 언어에서 구조체의 메모리를 할당하는 방법과 해제하는 방법을 살펴보겠습니다.

### 구조체의 메모리 할당

구조체의 메모리를 할당하는 방법은 크게 두 가지가 있습니다. 첫 번째는 `var` 키워드를 사용하여 구조체를 선언하고 빈 값을 가진 상태로 할당하는 방법입니다.

```go
var person Person
```

위의 예제에서 `Person`은 구조체의 이름입니다. `var person Person`은 `Person` 구조체의 인스턴스인 `person`을 생성하고 빈 값을 할당합니다.

두 번째는 `new` 키워드를 사용하여 구조체의 메모리를 동적으로 할당하는 방법입니다.

```go
person := new(Person)
```

위의 예제에서 `person`은 `Person` 구조체의 포인터입니다. `new(Person)`은 `Person` 구조체의 메모리를 동적으로 할당하고 해당 메모리의 주소를 `person` 변수에 할당합니다.

### 구조체의 메모리 해제

구조체의 메모리를 해제하는 방법은 `free` 함수를 호출하는 방법이 없습니다. Go 언어는 가비지 컬렉션 기능을 제공하여 사용하지 않는 메모리를 자동으로 해제합니다.

```go
person := new(Person)
// Person 구조체 사용
person = nil // 구조체의 메모리를 해제하기 위해 변수를 nil로 설정
```

위의 예제에서 `person` 변수를 `nil`로 설정함으로써 해당 구조체의 메모리를 해제합니다. Go 언어의 가비지 컬렉터가 해당 메모리를 감지하고 적절한 시기에 자동으로 해제합니다.

### 결론

Go 언어에서는 구조체의 메모리 할당과 해제를 간단하게 처리할 수 있습니다. `var` 키워드나 `new` 키워드를 사용하여 구조체의 메모리를 할당하고, 가비지 컬렉터에 의해 사용하지 않는 메모리가 자동으로 해제됩니다. 이를 통해 메모리 관리에 대한 부담을 줄일 수 있습니다.

### 참고 자료

- [Go 플레이그라운드](https://play.golang.org/)
- [Go 공식 문서](https://golang.org/doc/)
- [A Tour of Go](https://tour.golang.org/welcome/1)