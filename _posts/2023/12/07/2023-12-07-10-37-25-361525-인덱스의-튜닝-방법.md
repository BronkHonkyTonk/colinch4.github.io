---
layout: post
title: "[sql] 인덱스의 튜닝 방법"
description: " "
date: 2023-12-07
tags: [sql]
comments: true
share: true
---

SQL 인덱스는 데이터베이스 성능을 향상시키는 데 중요한 역할을 합니다. 올바르게 설계된 인덱스는 쿼리 실행 시간을 단축시키고 데이터 검색 속도를 높여줍니다. 이 글에서는 SQL 인덱스의 튜닝 방법을 알아보겠습니다.

## 1. 올바른 인덱스 유형 선택하기

### 1.1 단일 열 인덱스
단일 열 인덱스는 하나의 열을 기반으로 만들어지는 인덱스입니다. 데이터베이스에서 가장 일반적으로 사용되는 인덱스 유형입니다. 단일 열 인덱스를 사용할 때에는 자주 사용되는 조회 조건과 정렬 조건이 있는 열을 선택하는 것이 좋습니다.

### 1.2 복합 열 인덱스
복합 열 인덱스는 두 개 이상의 열을 기반으로 만들어지는 인덱스입니다. 열의 조합에 따라 다양한 탐색 및 정렬 동작이 가능해지며, 여러 개의 열을 동시에 조회하는 쿼리의 성능을 향상시킬 수 있습니다. 복합 열 인덱스는 자주 사용되는 열의 순서대로 생성하는 것이 좋습니다.

## 2. 중복 인덱스 제거하기

중복 인덱스는 동일한 열 또는 열의 순서가 다른 여러 개의 인덱스를 뜻합니다. 중복 인덱스를 제거하면 저장 공간을 절약할 수 있고, 데이터베이스의 업데이트 작업 성능을 향상시킬 수 있습니다. 중복 인덱스는 불필요한 오버헤드를 발생시키므로 주의해야 합니다.

## 3. 쿼리의 최적화 작업

### 3.1 WHERE 절을 이용한 인덱스 활용
쿼리의 WHERE 절에 자주 사용되는 열을 인덱스로 지정함으로써 검색 성능을 향상시킬 수 있습니다. WHERE 절에서 연산자의 사용을 최소화하고, 인덱스된 열의 값을 변형하지 않는 것이 중요합니다. 예를 들어, WHERE 절에 LIKE 연산자를 사용할 때는 와일드카드(%)를 처음에 사용하지 않도록 주의해야 합니다.

### 3.2 ORDER BY 절을 이용한 인덱스 활용
ORDER BY 절에 자주 사용되는 열을 인덱스로 지정함으로써 정렬 속도를 향상시킬 수 있습니다. ORDER BY 절에서도 연산자의 사용을 최소화하고, 인덱스된 열의 값을 변형하지 않는 것이 중요합니다.

### 3.3 JOIN 절을 이용한 인덱스 활용
JOIN 절에 사용되는 열을 인덱스로 지정함으로써 조인 작업의 성능을 향상시킬 수 있습니다. 자주 사용되는 조인 조건에 대해 인덱스를 생성하는 것이 좋습니다.

## 4. 인덱스 생성 순서 고려하기
복합 열 인덱스를 생성할 때에는 자주 사용되는 열의 순서를 고려하는 것이 중요합니다. 자주 사용되는 열을 앞에 오도록 인덱스를 생성하면 인덱스의 탐색 성능이 향상됩니다.

## 5. 인덱스 통계 정보 유지하기
데이터베이스는 인덱스를 효율적으로 사용하기 위해 인덱스 통계 정보를 유지합니다. 이 통계 정보는 쿼리 옵티마이저가 실행 계획을 선택하는 데 사용됩니다. 따라서 정기적으로 인덱스 통계정보를 업데이트하고 유지하는 것이 중요합니다.

---

참고 자료:
- [Oracle 홈페이지](https://docs.oracle.com/cd/E11882_01/server.112/e41573/indexiot.htm#i1046287)
- [MySQL 공식 문서](https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html)
- [PostgreSQL 공식 문서](https://www.postgresql.org/docs/13/indexes-intro.html)