---
layout: post
title: "[sql] 인덱스의 사용 여부에 따른 쿼리 성능 평가"
description: " "
date: 2023-12-07
tags: [sql]
comments: true
share: true
---

SQL에서 인덱스는 데이터베이스 테이블의 레코드를 빠르게 검색하기 위해 사용됩니다. 하지만 인덱스를 사용할지 여부는 쿼리의 성능에도 영향을 미칩니다. 이번 포스트에서는 인덱스의 사용 여부에 따라 쿼리 성능이 어떻게 달라지는지 확인해 보겠습니다.

## 인덱스란?

인덱스는 데이터베이스 테이블의 열에 대한 정렬된 데이터 구조입니다. 이 구조는 쿼리를 실행할 때 데이터를 빠르게 찾을 수 있도록 도와줍니다. 일반적으로 테이블의 기본 키나 유일한 값이 있는 열에 인덱스를 생성하는 것이 좋습니다.

## 인덱스 사용 시 성능 향상

인덱스를 사용하면 쿼리의 실행 속도가 향상됩니다. 인덱스에 의해 정렬된 데이터 구조를 사용하므로 데이터베이스 엔진은 테이블 전체를 검색하는 대신 인덱스를 검색합니다. 만약 쿼리에서 인덱스로 지정된 열을 조건으로 사용한다면, 데이터베이스 엔진은 인덱스를 사용하여 해당 행을 빠르게 찾을 수 있습니다.

## 인덱스 미사용 시 성능 저하

하지만 모든 쿼리에서 인덱스를 사용하는 것이 항상 좋은 것은 아닙니다. 인덱스 자체도 저장 공간을 차지하고 유지 관리 비용이 발생하기 때문입니다. 또한 인덱스를 사용하지 않으면 데이터 삽입, 갱신, 삭제에 대한 성능이 향상될 수 있습니다. 따라서 테이블의 크기가 작거나 빈번한 데이터 변경이 발생하는 경우, 인덱스를 사용하지 않는 것이 더 효율적일 수 있습니다.

## 성능 평가를 위한 쿼리 실행 계획

쿼리 실행 계획은 쿼리를 실행하기 전 데이터베이스 엔진이 어떻게 작업을 수행할지에 대한 계획입니다. 쿼리 실행 계획을 통해 인덱스의 사용 여부를 확인할 수 있습니다. 예를 들어, MySQL에서는 `EXPLAIN` 명령을 사용하여 쿼리 실행 계획을 확인할 수 있습니다. 쿼리 실행 계획에는 인덱스를 사용하는지 여부와 같은 정보가 표시됩니다.

## 결론

인덱스의 사용 여부에 따라 쿼리의 성능이 달라질 수 있습니다. 쿼리 실행 계획을 확인하여 인덱스가 실제로 사용되는지 여부를 파악하는 것이 중요합니다. 중요한 것은 어떤 쿼리에 대해 인덱스를 사용할 것인지를 신중하게 판단하는 것입니다.

## 참고 자료

- [MySQL 공식 문서](https://dev.mysql.com/doc/refman/8.0/en/using-explain.html)
- [SQL 인덱스에 대한 자세한 설명](https://mariadb.com/kb/en/indexes/)