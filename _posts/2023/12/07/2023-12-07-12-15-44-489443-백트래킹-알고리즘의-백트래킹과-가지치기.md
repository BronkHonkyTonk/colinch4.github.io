---
layout: post
title: "[python] 백트래킹 알고리즘의 백트래킹과 가지치기"
description: " "
date: 2023-12-07
tags: [python]
comments: true
share: true
---

백트래킹 알고리즘은 조합론적 문제를 해결하기 위해 사용되는 알고리즘 중 하나입니다. 이 알고리즘은 가능한 모든 조합을 탐색하면서 최적의 해를 찾는 방식입니다. 백트래킹 알고리즘은 대규모의 문제를 효율적으로 처리할 수 있지만, 재귀적인 구조를 갖고 있기 때문에 잘못된 구현은 큰 성능 저하를 가져올 수 있습니다.

## 백트래킹

백트래킹은 주어진 문제의 가능한 모든 상태를 탐색하며, 문제의 조건에 맞는 해를 찾는 과정입니다. 이 과정에서는 가능한 모든 선택지를 시도해보고, 조건에 부합하지 않는 경우 이전 단계로 돌아가 다른 선택지를 시도합니다.

이를 위해 백트래킹 알고리즘은 보통 재귀적인 방식을 사용합니다. 재귀 함수를 호출하면서 선택지를 시도하고, 조건에 부합하지 않는 경우 함수를 종료하고 이전 단계로 돌아가는 구조입니다. 이렇게 하면 모든 선택지를 탐색하며 최적의 해를 찾을 수 있습니다.

## 가지치기

백트래킹 알고리즘은 탐색 과정에서 특정 조건을 만족하지 않는 경우, 더 이상 해당 상태를 탐색하지 않고 다음 상태로 넘어가는 가지치기(generate-and-test) 기법을 사용합니다. 이렇게 함으로써 불필요한 탐색을 줄이고, 탐색 시간과 메모리를 절약할 수 있습니다.

가지치기는 백트래킹 알고리즘의 성능을 향상시키기 위해 중요한 역할을 합니다. 탐색을 중단해도 상태 공간을 완전히 탐색할 수 있다는 것을 보장하기 때문에, 조건에 맞지 않는 경우는 더 이상 해당 상태를 탐색하지 않고 전체 해를 찾지 못하는 최저 단계까지 돌아가서 다음 상태로 나아갑니다.

## 예시 코드

```python
def backtrack(solution, candidates, target):
    # 종료 조건: 현재 선택지 모두 검사
    if sum(solution) == target:
        print(solution)
        return
    
    # 다음 선택지를 찾기 위해 후보군을 순회
    for i in range(len(candidates)):
        candidate = candidates[i]
        
        # 가지치기: 현재 선택지로 불가능한 경우 스킵
        if sum(solution) + candidate > target:
            continue
        
        # 현재 선택지를 선택하고 재귀 호출
        solution.append(candidate)
        backtrack(solution, candidates[i:], target)
        # 선택지를 취소하여 백트래킹
        solution.pop()
```

위의 예시 코드는 백트래킹 알고리즘을 구현한 간단한 예시입니다. 주어진 후보군에서 타겟을 만족하는 모든 조합을 찾아내는 함수입니다. 가지치기를 통해 불필요한 탐색을 줄이고, 조건에 맞는 결과만 출력하도록 구현되어 있습니다.

## 참고 자료

- [백트래킹 알고리즘 - 위키백과](https://ko.wikipedia.org/wiki/%EB%B0%B1%ED%8A%B8%EB%9E%98%ED%82%B9_%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98)
- [백트래킹과 가지치기 - Tistory](https://blog.naver.com/mirror2image/221432110845)