---
layout: post
title: "[sql] 인덱스의 선택도와 효율"
description: " "
date: 2023-12-07
tags: [sql]
comments: true
share: true
---

인덱스는 데이터베이스에서 테이블의 특정 칼럼에 대해 빠른 검색 및 정렬을 제공하는 구조이다. 하지만 인덱스는 공간을 차지하고, 업데이트 작업에서 추가적인 성능 오버헤드를 발생시킬 수 있다. 따라서 인덱스를 효율적으로 사용하기 위해서는 선택도와 효율을 고려해야 한다.

## 선택도

인덱스의 선택도는 인덱스가 특정 값을 가지는 레코드의 비율을 나타낸다. 선택도가 높다는 것은 인덱스를 사용하여 검색할 때 선택된 레코드의 수가 많다는 것을 의미한다. 반대로 선택도가 낮을수록 인덱스를 사용하는 것이 효율적이지 않다. 선택도는 인덱스 칼럼의 값 분포에 따라 달라질 수 있다.

예를 들어, "성별" 칼럼이 있는 테이블에서 성별이 "남자"인 레코드의 비율이 80%라고 가정해보자. 이 경우 성별 칼럼에 대한 인덱스가 생성되면 "남자"인 레코드를 검색할 때 인덱스를 사용하는 것이 효율적이다. 하지만 성별이 "여자"인 레코드의 비율이 매우 적다면, 인덱스를 사용하여 검색하는 것보다 테이블을 풀 스캔하는 것이 더 효율적일 수 있다.

## 효율

인덱스의 효율은 인덱스 생성 및 유지 비용, 인덱스를 사용한 검색 및 정렬 작업의 성능 등을 고려하여 결정해야 한다.

인덱스를 생성하는 비용은 인덱스를 위해 필요한 디스크 공간, 인덱스를 생성하는 시간 등을 의미한다. 인덱스 생성은 테이블의 크기와 인덱스 칼럼의 복잡성에 따라서 다르게 결정될 수 있다. 따라서 인덱스를 생성할 때에는 테이블에 대한 분석 및 예측을 통해 비용과 혜택을 고려해야 한다.

인덱스를 사용하여 검색 및 정렬 작업을 수행하는 성능은 인덱스의 크기, 인덱스 칼럼의 유일성, 데이터베이스 엔진의 최적화 등에 의해 영향을 받는다. 일반적으로 인덱스 크기가 작을수록 검색 및 정렬 작업이 빨라지며, 인덱스 칼럼의 유일성이 높을수록 더 빠른 검색 결과를 얻을 수 있다. 또한 데이터베이스 엔진은 쿼리 옵티마이저를 통해 최적의 실행 계획을 결정하는데, 이 과정에서 인덱스의 효율성을 고려한다.

## 결론

인덱스의 선택도와 효율은 인덱스의 생성과 사용 비용, 검색 및 정렬 작업의 성능 등을 고려하여 결정되어야 한다. 선택도가 높고, 인덱스 생성 및 사용 비용이 적은 경우에는 인덱스를 생성하는 것이 효율적이다. 반면, 선택도가 낮거나 인덱스를 생성하는 비용이 큰 경우에는 인덱스를 생성하지 않거나 인덱스를 사용하지 않는 것이 더 효율적일 수 있다. 데이터베이스의 특성과 쿼리 패턴을 분석하고, 테스트를 통해 최적의 인덱스 전략을 결정해야 한다.

## References

- [MySQL 인덱스 성능 최적화 팁](https://d2.naver.com/helloworld/269040)
- [What Is Index Selectivity in SQL?](https://www.vertabelo.com/blog/what-is-index-selectivity-in-sql)