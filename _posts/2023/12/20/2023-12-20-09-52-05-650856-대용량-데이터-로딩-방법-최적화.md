---
layout: post
title: "[sql] 대용량 데이터 로딩 방법 최적화"
description: " "
date: 2023-12-20
tags: [sql]
comments: true
share: true
---

## 1. 병렬로 로딩하기
대용량 데이터를 빠르게 로딩하기 위해서는 병렬로 로딩하는 것이 효과적입니다. **복수의 스레드 또는 프로세스**를 사용하여 데이터를 동시에 로딩함으로써 시간을 단축시킬 수 있습니다.

```sql
COPY table_name FROM 'data_file.csv' WITH (FORMAT csv, DELIMITER ',', HEADER);
```

## 2. 제약 조건 비활성화
로딩 작업을 수행하는 동안 데이터베이스의 **제약 조건**을 비활성화하는 것이 도움이 될 수 있습니다. 이렇게 함으로써 데이터를 빠르게 로딩할 수 있고, 제약 조건은 로딩 후에 다시 활성화시킬 수 있습니다.

```sql
ALTER TABLE table_name DISABLE TRIGGER ALL;
```

## 3. 배치 처리
대용량 데이터를 일괄적으로 로딩하는 방법으로 **배치 처리**를 사용하는 것이 효과적일 수 있습니다. 작은 크기로 나누어 여러 번에 걸쳐 데이터를 로딩함으로써 시스템에 지나치게 부하를 주지 않고 안정적으로 로딩할 수 있습니다.

이러한 방법들을 통해 대용량 데이터를 효과적으로 로딩할 수 있으며, 데이터베이스 시스템의 성능을 최적화할 수 있습니다.

참고문헌:
- Oracle Database SQL 언어 레퍼런스
- PostgreSQL 공식 문서