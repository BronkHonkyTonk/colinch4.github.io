---
layout: post
title: "[nodejs] SSR에서의 상태 관리 패턴"
description: " "
date: 2023-12-19
tags: [nodejs]
comments: true
share: true
---

서버 사이드 렌더링(SSR)은 웹 애플리케이션의 성능을 향상시키고 검색 엔진 최적화(SEO)를 개선하는 데 도움을 줄 수 있습니다. 그러나 SSR 환경에서 상태 관리는 몇 가지 고려해야 할 사항이 있습니다. 이 블로그 포스트에서는 SSR 환경에서의 상태 관리 패턴에 대해 알아보겠습니다.

## 클라이언트와 서버에서의 상태 관리

SSR 환경에서 애플리케이션 상태를 관리하는 데는 두 가지 주요 접근 방식이 있습니다. 하나는 클라이언트에서 상태를 관리하고 다른 하나는 서버에서 상태를 관리하는 것입니다.

### 클라이언트 상태 관리

클라이언트 상태 관리는 주로 JavaScript 프레임워크 또는 라이브러리를 사용하여 구현됩니다. **Redux**나 **MobX**와 같은 상태 관리 라이브러리를 사용하여 클라이언트 측에서 상태를 관리할 수 있습니다. 이 방식은 초기 로딩 시 클라이언트에 상태를 전달하여 초기 렌더링 속도를 향상시키는 데 도움을 줄 수 있습니다.

### 서버 상태 관리

서버 상태 관리는 주로 **캐싱**과 **서버 측 상태 관리 라이브러리**를 사용하여 구현됩니다. SSR을 통해 각 사용자에게 맞는 초기 상태를 생성하고 캐시에 저장함으로써 서버 측에서 상태를 관리할 수 있습니다. 이를 통해 초기 로딩 시 사용자에게 맞는 상태를 효율적으로 전달할 수 있습니다.

## SSR에서의 상태 관리 패턴

SSR 환경에서 상태를 관리하는 패턴은 다음과 같은 고려 사항을 포함해야 합니다.

### 초기 로딩 상태

SSR은 초기 로딩 시 특정 상태를 클라이언트에 전달할 수 있는 기회를 제공합니다. 상태를 서버 측에서 렌더링하여 클라이언트에게 전달하고 이후에 클라이언트에서 상태를 가져오는 방식을 고려해야 합니다.

### 동기화

클라이언트와 서버 간의 상태 동기화는 매우 중요합니다. SSR을 통해 서버에서 초기 상태를 전달한 후에는 클라이언트에서도 해당 상태를 유지하거나 업데이트해야 합니다.

### 서버 측 캐싱

서버 측 캐싱을 사용하여 SSR을 통해 렌더링된 상태를 효율적으로 관리할 수 있습니다. 캐싱 전략을 고려하여 서버 측에서 상태를 관리하는 것이 중요합니다.

## 결론

SSR 환경에서의 상태 관리는 클라이언트와 서버 간의 초기 로딩 상태, 동기화, 서버 측 캐싱 등 다양한 측면을 고려해야 합니다. 적절한 상태 관리 패턴을 선택하여 SSR의 성능 및 사용자 경험을 향상시킬 수 있습니다.

참고 자료:

- [Redux 공식 문서](https://redux.js.org/)
- [MobX 공식 문서](https://mobx.js.org/)
- [SSR 상태 관리 패턴에 대한 블로그 포스트](https://www.smashingmagazine.com/2020/06/restoring-performance-evaluating-server-side-frameworks/)