---
layout: post
title: "[sql] 연결 끊김으로 인한 장애 복구 절차"
description: " "
date: 2023-12-19
tags: [sql]
comments: true
share: true
---

## 목차
1. [문제 상황](#문제-상황)
2. [복구 절차](#복구-절차)
3. [참고 자료](#참고-자료)

---

## 문제 상황
컴퓨터 시스템에서 데이터베이스에 대한 연결이 갑자기 끊겼을 때, 데이터베이스나 응용프로그램은 장애 상태가 될 수 있습니다. 이를 해결하기 위해 다음과 같은 장애 복구 절차를 수행해야 합니다.

## 복구 절차
1. **연결 문제 식별**: 시스템 로그 또는 데이터베이스 관리 도구를 통해 **연결 끊김**으로 인한 오류를 확인합니다.
   
2. **재연결 시도**: 데이터베이스 서버와의 연결을 재시도합니다. 대부분의 데이터베이스 관리 시스템은 자동으로 연결을 재시도하는 메커니즘을 가지고 있습니다. 필요에 따라 수동으로 연결을 재시도할 수 있습니다.

    ```sql
    -- SQL Server의 경우
    ALTER DATABASE [DBName] SET ONLINE;
    ```

3. **네트워크 및 인프라 점검**: 장애가 네트워크 문제 또는 인프라 구성과 관련된 것일 수 있으므로 네트워크 및 인프라 팀과 함께 확인합니다.

4. **응용프로그램 재시작**: 데이터베이스 연결 문제로 인해 영향을 받는 응용프로그램이 있다면 해당 응용프로그램을 재시작하여 문제를 해결합니다.

5. **장애 원인 조사**: 연결 끊김이 발생한 원인을 조사하고, 유사한 문제가 발생하지 않도록 예방 조치를 취합니다.

---

## 참고 자료
- Microsoft Docs. "ALTER DATABASE SET ONLINE (Transact-SQL)"  [링크](https://docs.microsoft.com/en-us/sql/t-sql/statements/alter-database-transact-sql-set-online?view=sql-server-ver15)