---
layout: post
title: "[sql] SQL 연결이 끊겼을 때의 문제점"
description: " "
date: 2023-12-19
tags: [sql]
comments: true
share: true
---

SQL 데이터베이스와 애플리케이션 사이의 연결은 중요한 역할을 합니다. 그 연결이 끊기면 다양한 문제가 발생할 수 있습니다. 이번 글에서는 SQL 연결이 끊겼을 때 발생하는 문제점들과 그 대처 방안에 대해 알아보겠습니다.

## 문제점

1. **데이터 유실:** 연결이 끊겼을 때 데이터베이스에 쓰려던 변경 사항이 사라질 수 있습니다. 이는 데이터 무결성과 일관성을 해칠 수 있습니다.
2. **애플리케이션 오류:** 끊긴 연결로 인해 애플리케이션에서 오류가 발생할 수 있습니다. 사용자 경험에 영향을 미칠 수 있습니다.
3. **보안 취약점:** 연결이 끊겼을 때 보안 취약점이 발생할 수 있습니다. 끊긴 채널을 통해 중요 정보가 노출될 수 있습니다.

## 대처 방안

1. **재연결 로직 구현:** 연결이 끊기면 해당 오류에 대한 예외처리를 구현하고, 재연결하는 로직을 추가합니다.
   ```python
   try:
       # SQL 연결 실행
   except ConnectionError:
       # 재연결 로직 구현
   ```
2. **연결 상태 모니터링:** 주기적으로 연결 상태를 확인하고, 끊길 것으로 예상되는 시점에 사전에 대응합니다.
3. **데이터 유효성 검사:** 끊긴 후 데이터의 무결성을 검사하고, 필요하다면 롤백하거나 복구 작업을 수행합니다.

SQL 연결이 끊겼을 때의 문제점은 심각한 영향을 미칠 수 있으므로, 이에 대한 대처 방안을 충분히 고려하는 것이 중요합니다.

[Reference](https://www.sqlshack.com/handling-sql-connection-lost-and-re-establishing-upon-re-connecting/)