---
layout: post
title: "[sql] 외부 스토리지 연동을 통한 저장 공간 관리"
description: " "
date: 2023-12-18
tags: [sql]
comments: true
share: true
---

저장 공간은 많은 기업 및 조직에게 중요한 문제입니다. 데이터 양이 많아지면 저장 공간이 늘어나야 합니다. 그러나 모든 데이터를 기업 내부에서 보관하는 것은 비용이 많이 들며 유지보수와 확장에 한계가 있습니다. 따라서 **외부 스토리지**를 사용하여 저장 공간을 확장하는 것이 필요합니다.

## 외부 스토리지 연동 방법

외부 스토리지를 연동하는 가장 일반적인 방법은 **네트워크 파일 시스템(NFS)** 또는 **서버 메시지 블록(SMB)**를 사용하는 것입니다. NFS 및 SMB는 기업 내부 네트워크를 통해 외부 스토리지와 연결되어 파일을 읽고 쓸 수 있는 프로토콜을 제공합니다.

## SQL에서의 외부 스토리지 활용

SQL 데이터베이스에서 외부 스토리지를 활용하려면 먼저 해당 스토리지에 접근할 수 있는 권한을 부여해야 합니다. 이후 SQL 쿼리를 사용하여 외부 스토리지에 있는 데이터를 읽거나 쓸 수 있습니다. 

예를 들어, AWS S3에 저장된 파일을 SQL Server에서 테이블에 로드하려면 다음과 같은 쿼리를 사용할 수 있습니다.

```sql
CREATE EXTERNAL DATA SOURCE MyAzureInvoices
WITH (
    TYPE = HADOOP,
    LOCATION = 'wasbs://myblob@myaccount.blob.core.windows.net',
    CREDENTIAL = [MyAzureInvoicesCredential]
);
```

외부 스토리지에 데이터를 저장하거나 검색할 때 SQL 쿼리를 사용하여 간단하게 처리할 수 있습니다.

## 외부 스토리지의 장단점

외부 스토리지를 사용하는 것에는 몇 가지 장단점이 있습니다.

장점:
- 저장 공간 확장
- 비용 절감
- 유연성 및 확장성

단점:
- 네트워크 지연에 따른 성능 저하
- 보안 문제

이러한 장단점을 고려하여 기업이나 조직의 요구에 맞게 적절한 외부 스토리지 솔루션을 선택해야 합니다. 

## 마무리

외부 스토리지를 활용하여 저장 공간을 관리하는 것은 비용과 유연성 측면에서 많은 이점을 제공합니다. SQL 데이터베이스를 통해 외부 스토리지를 연동하여 데이터를 효율적으로 관리하는 것은 중요한 과제입니다.