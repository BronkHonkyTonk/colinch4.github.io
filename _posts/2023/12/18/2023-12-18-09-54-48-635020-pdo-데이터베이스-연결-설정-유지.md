---
layout: post
title: "[php] PDO 데이터베이스 연결 설정 유지"
description: " "
date: 2023-12-18
tags: [php]
comments: true
share: true
---

PHP에서 데이터베이스와 연결하기 위해 PDO (PHP Data Objects)를 사용하는 것은 일반적입니다. 하지만 PDO 연결을 설정하고 유지하는 방법에 대해 잘못 알고 있거나 혼동하기 쉬울 수 있습니다. 

이 블로그 포스트에서는 PDO 데이터베이스 연결 설정을 올바르게 유지하는 방법에 대해 알아보겠습니다.

## 목차

1. [PDO 연결 설정](#pdo-연결-설정)
2. [연결 유지하기](#연결-유지하기)
3. [연결 해제](#연결-해제)

## PDO 연결 설정

PDO를 사용하여 데이터베이스에 연결하는 첫 번째 단계는 적절한 데이터베이스 정보를 사용하여 PDO 인스턴스를 만드는 것입니다. 이를 위해 다음과 같이 코드를 작성할 수 있습니다.

```php
$host = 'localhost';
$dbname = 'database';
$username = 'username';
$password = 'password';

$pdo = new PDO("mysql:host=$host;dbname=$dbname", $username, $password);
```

위 코드에서 `new PDO`를 사용하여 PDO 객체를 만들고 데이터베이스 연결을 설정합니다.

## 연결 유지하기

일반적으로 PDO 연결은 스크립트의 수명과 동일한 기간 동안 유지됩니다. 따라서 재사용하고 여러 쿼리에 대해 재연결하지 않아도 됩니다.

만약 여러 번 데이터베이스 쿼리를 실행해야 하는 경우, 같은 PDO 연결 인스턴스를 사용하여 모든 쿼리를 수행할 수 있습니다.

```php
// 이전에 만든 $pdo 인스턴스를 사용하여 쿼리를 실행할 수 있습니다.
$sql = "SELECT * FROM users";
$stmt = $pdo->query($sql);
```

PDO 연결은 `$pdo` 변수에 저장되어 있으므로, 동일한 스크립트 내에서 사용자가 원하는 만큼 다양한 쿼리를 실행할 수 있습니다.

## 연결 해제

만약 연결이 더 이상 필요하지 않다면, PDO 연결을 명시적으로 해제하는 것이 좋습니다. `unset` 함수를 사용하여 변수를 없애는 것이 아니라, `null`로 설정하는 것이 좋습니다.

```php
$pdo = null;
```

이로써 PDO 데이터베이스 연결 설정을 올바르게 유지하고 해제하는 방법에 대해 학습했습니다. PDO를 사용하여 데이터베이스와 연결하는 방법을 올바르게 이해하면, PHP 애플리케이션에서 데이터베이스를 효과적으로 관리할 수 있습니다.