---
layout: post
title: "[c] C언어 메타프로그래밍과 코드 생성기의 차이점과 유사성"
description: " "
date: 2023-12-18
tags: [c언어]
comments: true
share: true
---

C언어에서는 **메타프로그래밍(Metaprogramming)**과 **코드 생성기(Code generator)**가 비슷해 보일 수 있지만, 그 두 가지 접근 방식에는 몇 가지 중요한 차이점이 존재합니다. 먼저, 둘 다 프로그램 코드를 생성할 수 있는 기술이나, 동작 방식과 목적에서 차이가 있습니다.

## 메타프로그래밍

C언어에서의 메타프로그래밍은 주로 **프리프로세서 매크로(preprocessor macros)**와 **템플릿(Template)**을 사용하여 구현됩니다. 

메타프로그래밍은 컴파일 전 단계에서 이루어지며, 기존의 소스 코드를 처리하여 원하는 코드를 자동으로 생성하는 방식으로 작동합니다. 예를 들어, 프로그램 내에서 반복적으로 사용되는 로직을 매크로로 정의하여 템플릿화하는 것이 가능합니다.

메타프로그래밍은 사용하기가 비교적 간편하고, 간단한 코드 생성 및 변형에 유용합니다.

```c
#define MAX(a, b) ((a) > (b) ? (a) : (b))

int main() {
    int x = 10;
    int y = 20;
    int max_val = MAX(x, y);
    return 0;
}
```

## 코드 생성기

반면에 코드 생성기는 주로 **템플릿 엔진(Template engine)**이나 **라이브러리를 활용하여** 실행 시간에 코드를 생성합니다. 코드 생성기는 주로 복잡한 코드 빌드나 동적 코드 생성에 활용되며, 프로그램이 동작하는 동안에 필요한 코드를 생성하는 데 사용됩니다.

```c
#include <stdio.h>

int main() {
    int x = 10;
    int y = 20;
    printf("The sum of %d and %d is %d\n", x, y, (x + y));
    return 0;
}
```

이제 매크로 확장과 같은 메타프로그래밍 방식으로 런타임에 코드를 생성하는 것이 가능해지는데, 이는 코드 생성기와 메타프로그래밍의 경계가 희미해질 수 있게 됩니다.

따라서, 이 둘 사이의 구분은 코드 생성 시점과 생성된 코드의 유형에 따라 이루어지며, 다른 사용 사례에 따라 적합한 기술을 선택할 수 있습니다.

이처럼, C언어에서의 메타프로그래밍과 코드 생성기는 각각의 장단점을 가지고 있으며, 적절한 상황에 적용할 수 있는 기술이라 할 수 있습니다.