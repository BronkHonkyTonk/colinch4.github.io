---
layout: post
title: "[c] 모의 테스트와 가짜 객체를 활용한 테스트"
description: " "
date: 2023-12-18
tags: [c]
comments: true
share: true
---

테스트하는데 있어 가짜 객체를 사용하는 것은 매우 중요합니다. 이는 실제 객체의 상태나 동작을 모방하여 사용됩니다. 

가짜 객체는 모의 객체와 스파이 객체로 구분됩니다. **모의 객체**는 특정 조건에 대한 응답을 제어할 수 있지만, 실제 호출은 확인하지 않습니다. 반면에 **스파이 객체**는 함수나 메서드가 호출되었는지 여부를 확인할 수 있습니다.

## 모의 테스트(Mocking)란?

모의 테스트는 가짜 객체를 사용하여 특정 객체나 시스템에 대한 테스트를 할 때 주로 활용됩니다. 모의 테스트를 통해 다양한 상황에 대해 객체의 동작을 시뮬레이션하고, 그에 따른 응답을 확인할 수 있습니다.

```java
// 예시: Java에서의 모의 객체 작성
Mockito.when(userService.getUserDetails("123")).thenReturn(new User("John"));
```

## 가짜 객체(Fake Objects)란?

가짜 객체는 실제로 작동하는 객체처럼 보이지만, 실제 객체와 같은 동작을 수행하지는 않습니다. 대신, 고정된 값을 반환하거나 함수 호출 여부 등을 확인하여 테스트에 활용됩니다.

## 스파이 객체(Spy Objects)란?

스파이 객체는 함수나 메서드 호출 여부를 확인하는 데 주로 사용됩니다. 특정 함수가 호출되었는지, 몇 번 호출되었는지, 어떤 매개변수로 호출되었는지를 확인하여 테스트를 수행할 수 있습니다.

```javascript
// 예시: JavaScript에서의 스파이 객체 사용
const spy = jest.fn();
```

## 결론

모의 테스트와 가짜 객체는 테스트 주도 개발(TDD) 및 단위 테스트를 작성할 때 매우 유용합니다. 이를 통해 테스트 대상 객체를 완전히 격리시키고, 의존성을 줄이며 안정적인 테스트를 수행할 수 있습니다. 

이러한 기술을 통해 개발자는 코드를 변경하거나 새로운 기능을 추가했을 때, 기존 동작이 손상되지 않았음을 확신할 수 있습니다.

<!-- References -->
참고: [Mockito - Java Mocking Framework](https://site.mockito.org/)