---
layout: post
title: "[스프링] JPA 프록시"
description: " "
date: 2023-12-18
tags: [스프링]
comments: true
share: true
---

스프링 프레임워크와 JPA(Java Persistence API)를 사용하다 보면 **프록시**(proxy)라는 용어를 자주 접하게 됩니다. 이 글에서는 스프링과 JPA에서 프록시가 무엇인지 이해하고 예제를 통해 실제 사용 방법을 알아보겠습니다.

## 프록시란 무엇인가?

프로그래밍 용어에서 **프록시**는 다른 무엇인가를 나타내는 객체입니다. 이 객체는 실제 대상에 대한 참조를 갖고 있고, 클라이언트가 해당 객체를 사용할 때 대리인 역할을 수행합니다. 스프링과 JPA에서 프록시는 주로 지연 로딩과 영속성 컨텍스트 관리에 사용됩니다.

## 스프링과 JPA에서의 프록시 활용

### 1. 지연 로딩

JPA에서는 연관 관계를 가지는 엔티티를 프록시를 사용하여 **지연 로딩**할 수 있습니다. 이를 통해 실제 필요한 시점에 연관된 엔티티를 가져올 수 있습니다.

```java
@Entity
public class Order {
    // 다수의 상품을 가질 수 있으므로 지연 로딩으로 성능 향상
    @OneToMany(mappedBy = "order", fetch = FetchType.LAZY)
    private List<OrderItem> items;
}
```

### 2. 영속성 컨텍스트 관리

JPA는 영속성 컨텍스트를 관리하여 엔티티를 추적하고 캐싱합니다. 프록시를 사용하여 엔티티를 로딩하는 경우, 영속성 컨텍스트에 있는지 먼저 확인하고 없다면 데이터베이스에서 조회하여 영속성 컨텍스트에 추가합니다.

## 마무리

이번 글에서는 스프링과 JPA에서 프록시의 개념과 활용에 대해 알아보았습니다. 프록시는 성능 최적화와 영속성 컨텍스트 관리를 효과적으로 지원하는 기술입니다. **프록시**를 적재적소에 활용하여 더 효율적인 애플리케이션을 개발할 수 있을 것입니다.

참고 문헌:
- [스프링 공식 문서](https://spring.io/)
- [자바 ORM 표준 JPA 프로그래밍](http://www.hanbit.co.kr/store/books/look.php?p_code=B6465020480)