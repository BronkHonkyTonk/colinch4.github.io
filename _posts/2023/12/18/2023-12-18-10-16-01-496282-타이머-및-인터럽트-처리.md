---
layout: post
title: "[c] 타이머 및 인터럽트 처리"
description: " "
date: 2023-12-18
tags: [c언어]
comments: true
share: true
---

이번에는 임베디드 시스템에서 **타이머**와 **인터럽트**를 어떻게 처리하는지에 대해 알아보겠습니다.

## 타이머(Timer)란?

**타이머**는 정확한 시간을 측정하거나 일정 주기로 특정 작업을 수행하기 위해 사용됩니다. 대부분의 마이크로컨트롤러에는 하드웨어 타이머가 내장되어 있으며, 이를 이용해 정확한 시간 제어가 가능합니다.

### 타이머의 사용 예시

예를 들어, 주기적으로 센서 값을 측정하거나 정확한 시간 간격으로 데이터를 전송해야 하는 경우에 타이머를 사용할 수 있습니다.

## 인터럽트(Interrupt)란?

**인터럽트**는 프로세서가 실행 중인 작업을 중단하고 발생한 이벤트에 대한 처리를 수행하는 기술입니다. 인터럽트는 외부 이벤트(예: 버튼 클릭)나 내부 이벤트(예: 타이머 만료)에 의해 발생합니다.

### 인터럽트의 사용 예시

임베디드 시스템에서는 주로 외부 센서에서 데이터를 수신하는 경우나 특정 이벤트가 발생했을 때 즉각적으로 처리해야 하는 경우에 인터럽트를 사용합니다.

## 타이머와 인터럽트의 연동

타이머와 인터럽트는 주로 함께 사용되어 특정 시간 간격으로 인터럽트를 발생시키는 용도로 활용됩니다. 예를 들어, 타이머를 설정하여 정해진 주기마다 인터럽트를 발생시켜 특정 작업을 수행하는 방식으로 사용됩니다.

다음은 C언어를 사용하여 타이머와 인터럽트를 처리하는 예시 코드입니다.

```c
#include <avr/io.h>
#include <avr/interrupt.h>

// 타이머 초기화 함수
void init_timer() {
   // 타이머 설정 및 인터럽트 활성화
   // ...
}

// 타이머 인터럽트 처리 함수
ISR(TIMER1_COMPA_vect) {
   // 타이머 인터럽트 발생 시 수행할 작업 처리
   // ...
}

int main() {
   // 타이머 초기화 함수 호출
   init_timer();

   // 전역 인터럽트 활성화
   sei();

   while(1) {
      // 메인 루프에서 수행할 작업 처리
      // ...
   }
   return 0;
}
```

이처럼 타이머와 인터럽트를 함께 사용하여 정확한 시간 간격으로 작업을 수행하는 방법을 참고하여 개발하시면 됩니다.

## 마치며

이상으로 타이머와 인터럽트에 대해 알아보았습니다. 임베디드 시스템 개발에서는 이러한 하드웨어 리소스를 효율적으로 활용하여 시스템을 설계하고 구현하는 것이 중요합니다. 여러분의 임베디드 시스템 개발에 도움이 되기를 바랍니다.