---
layout: post
title: "[스프링] 캐시 관련 디자인 패턴"
description: " "
date: 2023-12-18
tags: [스프링]
comments: true
share: true
---

캐시는 애플리케이션의 성능을 향상시키기 위해 매우 중요합니다. 스프링 프레임워크는 다양한 캐싱 옵션을 제공하여 애플리케이션의 성능을 높일 수 있습니다. 이번 글에서는 **스프링 캐시 모듈을 사용하여 캐시 관련 디자인 패턴**에 대해 알아보겠습니다.

## 캐시를 사용하는 이유

캐시는 데이터를 일시적으로 저장하여 동일한 데이터 요청 시 다시 데이터베이스나 외부 시스템에 접근하는 것을 방지합니다. 이를 통해 애플리케이션의 응답 시간이 단축되고 성능이 향상됩니다. 또한, 캐시는 네트워크 트래픽을 줄이고 서버 부하를 감소시킵니다.

## @Cacheable 어노테이션

스프링 프레임워크에서 캐시를 쉽게 적용할 수 있는 방법으로 `@Cacheable` 어노테이션이 제공됩니다. 이 어노테이션을 메소드에 적용하면 해당 메소드의 반환 값이 캐시에 저장되며, 이후 같은 파라미터로 호출될 때 다시 메소드 실행 없이 캐시된 값을 반환합니다.

```java
import org.springframework.cache.annotation.Cacheable;

@Service
public class MyService {

    @Cacheable("myCache")
    public String getFromDatabase(String id) {
        // ...
    }
}
```

## 캐시 프로바이더 변경하기

스프링 캐시 모듈은 다양한 캐시 프로바이더를 지원합니다. 따라서 어플리케이션에서 사용할 적절한 캐시 프로바이더를 선택하여 사용할 수 있습니다. 스프링 프레임워크에서는 기본적으로 **EhCache, Redis, Caffeine**을 지원합니다.

```yaml
spring:
  cache:
    type: cacheprovider
```

## 캐시 관련 디자인 패턴

스프링 캐시 모듈을 사용하는 애플리케이션에서 가장 일반적으로 사용되는 캐시 관련 디자인 패턴은 **캐시-aside 패턴**입니다. 이 패턴에서는 데이터를 찾을 때 먼저 캐시에서 찾고, 캐시에 없을 경우에만 데이터베이스나 외부 시스템에서 데이터를 가져오는 방식으로 동작합니다.

이러한 패턴은 **@Cacheable** 어노테이션을 통해 스프링 캐시 모듈에서 쉽게 구현할 수 있습니다.

## 결론

스프링 프레임워크에서 제공하는 캐시 모듈을 사용하여 캐시를 쉽게 적용할 수 있습니다. **@Cacheable** 어노테이션을 통해 메소드 단위로 캐싱을 적용하고, 캐시 프로바이더를 선택하여 적절한 환경에 맞게 캐시를 관리할 수 있습니다. 캐시-aside 패턴을 따르면서 캐시를 효과적으로 활용하여 애플리케이션의 성능을 최적화할 수 있습니다.

이상으로 **스프링 캐시 관련 디자인 패턴**에 대해 알아보았습니다.

### 참고 자료
- [스프링 공식 문서](https://spring.io/guides/gs/caching/)
- 백민지,『스프링부트와 AWS로 혼자 구현하는 웹 서비스』, 프리렉, 2019.