---
layout: post
title: "[c] 매크로 함수와 인라인 함수의 차이점"
description: " "
date: 2023-12-18
tags: [c]
comments: true
share: true
---

매크로 함수와 인라인 함수는 둘 다 코드 실행 속도를 향상시키는 데 사용되지만, 각각의 사용 목적과 동작 방식에는 몇 가지 중요한 차이점이 있습니다.

## 매크로 함수

매크로 함수는 **컴파일 시간**에 코드를 대체하는 데 사용됩니다. 즉, 매크로 함수는 컴파일러에 의해 호출된 곳에 코드를 삽입하여 더 빠른 실행 속도를 제공합니다. 매크로 함수는 보통 한 줄 이내의 간단한 코드에 사용되며, 함수 호출에 따른 오버헤드를 없애고 실행 속도를 향상시키는 데 유용합니다. 

예를 들어, 아래는 C 언어의 매크로 함수의 예시입니다.

```c
#define MINIMUM(a, b)  ((a < b) ? a : b)
```

이 매크로를 사용하면 컴파일 시간에 `MINIMUM(5, 10)`은 `(5 < 10) ? 5 : 10`으로 대체되어 실행됩니다.

## 인라인 함수

반면 인라인 함수는 **실행 시간**에 함수 호출을 제거함으로써 코드를 빠르게 실행하도록 하는 것이 주요 목적입니다. 컴파일러는 인라인 함수를 호출하는 부분에 함수의 코드를 직접 삽입하여 호출 오버헤드를 제거합니다. 

다음은 C++에서 인라인 함수를 선언하는 예시입니다.

```cpp
inline int multiply(int a, int b) {
    return a * b;
}
```

컴파일러는 `multiply` 함수를 호출하는 곳에 직접 함수의 코드를 삽입하여 실행 속도를 향상시킬 수 있습니다.

## 결론

매크로 함수와 인라인 함수는 각각 컴파일 시간과 실행 시간에 차이가 있으며, 코드 속도 최적화를 위해 특정 상황에 따라 사용됩니다. 알맞게 사용하면 프로그램의 속도를 향상시킬 수 있지만, 오용할 경우 코드의 가독성과 유지 보수성을 해치게 될 수 있으므로 유의해야 합니다.