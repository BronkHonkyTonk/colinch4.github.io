---
layout: post
title: "[sql] 인덱스 선별 및 삭제"
description: " "
date: 2023-12-18
tags: [sql]
comments: true
share: true
---

인덱스는 데이터베이스 테이블의 검색 및 조회 성능을 향상시키는 중요한 객체입니다. 그러나 때로는 적절한 인덱스를 선택하고 기존 인덱스를 삭제해야 할 수도 있습니다. 이번 글에서는 SQL에서 적절한 인덱스를 선별하고 불필요한 인덱스를 삭제하는 방법을 살펴보겠습니다.

## 인덱스 선별

테이블의 컬럼 중 자주 검색되는 컬럼이나 조인에 사용되는 컬럼에 인덱스를 생성하는 것이 중요합니다. **`CREATE INDEX`** 문을 사용하여 적절한 인덱스를 생성할 수 있습니다. 예를 들어, 다음은 `employees` 테이블의 `last_name` 컬럼에 인덱스를 생성하는 예제입니다.

```sql
CREATE INDEX idx_lastname ON employees (last_name);
```

## 불필요한 인덱스 식별

테이블에는 필요 이상으로 많은 인덱스가 생성될 수 있습니다. 이러한 불필요한 인덱스는 성능에 악영향을 끼칠 수 있으므로 주기적으로 확인하고 삭제해주어야 합니다. 먼저, 인덱스 목록을 확인하여 불필요한 인덱스를 식별합니다.

```sql
SHOW INDEX FROM table_name;
```

## 인덱스 삭제

식별된 불필요한 인덱스는 **`DROP INDEX`** 문을 사용하여 삭제할 수 있습니다. 예를 들어, `idx_lastname`를 삭제하는 예제는 다음과 같습니다.

```sql
DROP INDEX idx_lastname ON employees;
```

인덱스를 삭제하기 전에는 주의해야 합니다. 실제로 사용되지 않는지 확인한 후에 삭제하는 것이 좋습니다.

## 마무리

적절한 인덱스 선별과 불필요한 인덱스 삭제는 데이터베이스의 성능을 향상시키는 중요한 작업입니다. 주기적으로 인덱스 목록을 확인하여 필요한 인덱스를 추가하고, 불필요한 인덱스를 삭제하는 것이 좋습니다.

이상으로 SQL에서의 인덱스 선별과 삭제에 대해 알아보았습니다.

참고문헌: [MySQL 공식 문서](https://dev.mysql.com/doc/refman/8.0/en/indexes.html)