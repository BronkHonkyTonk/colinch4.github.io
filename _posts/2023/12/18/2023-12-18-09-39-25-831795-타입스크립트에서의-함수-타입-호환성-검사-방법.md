---
layout: post
title: "[typescript] 타입스크립트에서의 함수 타입 호환성 검사 방법"
description: " "
date: 2023-12-18
tags: [typescript]
comments: true
share: true
---

타입스크립트에서는 함수 타입에 대한 호환성을 검사하는데 있어 몇 가지 중요한 규칙이 존재합니다. 이 포스트에서는 이러한 규칙에 대해 알아보고, 함수 타입 간의 호환성을 어떻게 확인하는지에 대해 설명하겠습니다.

## 함수 타입 호환성

타입스크립트에서는 함수 간의 호환성을 검사할 때 매개변수의 개수와 타입, 그리고 반환 타입을 기준으로 합니다.  

예를 들어, 다음과 같은 두 함수가 있다고 가정해봅시다.

```typescript
type HelloWorldFn = (message: string) => void;
type GreetFn = (greet: string, times: number) => string;
```

`HelloWorldFn`은 매개변수로 문자열을 받고 반환값이 없는 함수 타입을 정의하고, `GreetFn`은 문자열과 숫자를 받아 문자열을 반환하는 함수 타입을 정의합니다. 

이때, `HelloWorldFn`은 `GreetFn`으로 할당할 수 있지만, `GreetFn`은 `HelloWorldFn`에 할당할 수 없습니다. 이는 `HelloWorldFn`의 매개변수와 반환 타입이 `GreetFn`에 정의된 매개변수와 반환 타입을 포함하기 때문입니다. 

함수 간의 호환성 검사는 타입스크립트의 강력한 기능 중 하나이며, 코드의 안정성을 높이는데 도움을 줍니다. 

## 공변성, 반공변성, 양방향성

타입스크립트에서는 매개변수와 반환값 사이의 관계에 따라 함수 타입을 공변성, 반공변성, 양방향성으로 분류합니다.

- **공변성 (Covariance)**: 만일 A가 B의 하위 타입이라면, A 타입의 함수는 B 타입의 함수로 할당 가능하다. 즉, A 타입의 함수가 B 타입의 함수로 할당 가능하다.
- **반공변성 (Contravariance)**: 만일 A가 B의 하위 타입이라면, B 타입의 함수가 A 타입의 함수로 할당 가능하다. 즉, B 타입의 함수가 A 타입의 함수로 할당 가능하다.
- **양방향성 (Bivariance)**: 공변성과 반공변성을 혼합한 것으로, 양쪽으로 할당 가능한 경우이다.

이러한 공변성, 반공변성, 양방향성이 함수 간의 호환성을 검사할 때 중요한 개념 중 하나이며, 이를 통해 코드의 타입 안정성과 유연성을 유지할 수 있습니다.

## 결론

함수 타입에 대한 호환성 검사는 타입스크립트의 강력한 타입 시스템을 활용하여 안정성과 유연성을 동시에 확보하는데 중요한 도구입니다. 함수 간의 매개변수와 반환 타입을 기준으로 하는 호환성 검사와 공변성, 반공변성, 양방향성을 이해하면, 더욱 안정적인 코드를 작성할 수 있을 것입니다.

이상으로, 타입스크립트에서의 함수 타입 호환성 검사 방법에 대해 알아보았습니다. 함수 타입의 호환성을 이해함으로써, 타입스크립트 코드를 더욱 안정적이고 유연하게 작성하는데 도움이 될 것입니다.

참고문헌: 
- [TypeScript Handbook: Function Types](https://www.typescriptlang.org/docs/handbook/2/functions.html)