---
layout: post
title: "[스프링] Eureka 메타데이터 사용 방법"
description: " "
date: 2023-12-18
tags: [스프링]
comments: true
share: true
---

Eureka는 마이크로서비스 아키텍처에서 사용되는 분산 시스템에서 서비스 디스커버리를 위한 오픈 소스 솔루션입니다. 이 기술을 사용하면 **서비스 관리**와 **로드 밸런싱**이 간편해집니다.

Eureka 서버에 등록된 각 마이크로서비스에는 연결된 메타데이터가 있습니다. 이 메타데이터를 이용하면 서버를 찾고 실행 중인 마이크로서비스의 상태를 파악할 수 있습니다. 

이번 블로그에서는 **스프링 부트**를 사용하는 경우 Eureka 메타데이터를 어떻게 활용하는지 살펴보겠습니다.

## 1. Eureka Client에 메타데이터 추가

먼저, **application.yml** 파일을 열고 Eureka Client로 등록할 마이크로서비스의 메타데이터를 추가합니다.

```yaml
eureka:
  instance:
    metadata-map:
      version: 1.0.0
      description: "Microservice communicating with Eureka"
```

위 예제에서는 버전 및 설명과 같은 여러 메타데이터를 추가했습니다. 메타데이터는 개발자가 임의로 정의할 수 있으며, 필요에 따라 추가하거나 수정할 수 있습니다.

## 2. Eureka Server에서 메타데이터 사용

Eureka 서버의 REST API를 사용하여 등록된 모든 마이크로서비스의 메타데이터에 접근할 수 있습니다. 다음은 **curl**을 사용하여 Eureka 서버에서 메타데이터를 얻는 예제입니다.

```shell
curl http://eureka-server:8761/eureka/apps
```

위 명령어를 실행하면 Eureka 서버에 등록된 모든 마이크로서비스의 정보가 반환됩니다. 각 마이크로서비스의 메타데이터에 액세스하여 필요한 정보를 얻을 수 있습니다.

메타데이터를 사용하여 동적으로 서비스를 검색하고 필요한 정보를 얻으며, 이를 기반으로 로드 밸런싱이나 다른 작업을 수행할 수 있습니다.

이렇게 **Eureka**의 메타데이터를 활용하여 마이크로서비스 아키텍처에서 서비스 디스커버리와 관리를 더욱 효과적으로 할 수 있습니다.

## 마치며

이번 글에서는 **Eureka Client**에 메타데이터를 추가하고, **Eureka Server**에서 해당 메타데이터를 활용하는 방법에 대해 알아보았습니다. 메타데이터를 사용하면 마이크로서비스 아키텍처를 좀 더 유연하게 관리할 수 있으며, 서비스 검색 및 상태 파악이 용이해집니다.

Eureka의 메타데이터 기능을 적극적으로 활용하여 마이크로서비스의 효율적인 관리 및 운영을 지원하시기를 바랍니다.