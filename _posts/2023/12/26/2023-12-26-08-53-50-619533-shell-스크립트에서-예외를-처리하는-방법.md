---
layout: post
title: "[shell] Shell 스크립트에서 예외를 처리하는 방법"
description: " "
date: 2023-12-26
tags: [shell]
comments: true
share: true
---

Shell 스크립트에서 예외를 처리하는 것은 중요한 부분입니다. 예외 처리를 통해 코드의 신뢰성을 높이고 안정성을 확보할 수 있습니다. 이 글에서는 Shell 스크립트에서 예외를 처리하는 방법에 대해 살펴보겠습니다.

## 1. 에러 코드 확인

Shell 스크립트에서는 각 명령어나 함수의 실행 결과로 `$?`라는 변수에 에러 코드가 저장됩니다. 일반적으로 0은 성공, 그 이외의 값은 실패를 의미합니다. 따라서 이 값을 확인하여 예외를 처리할 수 있습니다.

```shell
some_command
if [ $? -ne 0 ]; then
  echo "에러가 발생했습니다"
  exit 1
fi
```

## 2. `set -e` 사용

`set -e` 명령을 사용하면 어떤 명령어가 실패하면 즉시 스크립트가 종료됩니다. 이를 통해 간단하게 예외를 처리할 수 있습니다.

```shell
set -e
```

## 3. `trap` 명령 사용

`trap` 명령을 사용하면 스크립트가 종료될 때 특정 동작을 수행할 수 있습니다. 이를 통해 예외가 발생했을 때 추가적인 처리를 할 수 있습니다.

```shell
trap 'echo "스크립트가 종료되었습니다"' EXIT
```

## 결론

Shell 스크립트에서 예외 처리는 코드의 안정성을 높이는 중요한 요소입니다. 위에서 살펴본 방법들을 적절히 활용하여 신뢰성 높은 스크립트를 작성할 수 있습니다.

이상으로 Shell 스크립트에서 예외를 처리하는 방법에 대해 알아보았습니다.

[참고 자료](https://www.tldp.org/LDP/Bash-Beginners-Guide/html/sect_12_02.html)