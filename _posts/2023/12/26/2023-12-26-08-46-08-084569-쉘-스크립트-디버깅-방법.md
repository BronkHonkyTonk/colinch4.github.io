---
layout: post
title: "[shell] 쉘 스크립트 디버깅 방법"
description: " "
date: 2023-12-26
tags: [shell]
comments: true
share: true
---

쉘 스크립트를 작성하다 보면 때로는 스크립트에서 발생하는 문제를 해결해야 할 때가 있습니다. 디버깅은 이러한 상황에서 매우 중요한 역할을 합니다. 이 포스트에서는 쉘 스크립트를 디버깅하는 방법에 대해 알아보겠습니다.

## 에코 모드 활성화

쉘 스크립트를 디버그할 때 가장 먼저 하는 일은 스크립트를 실행하는 동안 발생하는 각 명령어를 표시하기 위해 에코 모드를 활성화하는 것입니다. 이를 위해 스크립트 파일의 맨 위에 다음 내용을 추가합니다.

```sh
set -x
```

이 옵션을 설정하면 스크립트가 실행될 때 실행되는 각 명령어가 디버깅 정보와 함께 출력됩니다.

## 트레이스 모드 활성화

또 다른 유용한 디버깅 기능은 트레이스 모드를 활성화하는 것입니다. 이 모드는 스크립트가 실행되는 동안 발생하는 각 명령어와 해당 명령어의 결과를 표시합니다. 다음과 같이 스크립트 파일의 맨 위에 추가합니다.

```sh
set -x
set -e
```

트레이스 모드는 스크립트 실행 중간에 어떤 명령어에서 문제가 발생했는지 확인하는 데 매우 유용합니다.

## 중지 지점 설정

스크립트가 실행되는 동안 특정 지점에서 중지하고 싶을 때는 다음과 같이 `read` 명령어를 사용하여 중지 지점을 설정할 수 있습니다.

```sh
read -p "Press enter to continue"
```

이렇게 하면 스크립트는 해당 지점에서 실행을 멈추고 사용자로부터 엔터 키를 누를 때까지 대기합니다.

## 에러 발생 시 중지

스크립트에서 에러가 발생했을 때 스크립트 실행을 중지하고 싶을 때는 다음과 같이 `-e` 옵션을 사용합니다. 이렇게 하면 스크립트가 어떤 지점에서든 에러가 발생하면 즉시 실행이 중지됩니다.

```sh
set -e
```

쉘 스크립트를 디버깅하는 방법에 대해 알아보았습니다. 이러한 디버깅 기술을 사용하여 문제를 해결하고 효율적으로 작업할 수 있습니다.

참고문헌:
- https://linuxhint.com/bash_debugging_commands/
- https://www.linode.com/docs/guides/introduction-to-bash-scripting/

이제 쉘 스크립트를 디버깅하는 방법에 대해 알게 되었습니다.