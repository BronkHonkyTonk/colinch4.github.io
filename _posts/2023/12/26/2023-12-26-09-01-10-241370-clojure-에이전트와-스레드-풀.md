---
layout: post
title: "[clojure] Clojure 에이전트와 스레드 풀"
description: " "
date: 2023-12-26
tags: [clojure]
comments: true
share: true
---

Clojure는 함수형 프로그래밍 언어입니다. Clojure 에이전트는 다중 스레드 환경에서 안전하게 값을 변경하는 데 사용됩니다. 또한, Clojure는 자체 스레드 풀을 제공하여 병렬 처리를 지원합니다.

## 에이전트
에이전트는 변경 가능한 상태를 갖지만, 부수 효과를 일으키지 않는다는 점에서 기존의 뮤텍스나 세마포어와 다릅니다. 에이전트의 상태는 변경 함수를 통해 변경되며, 이 변경 함수는 순차적으로 실행되기 때문에 경합 조건이 발생하지 않습니다.

에이전트를 생성하려면 `agent` 함수를 사용하고, 상태를 변경하기 위해서는 `send` 함수를 사용합니다.

```clojure
(def my-agent (agent 0))

(send my-agent + 1)
```

에이전트는 비동기적으로 작동하며, 작업이 완료될 때까지 차단되지 않아 다른 작업을 계속할 수 있습니다.

## 스레드 풀
Clojure는 자체 스레드 풀을 제공하여 병렬 처리를 지원합니다. `future` 함수를 사용하여 비동기 작업을 수행하면, 자동으로 스레드 풀에서 작업이 수행됩니다.

```clojure
(def result (future (do-some-work)))
```

## 결론
Clojure의 에이전트와 스레드 풀은 다중 스레드 환경에서 안전하고 효율적인 병렬 처리를 지원합니다. 이를 통해 복잡한 작업을 간단하게 분산시킬 수 있으며, 성능과 안정성을 보장할 수 있습니다.

더 많은 정보를 원하시면 [Clojure 공식 문서](https://clojure.org/)를 참고하시기 바랍니다.