---
layout: post
title: "[sql] SQL에서 DELETE 쿼리 실행 시 주의해야 할 점"
description: " "
date: 2023-12-26
tags: [sql]
comments: true
share: true
---

SQL에서 DELETE 쿼리를 실행할 때 몇 가지 주의해야 할 점이 있습니다. 데이터베이스에서 특정 레코드를 삭제하는 것은 힘든 결정일 수 있으며, 특히 DELETE 쿼리를 실행할 때 실수로 필요한 데이터를 삭제하지 않도록 조심해야 합니다.

## 1. **WHERE 절 사용**

DELETE 쿼리를 실행할 때 반드시 **WHERE 절을 사용**해야 합니다. WHERE 절은 삭제할 데이터를 구체적으로 지정하여 실수로 모든 데이터가 삭제되지 않도록 합니다.

예를 들어, 다음과 같이 WHERE 절을 사용하여 특정 조건을 만족하는 레코드만 삭제하도록 할 수 있습니다.

```sql
DELETE FROM 테이블명
WHERE 조건절;
```

## 2. **트랜잭션 사용**

데이터를 삭제하기 전에 **트랜잭션을 사용**하여 데이터 조작의 안전성을 보장해야 합니다. 트랜잭션은 데이터베이스 조작에 대한 롤백이나 커밋을 지원하며, 실수로 삭제된 데이터를 복구할 수 있게 해줍니다.

예를 들어, 다음과 같이 트랜잭션을 시작하고 커밋 또는 롤백을 사용하여 DELETE 작업을 안전하게 수행할 수 있습니다.

```sql
START TRANSACTION;
DELETE FROM 테이블명 WHERE 조건절;
COMMIT;
```

## 3. **백업**

DELETE 작업을 실행하기 전에 데이터베이스의 **백업을 수행**하여 데이터 손실을 방지해야 합니다. 백업을 통해 필요한 경우 삭제된 데이터를 복구할 수 있습니다.

보통 백업은 데이터베이스 관리 시스템이 제공하는 방법을 사용하거나, 데이터베이스의 덤프를 생성하여 백업할 수 있습니다.

DELETE 작업을 실행할 때 이러한 주의사항을 염두에 두면 데이터 손실을 방지할 수 있으며, 안전하게 데이터를 관리할 수 있습니다.

_[SQL DELETE 문 문서](https://dev.mysql.com/doc/refman/8.0/en/delete.html)_

간단한 예시:

```sql
DELETE FROM employees
WHERE department = 'HR';
```