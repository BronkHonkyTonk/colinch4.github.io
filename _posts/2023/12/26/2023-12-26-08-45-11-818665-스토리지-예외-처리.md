---
layout: post
title: "[html] 스토리지 예외 처리"
description: " "
date: 2023-12-26
tags: [html]
comments: true
share: true
---

웹 애플리케이션을 개발할 때, 스토리지 예외 처리는 중요한 부분입니다. 사용자가 로컬 스토리지 또는 세션 스토리지에 데이터를 저장하거나 사용할 때 발생할 수 있는 다양한 예외 상황을 다루는 방법에 대해 알아보겠습니다.

## 로컬 스토리지 예외 처리

로컬 스토리지는 사용자 브라우저에 영구적으로 데이터를 저장할 수 있는 기능을 제공합니다. 하지만 이 기능을 사용할 때 몇 가지 예외 상황을 고려해야 합니다.

### 스토리지 용량 초과

로컬 스토리지에 저장할 수 있는 데이터의 용량은 한정되어 있습니다. 만약 사용자가 이 용량을 초과하여 데이터를 저장하려고 시도한다면, **QuotaExceededError** 예외가 발생합니다. 이때, 애플리케이션에서 이 예외를 적절히 처리해야 합니다.

```javascript
try {
  localStorage.setItem('key', 'value');
} catch (e) {
  if (e.code === 22) {
    // 용량 초과 시 처리 로직
  }
}
```

### 프라이베이트 브라우징 모드

몇몇 브라우저에서는 프라이베이트 브라우징 모드에서는 로컬 스토리지를 사용할 수 없도록 하는 정책을 가지고 있습니다. **QuotaExceededError** 예외와는 다른 **SecurityError** 예외가 발생하며, 여기에 대한 처리도 필요합니다.

```javascript
try {
  localStorage.setItem('key', 'value');
} catch (e) {
  if (e.code === 18) {
    // 프라이베이트 브라우징 모드에서의 처리 로직
  }
}
```

## 세션 스토리지 예외 처리

세션 스토리지는 사용자 세션 동안에만 데이터를 저장하는 기능을 제공합니다. 이 또한 몇 가지 예외 상황을 다뤄야 합니다.

### 스토리지 용량 초과

로컬 스토리지와 같이 세션 스토리지도 용량을 초과할 경우 **QuotaExceededError** 예외가 발생합니다. 앞서 언급한 방식과 유사하게 이를 처리할 수 있습니다.

### 보안 정책 제한

특정 브라우저에서는 보안 정책에 따라 세션 스토리지를 사용할 수 없도록 하는 경우가 있습니다. 이에 대한 예외 처리도 필요합니다.

## 결론

로컬 스토리지와 세션 스토리지를 사용할 때 발생할 수 있는 예외 상황을 효과적으로 처리하는 것은 웹 애플리케이션의 안정성과 사용자 경험에 중요한 영향을 미칩니다. 적절한 예외 처리를 통해 사용자가 예기치 않은 문제에 직면할 때 스무스한 대응을 제공할 수 있습니다.

많은 시나리오를 고려하고, **try-catch** 문을 적절히 활용하여 예외 처리를 수행하는 것이 바람직합니다.

참고 문헌: [MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API)

이상으로 스토리지 예외 처리에 대한 내용을 마치도록 하겠습니다. 감사합니다!