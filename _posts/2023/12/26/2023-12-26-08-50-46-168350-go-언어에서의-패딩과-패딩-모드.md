---
layout: post
title: "[go] Go 언어에서의 패딩과 패딩 모드"
description: " "
date: 2023-12-26
tags: [go]
comments: true
share: true
---

Go 언어에서는 패딩(padding)을 사용하여 데이터 구조체를 메모리에 저장할 때 데이터의 정렬과 메모리 사용을 최적화할 수 있습니다. 패딩 모드(padding mode)는 구조체 필드 간의 패딩을 제어하는 방식을 의미합니다. 이번 글에서는 Go 언어에서의 패딩과 패딩 모드에 대해 알아보겠습니다.

## 1. 패딩

패딩은 데이터 구조체의 필드들을 메모리에 정렬하는 데 사용됩니다. 예를 들어, 4바이트 정수형 필드 다음에 1바이트 정수형 필드가 온다면, 3바이트의 패딩이 추가될 수 있습니다. 이렇게 함으로써 데이터가 적절하게 정렬되어 메모리 사용이 최적화될 수 있습니다.

```go
type Example struct {
    Field1 int32
    Field2 byte
}
```

위의 예제에서 `Field1`은 4바이트를 차지하므로 메모리에서는 4의 배수 위치에 저장될 것이고, `Field2`는 1바이트를 차지하므로 바로 뒤에 저장됩니다. 따라서 `Field1`의 뒤에 3바이트의 패딩이 추가됩니다.

## 2. 패딩 모드

패딩 모드는 구조체 필드 간의 패딩을 제어하는 방식을 나타냅니다. Go 언어에서는 패딩 모드를 제어하기 위한 특별한 문법이나 키워드가 없으며, 컴파일러가 자동으로 패딩을 추가합니다.

Go 언어에서 구조체 필드의 패딩은 다음과 같은 규칙에 따라 결정됩니다.
- 각 필드는 해당 필드의 크기에 따라 적절한 위치에 저장됩니다.
- 각 필드의 주소(메모리 위치)는 필드의 크기에 맞춰 정렬됩니다.

즉, 패딩 모드는 Go 언어에서 암묵적으로 컴파일러가 처리하는 것이며, 개발자가 직접적으로 제어할 수 없습니다.

## 3. 결론

Go 언어에서의 패딩은 데이터 구조체의 정렬과 메모리 사용 최적화를 위해 사용됩니다. 패딩 모드는 개발자가 직접적으로 제어할 수는 없지만, 컴파일러가 자동으로 적절한 패딩을 추가하여 메모리 사용을 최적화합니다.

이상으로 Go 언어에서의 패딩과 패딩 모드에 대해 알아보았습니다.

참고문헌: [Go 언어 공식 문서](https://golang.org/ref/spec)