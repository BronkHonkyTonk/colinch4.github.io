---
layout: post
title: "[c#] 뮤터블과 이뮤터블의 데이터 유지보수 전략"
description: " "
date: 2023-12-21
tags: [c#]
comments: true
share: true
---

최근 몇 년 동안 함수형 프로그래밍의 중요성이 부각되면서 *뮤터블(Mutable)*과 *이뮤터블(Immutable)* 데이터에 대한 관심도 증가했습니다. 이에 따라, C#과 같은 언어에서도 두 가지 유형의 데이터를 다루는 방법에 대한 고민이 늘어가고 있습니다. 

## 뮤터블과 이뮤터블 데이터란?

**뮤터블** 데이터는 변경 가능한 데이터로, 일단 생성되고 나면 그 값을 변경할 수 있습니다. 반면에 **이뮤터블** 데이터는 변경할 수 없는 데이터로, 값을 생성하면 그 이후에는 수정할 수 없습니다.

## C#에서의 뮤터블과 이뮤터블 데이터 활용

### 뮤터블 데이터 활용

C#에서 뮤터블 데이터는 `class` 타입을 활용하여 정의할 수 있습니다. 이러한 데이터는 필요에 따라 값을 변경할 수 있어서 유연하게 활용할 수 있습니다. 하지만, 복잡한 코드에서 상태 변화를 추적하기 어렵고, 다중 스레드 환경에서 동기화 문제가 발생할 수 있습니다.

아래는 C#에서의 뮤터블 클래스 예시입니다:

```csharp
public class MutableData
{
    public int Value { get; set; }
}
```

### 이뮤터블 데이터 활용

C# 9부터는 Records와 초기화된 읽기 전용 속성을 도입하여 효율적으로 이뮤터블 데이터를 다룰 수 있습니다. 이뮤터블 데이터는 값의 변경이 불가능하기 때문에 상태 변화를 추적하기 쉽고, 다중 스레드 환경에서 안정적으로 사용할 수 있습니다.

아래는 C# 9에서의 Record를 활용한 이뮤터블 데이터 예시입니다:

```csharp
public record ImmutableData(int Value1, int Value2);
```

## 데이터 유지보수 전략

뮤터블과 이뮤터블 데이터를 사용할 때에는 데이터 유지보수 전략을 고려해야 합니다. 뮤터블 데이터는 변화에 따른 상태 변화를 주의깊게 추적하고, 다중 스레드 환경에서의 동기화에 신경을 써야 합니다. 이뮤터블 데이터는 변경이 불가능하기 때문에 새로운 값을 반환하는 방식으로 데이터를 다루며, 필요한 경우 현재 값을 복제하는 방식을 사용합니다.

데이터 유지보수 전략을 구체화하고 팀 내에서 공유함으로써 데이터 변경에 따른 부작용을 최소화하고 안정적인 코드를 작성할 수 있습니다.

## 결론

뮤터블과 이뮤터블 데이터는 각각의 특징과 장단점을 고려하여 프로그램의 목적과 환경에 맞게 활용해야 합니다. 데이터 유지보수 전략을 고려하여 적절한 방식으로 두 유형의 데이터를 적재적소에 활용함으로써 안정적이고 효율적인 코드를 작성할 수 있습니다.

참조:
- https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/immutable

이 문서는 C#에서의 뮤터블과 이뮤터블 데이터에 대한 이해와 해당 데이터를 활용한 유지보수 전략에 대해 다루었습니다.