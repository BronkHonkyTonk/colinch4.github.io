---
layout: post
title: "[sql] 서브쿼리와 메인 쿼리의 관계 및 실행 순서"
description: " "
date: 2023-12-21
tags: [sql]
comments: true
share: true
---

관계형 데이터베이스에서는 종종 서브쿼리를 사용하여 특정 조건을 만족하는 데이터를 추출합니다. 서브쿼리는 메인 쿼리 안에 포함되어 실행되는 쿼리를 말합니다.

## 서브쿼리의 종류
1. **스칼라 서브쿼리** - 단일 값을 반환하는 서브쿼리
2. **인라인 뷰** - 임시 테이블을 만들어서 메인 쿼리와 조인하여 사용하는 서브쿼리
3. **중첩 서브쿼리** - 서브쿼리 안에 또 다른 서브쿼리를 가지는 구조

## 실행 순서
1. **메인 쿼리** - 메인 쿼리가 먼저 실행됩니다.
2. **서브쿼리** - 메인 쿼리 안에 있는 서브쿼리가 실행됩니다. 만약 서브쿼리가 메인 쿼리 결과에 의존한다면, 메인 쿼리가 먼저 실행된 후 서브쿼리가 실행됩니다.
3. **결과 반환** - 서브쿼리 실행 결과를 가지고 메인 쿼리가 실행을 완료하고 결과가 반환됩니다.

서브쿼리와 메인 쿼리는 밀접한 관계를 가지고 있으며, 서브쿼리의 실행은 메인 쿼리에 영향을 미칠 수 있습니다.

참고 자료: 
- https://docs.microsoft.com/en-us/sql/t-sql/queries/select-transact-sql?view=sql-server-ver15
- https://www.sqlshack.com/overview-of-subqueries-in-sql/