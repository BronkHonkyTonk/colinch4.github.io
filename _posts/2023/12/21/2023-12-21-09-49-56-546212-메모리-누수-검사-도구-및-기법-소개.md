---
layout: post
title: "[c언어] 메모리 누수 검사 도구 및 기법 소개"
description: " "
date: 2023-12-21
tags: [c언어]
comments: true
share: true
---

메모리 누수는 프로그램이 메모리를 동적으로 할당하였지만 더 이상 필요하지 않은 상황에서 해당 메모리를 해제하지 않을 때 발생합니다. 이는 시스템의 성능을 감소시킬 뿐만 아니라, 장기적으로는 시스템이 충돌하거나 부정확한 결과를 내놓는 원인이 될 수 있습니다. 이번 글에서는 C언어에서의 메모리 누수를 검사하고 해결하는 데 도움이 되는 도구와 기법을 살펴보겠습니다.

## 메모리 누수 검사 도구 소개

### 1. Valgrind

[Valgrind](http://www.valgrind.org/)는 Linux 환경에서 널리 사용되는 메모리 디버깅과 프로파일링 도구입니다. Valgrind는 메모리 누수 검사를 비롯한 여러 가지 오류를 찾아내고, 프로그램의 메모리 사용량 및 성능을 분석하는 등의 다양한 기능을 제공합니다. Valgrind의 가장 대표적인 도구로는 Memcheck이 있으며, 메모리 누수 및 기타 메모리 오류를 검출하는 데 특화되어 있습니다.

### 2. AddressSanitizer

[AddressSanitizer(ASan)](https://github.com/google/sanitizers/wiki/AddressSanitizer)는 Clang 컴파일러에서 지원하는 메모리 오류 검사 도구로, 메모리 누수 뿐만 아니라 버퍼 오버플로우, 사용 후 해제된 메모리 참조 등을 검출합니다. ASan은 프로그램 실행 시 감시용 코드를 주입하여 메모리 오류를 탐지합니다.

## 메모리 누수 검사 기법

### 1. 정적 코드 분석

정적 코드 분석은 프로그램을 실행하지 않고 소스 코드 수준에서 잠재적인 오류를 찾아내는 방법입니다. 정적 분석 도구를 사용하면 코드를 실행하지 않고도 메모리 누수와 같은 문제를 일찍 발견할 수 있습니다. 대표적인 정적 코드 분석 도구로는 Clang Static Analyzer가 있습니다.

### 2. 메모리 할당 추적

메모리 누수 문제를 해결하는 다른 방법은 메모리 할당과 해제를 추적하는 것입니다. 메모리 할당 추적을 위해 메모리 할당 및 해제 관련 함수(call)를 오버라이딩하여 각 함수 호출에 대한 정보를 기록하고, 할당된 메모리를 추적합니다.

메모리 누수는 프로그램의 안정성과 성능에 영향을 미치는 심각한 문제입니다. 따라서 메모리 누수를 검사하기 위한 도구와 기법을 적극적으로 활용하여 프로그램의 품질을 향상시키는 데 도움이 될 것입니다.