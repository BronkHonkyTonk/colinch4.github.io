---
layout: post
title: "[c언어] 다양한 운영 체제에서의 메모리 할당 및 해제 동작 방식"
description: " "
date: 2023-12-21
tags: [c언어]
comments: true
share: true
---

메모리 할당과 해제는 프로그래밍에서 중요한 주제 중 하나입니다. 특히, **C 언어**에서는 메모리를 직접 할당하고 해제해야 하는 경우가 많습니다. 여러 운영 체제에서 이러한 동작 방식이 다를 수 있습니다. 이번에는 Windows, Linux, macOS에 대해 메모리 할당 및 해제의 동작 방식을 살펴보겠습니다.

## Windows
Windows 운영 체제에서는 메모리 할당을 위해 `malloc` 및 `free`와 같은 표준 C 라이브러리 함수를 사용합니다. 이러한 함수들은 유저 레벨에서 `HeapAlloc`과 `HeapFree`와 같은 커널 레벨 함수를 호출합니다. 메모리 할당이 클 때는 페이지 단위로 이뤄지며, 작을 때는 힙 관리자가 내부적으로 처리하게 됩니다.

## Linux
리눅스에서는 `malloc` 및 `free`와 같은 함수가 `brk` 및 `mmap` 시스템 호출을 사용하여 메모리를 할당하고 해제합니다. 이때, `brk` 시스템 호출은 데이터 세그먼트의 끝을 조정하여 메모리를 할당하고 해제하며, `mmap` 시스템 호출은 새로운 메모리 매핑을 생성하거나 기존 매핑의 속성을 변경합니다.

## macOS
맥 OS에서는 메모리 할당을 위해 리눅스와 유사하게 `malloc` 및 `free` 함수를 사용합니다. 이들 함수는 `malloc_zone_malloc` 및 `malloc_zone_free`와 같은 커널 레벨 함수를 호출하여 메모리를 할당하거나 해제합니다. 맥 OS의 경우, 메모리 관리는 `libmalloc` 라이브러리에 의해 담당됩니다.

각 운영 체제별로 메모리 할당 및 해제의 동작 방식은 다소 차이가 있지만, 프로그래머는 이러한 내부 동작에 대해 깊게 이해할 필요는 없습니다. 그러나 메모리 할당 및 해제를 최적화하고 싶다면 특정 운영 체제의 동작 방식을 이해하는 것이 도움이 될 수 있습니다.