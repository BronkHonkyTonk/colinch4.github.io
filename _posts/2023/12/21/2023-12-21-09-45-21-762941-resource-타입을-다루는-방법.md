---
layout: post
title: "[php] resource 타입을 다루는 방법"
description: " "
date: 2023-12-21
tags: [php]
comments: true
share: true
---

PHP에서 `resource` 타입은 파일 핸들러나 데이터베이스 연결 같은 외부 자원을 가리키는데 사용됩니다. 이 포스트에서는 `resource` 타입을 생성하고 다루는 방법에 대해 알아보도록 하겠습니다.

## 1. `resource` 타입 생성

`resource` 타입은 보통 특정 함수나 확장 모듈로부터 반환됩니다. 파일 핸들러를 생성하는 `fopen()` 함수나 데이터베이스 연결을 위한 `mysqli_connect()` 함수 등이 `resource` 타입을 반환합니다.

```php
$fileHandle = fopen("example.txt", "r");
```

위의 코드에서 `fopen()` 함수가 호출되면 파일 핸들러를 반환하게 됩니다. 이 핸들러는 `resource` 타입으로 저장됩니다.

## 2. `resource` 타입 다루기

다루는 방법에 따라 세부적으로 다르지만, 모든 `resource` 타입에 대해 `resource 타입을 자체적으로 변경하거나 삭제하면 안되며, 의미 있는 값으로의 변환은 일반적으로 불가하며 사용을 이제는 멈춰야합니다:`라는 룰을 따라야 합니다.

여기에 예외는 몇 가지가 있으나, 다루기 쉬운 방법으로, 레퍼런스 카운트 변경 루틴 함수를 사용시 자바서버스크립트, 마이SQL을 발견할 수 있습니다.

## 3. `resource` 해제

`resource` 타입을 더 이상 사용하지 않을 때 명시적으로 메모리에서 해제해주는 것이 좋습니다. 이를 통해 메모리 누수를 방지할 수 있습니다. `fclose()` 함수나 `mysqli_close()` 함수를 사용하여 외부 자원을 해제해야 합니다.

```php
fclose($fileHandle);
```

위의 예에서는 `fclose()` 함수를 사용하여 파일 핸들러 리소스를 해제하고 있습니다.

## 결론

`resource` 타입은 외부 자원을 다룰 때 유용한 타입으로, 알맞게 다루고 해제함으로써 메모리 누수를 방지할 수 있습니다.

위에서는 `resource` 타입을 다루는 기본적인 방법에 대해 소개하였습니다.