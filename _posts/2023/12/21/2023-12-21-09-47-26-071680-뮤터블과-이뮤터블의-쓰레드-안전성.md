---
layout: post
title: "[c#] 뮤터블과 이뮤터블의 쓰레드 안전성"
description: " "
date: 2023-12-21
tags: [c#]
comments: true
share: true
---

C#에서 멀티스레드 환경 아래에서 안전하게 데이터를 다루기 위해 *뮤터블(Mutable)*과 *이뮤터블(Immutable)* 객체가 사용됩니다. 둘의 쓰레드 안전성에 대해 자세히 살펴보겠습니다.

## 뮤터블 객체의 쓰레드 안전성

뮤터블 객체는 *수정 가능한* 객체로, 멀티스레드 환경에서 동시에 여러 쓰레드가 값을 변경할 수 있습니다. 이로 인해 *경쟁 조건(Race Condition)*이 발생할 수 있어, 예기치 못한 동작이 발생할 수 있습니다. 따라서 뮤터블 객체를 쓰레드 안전하게 사용하려면 **lock** 문이나 **Monitor** 클래스를 이용하여 쓰레드 간의 경쟁을 조절해야 합니다.

## 이뮤터블 객체의 쓰레드 안전성

반면에, 이뮤터블 객체는 *수정 불가능한* 객체로, 한 번 생성된 후에는 값을 변경할 수 없습니다. 이로인해 멀티스레드 환경에서 쓰레드 안정성을 보장합니다. 여러 쓰레드가 동시에 값을 읽어도 일관된 결과를 얻을 수 있습니다.

따라서, C#에서는 이뮤터블 객체를 사용하여 쓰레드 안전성을 보장하고, 뮤터블 객체의 쓰레드 안전성을 보장하기 위해 lock과 Monitor 클래스 등을 사용합니다.

이처럼, 뮤터블과 이뮤터블 객체는 멀티스레드 환경에서 데이터 처리에 있어 중요한 역할을 합니다. 뮤터블 객체의 경우 쓰레드 안전성을 보장하기 위해 추가적인 처리가 필요하지만, 이뮤터블 객체는 그런 처리가 필요하지 않으므로 더 안전하게 사용할 수 있습니다.

## 결론
뮤터블과 이뮤터블 객체는 C#에서 멀티스레드 환경에서 안전하게 데이터를 처리하는 데 중요한 역할을 하며, 이뮤터블 객체를 사용하면 쓰레드 안전성을 보장할 수 있습니다.

자세한 내용은 Microsoft 공식 문서 [여기](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/immutable-objects)에서 확인할 수 있습니다.