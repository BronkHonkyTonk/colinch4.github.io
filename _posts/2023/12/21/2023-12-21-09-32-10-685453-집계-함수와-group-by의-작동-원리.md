---
layout: post
title: "[sql] 집계 함수와 GROUP BY의 작동 원리"
description: " "
date: 2023-12-21
tags: [sql]
comments: true
share: true
---

이번 글에서는 SQL에서 사용되는 **집계 함수**와 **GROUP BY** 구문에 대해 알아보겠습니다. 

## 집계 함수

집계 함수는 여러 행의 데이터를 하나의 결과로 집계하는 역할을 합니다. 대표적인 집계 함수로는 **SUM**, **AVG**, **COUNT**, **MAX**, **MIN** 등이 있습니다.

예를 들어, 아래와 같이 주문 테이블이 있다고 가정해봅시다.

| 주문 번호 | 고객 번호 | 주문 금액 |
| --------- | --------- | --------- |
| 1         | 101       | 500       |
| 2         | 102       | 300       |
| 3         | 101       | 200       |
| 4         | 103       | 100       |

이때, `SUM` 함수를 사용하여 주문 테이블의 **주문 금액**을 합산할 수 있습니다.

```sql
SELECT SUM(주문금액) AS 총주문금액 FROM 주문테이블;
```

## GROUP BY

**GROUP BY** 구문은 특정 열을 기준으로 그룹을 형성한 후, 그룹 단위로 집계 함수를 적용할 때 사용됩니다. 

예를 들어, 아래와 같이 주문 테이블이 있다고 가정해봅시다. 

| 주문 번호 | 고객 번호 | 주문 금액 |
| --------- | --------- | --------- |
| 1         | 101       | 500       |
| 2         | 102       | 300       |
| 3         | 101       | 200       |
| 4         | 103       | 100       |

고객 번호를 기준으로 주문금액을 합산하고 싶을 때 `GROUP BY`를 사용할 수 있습니다.

```sql
SELECT 고객번호, SUM(주문금액) AS 총주문금액
FROM 주문테이블 
GROUP BY 고객번호;
```

이렇게 하면 각 고객의 주문 금액이 합산된 결과를 얻을 수 있습니다.

이상으로 SQL에서의 집계 함수와 GROUP BY의 작동 원리에 대해 알아보았습니다.