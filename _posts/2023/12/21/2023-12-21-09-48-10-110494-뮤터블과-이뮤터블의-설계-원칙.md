---
layout: post
title: "[c#] 뮤터블과 이뮤터블의 설계 원칙"
description: " "
date: 2023-12-21
tags: [c#]
comments: true
share: true
---

C#에서 뮤터블(mutable)과 이뮤터블(immutable)은 소프트웨어 시스템 및 애플리케이션의 디자인에 중요한 영향을 미치는 중요한 개념입니다. 이번 포스트에서는 이 두 가지의 디자인 원칙에 대해 알아보고자 합니다.

## 불변성(Immutability)이란 무엇인가?

먼저 불변성(Immutability)이란 객체나 데이터가 생성된 후에 수정될 수 없는 상태를 의미합니다. 즉, 한번 생성된 객체나 데이터의 상태는 그대로 유지되며 변경이 불가능합니다.

## 뮤터블과 이뮤터블의 차이

**뮤터블(Mutable)** 객체는 그 상태를 변경할 수 있는 객체로, 속성이나 데이터를 변화시킬 수 있습니다. 이러한 객체를 사용하는 경우 상태 변이에 따른 부작용(side effect)에 주의해야 합니다.

**이뮤터블(Immutable)** 객체는 한 번 생성된 후에는 내부 상태가 변하지 않는 객체입니다. 이뮤터블 객체의 상태는 안전하게 공유되며 다수의 스레드나 프로세스에서 동시에 접근해도 문제가 발생하지 않습니다.

## 뮤터블보다 이뮤터블을 사용해야 하는 이유

뮤터블 객체는 복잡한 부작용을 초래할 수 있고, 다중 스레드 환경에서 동기화 문제를 일으킬 수 있기 때문에 이뮤터블 객체를 사용하는 것이 안정성과 예측 가능성을 높일 수 있습니다. 

## 뮤터블과 이뮤터블의 설계 원칙

이뮤터블 객체를 설계할 때에는 객체의 상태를 변경하지 않고 새로운 객체를 반환하는 방식으로 메서드를 구현해야 합니다. 이는 함수형 프로그래밍의 주요 원칙 중 하나이며, 객체의 상태를 변경하지 않으면서 부작용을 최소화할 수 있습니다.

또한, C#에서는 불변성을 달성하기 위해 `readonly` 키워드를 사용하거나, 자료구조의 변경가능한 메서드를 피하고 새로운 인스턴스를 반환하는 방식을 사용할 수 있습니다.

이러한 뮤터블과 이뮤터블의 설계 원칙을 이해하고 적절하게 활용함으로써 안정적이고 확장 가능한 소프트웨어 개발에 도움이 될 것입니다.

더 자세한 내용은 [MSDN의 불변성 개요](https://docs.microsoft.com/ko-kr/dotnet/standard/microservices-architecture/mutability-and-immutability)를 참고할 수 있습니다.