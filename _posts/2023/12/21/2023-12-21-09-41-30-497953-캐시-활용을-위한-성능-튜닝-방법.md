---
layout: post
title: "[python] 캐시 활용을 위한 성능 튜닝 방법"
description: " "
date: 2023-12-21
tags: [python]
comments: true
share: true
---

원본 데이터를 반복적으로 계산하지 않고 사전에 계산된 결과를 활용하여 시스템의 성능을 향상시키는 방법 중 하나는 캐시를 활용하는 것입니다. 캐시는 반복적으로 사용되는 결과를 저장해 두고, 이후 동일한 요청이 있을 때 해당 결과를 반환함으로써 시스템의 반응 속도를 높이고 자원을 절약할 수 있습니다.

## 캐시의 활용

캐시는 일반적으로 메모리나 디스크에 저장됩니다. 서버 측에서는 메모리에 캐시를 저장하여 빠른 응답 시간을 제공하는 것이 보편적이지만, 메모리가 부족한 경우에는 디스크 기반의 캐시를 활용하기도 합니다.

## 파이썬에서의 캐시 활용

파이썬에서는 `functools.lru_cache` 데코레이터를 활용하여 함수의 결과를 캐싱할 수 있습니다. 이를 통해 반복적으로 호출되는 함수의 반환값을 저장하여 성능을 향상시킬 수 있습니다.

```python
from functools import lru_cache

@lru_cache(maxsize=None)
def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)
```

위 예시에서 `fibonacci` 함수의 결과가 캐싱되어 다음 호출 시에는 저장된 결과를 활용하여 계산을 수행하게 됩니다.

## 캐시 키의 유일성

캐시를 활용할 때 주의할 점은 **캐시 키**의 유일성을 보장해야 한다는 점입니다. 캐시 키가 중복될 경우 잘못된 결과를 반환할 수 있기 때문에 주의가 필요합니다. 

## 결론

캐시를 적절히 활용함으로써 시스템의 성능을 향상시키는 것은 매우 중요합니다. 파이썬에서는 `functools.lru_cache`를 활용하여 쉽게 캐시를 적용할 수 있으며, 캐시 키의 유일성과 적절한 사이즈 조절을 통해 더욱 효과적으로 성능을 향상시킬 수 있습니다.