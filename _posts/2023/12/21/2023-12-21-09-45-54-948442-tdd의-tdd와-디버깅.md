---
layout: post
title: "[nodejs] TDD의 TDD와 디버깅"
description: " "
date: 2023-12-21
tags: [nodejs]
comments: true
share: true
---

테스트 주도 개발(Test-Driven Development, 이하 TDD)은 소프트웨어를 개발하는 방법 중 하나로, **테스트 케이스를 먼저 작성하고** 테스트를 통과하는 코드를 작성하는 개발 프로세스입니다. TDD의 주요 장점은 개발 초기부터 테스트 코드를 작성하므로 **코드 품질을 향상**시킬 수 있고, 코드 변경 시 **실시간으로 피드백을 받을 수 있다는 것**입니다.

하지만 실제로 TDD를 따르면서 마주칠 수 있는 것 중 하나는 **디버깅**입니다. 코드를 작성하고 테스트를 실행했을 때 테스트 케이스를 통과하지 못하는 등의 문제가 발생할 수 있습니다. 이때, 디버깅을 효과적으로 사용하여 문제를 해결하는 것이 중요합니다.

## TDD의 디버깅 전략

### 테스트 코드 내 디버깅

테스트 케이스가 실패했을 때, **테스트 코드**를 먼저 살펴보는 것이 좋습니다. 테스트 코드가 정확한지 확인하고, 예상한 대로 동작하는지를 확인합니다. 이 과정에서 **console.log**를 통해 중간 변수 값을 확인하는 등의 방법을 사용할 수 있습니다.

```javascript
test('add function', () => {
  const result = add(2, 2);
  console.log(result); // 중간 결과 확인
  expect(result).toBe(4);
});
```

### 실제 코드 내 디버깅

테스트 코드를 통과하지 못한 경우, **실제 코드**를 디버깅해야 합니다. 이때 **디버거**를 사용하여 코드의 각 부분을 실행해가면서 문제가 발생하는 부분을 찾아낼 수 있습니다. 디버거를 사용하면 변수의 값, 함수의 호출 스택, 조건문의 평가 결과 등을 쉽게 확인할 수 있습니다.

```javascript
function add(a, b) {
  let result = a + b;
  debugger; // 디버거 설정
  return result;
}
```

## 결론

TDD를 따를 때 디버깅은 필연적으로 발생하는 과정입니다. 하지만 **테스트 코드와 실제 코드에 디버깅을 적절히 활용**하여 문제를 찾고 해결할 수 있다면, TDD를 통해 안정적이고 견고한 코드를 작성하는 데 큰 도움이 될 것입니다.

[참고 자료](https://jestjs.io/docs/en/troubleshooting)

---
[nodejs] TDD의 TDD와 디버깅