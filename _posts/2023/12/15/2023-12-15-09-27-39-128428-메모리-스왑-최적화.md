---
layout: post
title: "[c++] 메모리 스왑 최적화"
description: " "
date: 2023-12-15
tags: [c++]
comments: true
share: true
---

메모리 스왑(swapping)은 시스템의 물리적인 메모리가 부족할 때 발생하는 현상으로, 디스크 공간을 사용하여 현재 사용되지 않는 메모리 페이지를 임시로 보관하는 것을 말합니다. 이는 시스템 성능에 영향을 미칠 수 있으므로, 메모리 스왑을 최적화하여 시스템 성능을 향상시킬 수 있습니다.

## 1. 메모리 사용량 최적화

가장 효과적인 메모리 스왑 최적화 방법은 물리적인 메모리 사용량을 최적화하는 것입니다. 이를 위해 다음과 같은 방법을 고려할 수 있습니다.

- **메모리 누수(leak) 검사**: 메모리 누수를 찾아 수정하고, 불필요한 메모리 할당을 최소화합니다.
- **메모리 캐싱**: 빈번하게 사용되는 데이터나 객체를 캐시하여 메모리 사용을 최적화합니다.

## 2. 스왑 공간 최적화

스왑 공간을 최적화하여 디스크와 메모리 간의 데이터 전송을 효율적으로 관리할 수 있습니다. 스왑 공간 최적화를 위해 다음과 같은 접근 방법을 고려할 수 있습니다.

- **스왑 파티션 크기 조정**: 스왑 파티션의 크기를 조정하여 성능을 향상시킵니다.
- **스왑 파일 사용**: 스왑 파일의 크기와 위치를 최적화하여 디스크 I/O를 최소화합니다.

## 3. 커널 매개변수 튜닝

시스템 커널의 매개변수를 조정하여 메모리 스왑 동작을 최적화할 수 있습니다. 다음과 같은 매개변수를 조정하여 성능 향상을 도모할 수 있습니다.

- **swappiness**: 스왑 사용 정책을 조정하여 스왑 사용량을 최적화합니다.
- **vm.swappiness**: 스왑 사용 정책을 지정하는 매개변수를 조정합니다.

메모리 스왑 최적화는 시스템의 전반적인 성능을 향상시키는데 중요한 역할을 합니다. 메모리 사용량과 스왑 공간을 최적화하고, 커널 매개변수를 튜닝하여 시스템 성능을 개선할 수 있습니다.

참고문헌: 
- [Linux Documentation](https://www.kernel.org/doc/Documentation/sysctl/vm.txt)