---
layout: post
title: "[c++] 메모리 병목 현상 해결"
description: " "
date: 2023-12-15
tags: [c++]
comments: true
share: true
---

메모리 병목 현상은 성능을 떨어뜨리는 요인 중 하나입니다. C++에서 메모리 병목 현상을 해결하는 다양한 방법이 있습니다.

## 메모리 병목 현상의 원인 파악
메모리 병목 현상이 발생하는 이유를 파악하는 것이 해결책을 찾는 첫걸음입니다. 메모리 복사, 불필요한 메모리 할당 및 해제, 캐시 미스 등이 원인일 수 있습니다.

## 효율적인 자료구조 및 알고리즘 사용
C++ 표준 라이브러리의 효율적인 자료구조 및 알고리즘을 사용하여 메모리 사용량을 최적화할 수 있습니다. 예를 들어, `std::vector`나 `std::array`는 메모리를 효율적으로 사용하며, `std::map`이나 `std::unordered_map`은 빠른 검색 속도를 제공합니다.

```cpp
std::vector<int> nums = {1, 2, 3, 4, 5};
std::map<std::string, int> wordCounts;
```

## 메모리 효율적으로 관리
메모리를 효율적으로 관리하여 병목 현상을 해결할 수 있습니다. 메모리 풀을 사용하여 미리 할당된 메모리를 재활용하거나, 스마트 포인터를 사용하여 메모리 누수를 방지할 수 있습니다.

```cpp
std::shared_ptr<int> ptr = std::make_shared<int>(5);
```

## 불필요한 복사 및 할당 최소화
불필요한 메모리 복사와 할당을 최소화하여 메모리 사용량을 줄입니다. 이를 위해 이동 생성자와 이동 할당 연산자를 사용하거나, 참조나 포인터를 활용하여 복사를 회피할 수 있습니다.

```cpp
std::string source = "Hello, World!";
std::string dest = std::move(source);
```

메모리 병목 현상을 해결하기 위한 다양한 기법들은 개발 환경 및 상황에 따라 다를 수 있습니다. 특정 상황에서는 프로파일링 도구를 사용하여 병목 현상을 정확히 파악할 수도 있습니다.

메모리 병목 현상을 해결하기 위한 노력은 애플리케이션의 성능을 향상시키는 데 중요한 요소이며, 최신 C++ 기술 및 라이브러리의 활용이 필요합니다.

[참고문헌](https://www.modernescpp.com/index.php/c-core-guidelines-avoid-heap-allocations)