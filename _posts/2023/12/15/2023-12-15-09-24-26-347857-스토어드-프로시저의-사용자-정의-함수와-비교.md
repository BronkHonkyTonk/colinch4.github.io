---
layout: post
title: "[sql] 스토어드 프로시저의 사용자 정의 함수와 비교"
description: " "
date: 2023-12-15
tags: [sql]
comments: true
share: true
---

데이터베이스 시스템에서 스토어드 프로시저와 사용자 정의 함수는 데이터 처리 및 조작에 사용됩니다. 하지만 두 가지 기능은 서로 다른 목적과 동작을 가지고 있습니다.

## 1. 스토어드 프로시저 (Stored Procedure)

**스토어드 프로시저**는 SQL 문을 모아 놓은 일련의 프로시저로, 데이터베이스에서 실행됩니다. 주요 특징은 다음과 같습니다.

- **재사용성**: 반복적으로 사용되는 코드나 로직을 스토어드 프로시저로 만들어 놓으면, 동일한 로직을 다시 작성하지 않아도 되므로 재사용성이 뛰어납니다.
- **트랜잭션 처리**: 여러 개의 SQL 문을 하나의 트랜잭션으로 묶어서 처리할 수 있으며, 롤백 및 커밋을 하나의 프로시저에서 관리할 수 있습니다.
- **보안**: 데이터베이스에서 로직을 처리하기 때문에 접근 권한을 스토어드 프로시저에 부여할 수 있어 보안성을 높일 수 있습니다.

## 2. 사용자 정의 함수 (User-defined Function)

**사용자 정의 함수**는 데이터를 처리하거나 계산하기 위해 사용됩니다. 주요 특징은 다음과 같습니다.

- **값 반환**: 함수를 실행하면 값을 반환합니다. 주로 반복되는 계산이나 데이터 처리에 사용됩니다.
- **인라인 함수**: 사용자 정의 함수 역시 반복적으로 사용되는 로직이나 계산식을 재사용할 수 있도록 도와줍니다.
- **조인 작업**: 함수 내에서 다른 테이블로부터 데이터를 가져와 조인 작업을 수행할 수 있습니다.

### 1. 비교

- **목적**: 스토어드 프로시저는 주로 데이터 조작이나 프로시저 호출을 위해 사용되며, 사용자 정의 함수는 값을 계산하거나 반환하기 위해 사용됩니다.
- **성능**: 보통 함수의 성능이 더 좋지만, 스토어드 프로시저는 재사용성과 트랜잭션 처리에 용이하므로 조금 더 유연합니다.
- **구성**: 스토어드 프로시저는 프로시저로, 사용자 정의 함수는 함수로 호출하고 사용됩니다.

두 가지 기능은 각각의 특징과 장단점을 가지고 있으며, 실제 프로젝트에서는 이를 고려하여 적절한 용도에 맞게 활용해야 합니다.

참고 문헌: [Microsoft SQL Server Documentation](https://docs.microsoft.com/en-us/sql/)