---
layout: post
title: "[sql] SQL 데이터베이스에서 인덱스 힌트 사용하기."
description: " "
date: 2023-12-15
tags: [sql]
comments: true
share: true
---

SQL 쿼리를 실행할 때 데이터베이스 옵티마이저가 적절한 실행 계획을 선택하지 못할 때가 있습니다. 이때 **인덱스 힌트**를 사용하여 옵티마이저가 원하는 인덱스를 사용하도록 지시할 수 있습니다.

인덱스 힌트는 일반적으로 다음과 같은 형식으로 사용됩니다.
```sql
SELECT /*+ INDEX(table_name index_name) */ column1, column2 
FROM table_name 
WHERE condition;
```
위의 코멘트 형식 `/*+ INDEX(table_name index_name) */`는 힌트를 나타냅니다. 여기서 `table_name`은 힌트를 적용할 테이블의 이름이고, `index_name`은 해당 테이블에서 사용할 인덱스의 이름입니다.

예를 들어, 특정 쿼리가 실행 계획에 걸맞는 인덱스를 선택하지 못할 때 해당 인덱스를 직접 지정해야 하는 경우에 사용할 수 있습니다. 다만, **인덱스 힌트**를 적용할 때에는 신중해야 하며, 옵티마이저에 의해 선택되는 실행 계획보다 더 나은 성능을 얻을 수 있는지 신중하게 판단해야 합니다.

## 주의사항
- 인덱스 힌트는 특정 데이터베이스 시스템에 의존적이며, 모든 데이터베이스 시스템에서 동일한 방식으로 작동하지는 않을 수 있습니다.
- 데이터베이스 옵티마이저의 동작을 무시하고 강제로 인덱스를 사용하도록 하는 것이므로 잘못 사용할 경우 성능 문제를 유발할 수 있습니다.

**참고 자료:**  
- Oracle Database Documentation - Index Hints  
- SQL Server Documentation - Table Hint

인덱스 힌트를 사용하는 것은 성능 최적화를 위한 마지막 수단으로 고려해야 합니다. 옵티마이저가 제대로 동작하도록 하는 것이 보통 더 좋은 접근 방법입니다.