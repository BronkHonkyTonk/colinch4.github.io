---
layout: post
title: "[ios] 환불 처리 시점"
description: " "
date: 2023-12-15
tags: [ios]
comments: true
share: true
---

iOS 애플리케이션을 운영하다 보면 사용자가 앱 내 구매한 상품을 환불 요청할 수 있는 상황에 직면할 수 있습니다. iOS에서는 이러한 상황에 대비하여 환불 처리 시점을 명확히 정의하고 있습니다.

## 앱 내 구매 환불 정책

iOS에서는 사용자가 [앱 내 구매를 요청한 지 90일 이내](https://developer.apple.com/app-store/review/guidelines/#subscriptions)에는 환불 요청을 받아들여야 합니다. 물론, 환불에 대한 정책은 개발자가 직접 설정할 수 있고, 사용자가 환불을 요청할 경우에 대비하여 적절한 처리 로직을 구현해야 합니다.

앱 내 구매 환불은 iTunes Connect나 App Store Connect에서 관리하며, Apple은 사용자의 환불 요청을 검토하고 처리합니다.

## 사용자 경험과 환불 처리 시점

사용자가 환불을 요청한 경우, 사용자 경험을 최우선으로 고려해야 합니다. iOS 개발자는 사용자가 구매한 상품을 즉시 환불하는 대신, 환불을 즉시 처리하지 않고 일정 기간을 두어 사용자가 실수로 요청한 환불인지 아니면 실제로 상품을 유지하고자 하는지 여부를 재고해야 합니다.

보통은 사용자가 환불 요청을 하자마자 즉시 환불을 처리하지 않고, 상당한 기간을 두어 심사한 후 환불을 진행하는 것이 좋습니다.

## 환불 요청 시 로직 구현

환불 요청에 대한 로직 구현은 각 앱의 특성에 따라 다를 수 있습니다. 사용자가 환불 요청을 하면, 해당 요청을 기록하고, 일정 기간을 두어 유지하고 있는 경우 자동으로 환불을 처리하지 않도록 구현해야 합니다.

```swift
func handleRefundRequest(refund: Refund) {
    if refund.isUnderReview {
        // 사용자가 실수로 요청한 환불인지 확인 후 일정 기간을 두어야 함
        // 적절한 처리 로직 구현
    } else {
        // 즉시 환불 처리
    }
}
```

환불 처리 시점에 대한 명확한 정책과 사용자 경험을 중시한 환불 요청 로직 구현은 앱 운영 시 중요한 부분입니다. iOS 앱을 개발하거나 운영하는 개발자들은 이러한 정책을 숙지하고 적절한 환불 처리 시점을 고려하여야 합니다.