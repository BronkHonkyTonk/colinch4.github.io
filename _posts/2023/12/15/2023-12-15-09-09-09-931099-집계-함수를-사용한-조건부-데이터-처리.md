---
layout: post
title: "[sql] 집계 함수를 사용한 조건부 데이터 처리"
description: " "
date: 2023-12-15
tags: [sql]
comments: true
share: true
---

SQL을 사용하다보면 특정 조건에 따라 데이터를 처리해야 할 때가 있습니다. 이때 집계 함수를 활용하여 조건부 데이터 처리를 효율적으로 수행할 수 있습니다. 

이 글에서는 SQL에서의 조건부 데이터 처리를 위해 필요한 집계 함수에 대해 살펴보고 예제를 통해 실습해보겠습니다.

## 집계 함수란?

집계 함수는 여러 행에 걸쳐 있는 데이터를 하나의 결과로 계산하는 함수입니다. 일반적으로 데이터베이스에서는 SUM, AVG, COUNT, MAX, MIN과 같은 집계 함수를 제공합니다.

## 조건부 데이터 처리

조건부 데이터 처리는 특정 조건에 따라 데이터를 필터링하거나 그룹화하여 처리하는 것을 말합니다. 이때, 집계 함수를 사용하면 특정 조건에 해당하는 데이터를 효율적으로 처리할 수 있습니다.

아래는 가상의 주문 테이블을 예시로 들어 조건부 데이터 처리를 해보겠습니다.

| 주문번호 | 고객번호 | 주문금액 |
| -------- | ------- | ------- |
| 1       | 101    | 5000    |
| 2       | 102    | 7500    |
| 3       | 103    | 3000    |
| 4       | 101    | 4000    |

### 조건부 데이터 처리 예제

다음은 주문금액이 5000 이상인 주문의 수와 총 주문금액을 조회하는 SQL 예제입니다.

```sql
SELECT 
    COUNT(*) AS 주문수,
    SUM(주문금액) AS 총주문금액
FROM 주문테이블
WHERE 주문금액 >= 5000;
```

위 SQL은 주문금액이 5000 이상인 주문의 수와 총 주문금액을 조회합니다.

이를 통해, 집계 함수를 사용하여 조건부 데이터 처리를 효율적으로 수행할 수 있음을 알 수 있습니다.

## 마치며

집계 함수를 사용하여 조건부 데이터 처리를 효율적으로 수행할 수 있습니다. SQL에서 조건부 데이터 처리가 필요한 경우, 집계 함수를 적절히 활용하여 원하는 결과를 얻을 수 있습니다.

이상으로 집계 함수를 사용한 조건부 데이터 처리에 대해 알아보았습니다.

**관련 참고 자료:**  
- [SQL 집계 함수 레퍼런스](https://www.w3schools.com/sql/sql_count_avg_sum.asp)