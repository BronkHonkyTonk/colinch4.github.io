---
layout: post
title: "[python] 모킹(Mocking)을 활용한 단위 테스트"
description: " "
date: 2023-12-15
tags: [python]
comments: true
share: true
---

모킹(Mocking)은 단위 테스트를 수행할 때 특정 모듈, 함수 또는 객체에 의존하는 부분을 대체하는 기술입니다. 이를 통해 테스트의 격리성을 유지하고 의존성을 관리하여 테스트를 더욱 견고하고 신속하게 만들 수 있습니다.

## 모킹(Mocking)이란?

모킹(Mocking)은 단위 테스트의 핵심 부분 중 하나로, **의존성을 가진 부분을 실제 의존 객체 대신 가짜 객체로 대체하여 테스트하는 기법**입니다. 이를 통해 실제 데이터베이스, 네트워크 또는 외부 서비스를 호출하지 않고도 해당 부분의 테스트를 진행할 수 있습니다.

## 모킹(Mocking)의 장점

모킹(Mocking)을 사용하여 단위 테스트를 할 경우, 다음과 같은 장점을 얻을 수 있습니다:

1. **의존성 제어**: 외부 요소에 의존하지 않고도 테스트를 수행하여 콘티뉴어스 통합 및 배포에 도움이 됩니다.

2. **테스트 격리성**: 의존성을 제어함으로써 해당 모듈 또는 함수가 의도대로 작동하는지를 보다 정확하게 테스트할 수 있습니다.

3. **속도 및 안정성**: 외부 서비스 호출을 제외하고 단위 테스트를 진행하여 빠르고 안정적인 테스트 환경을 구축할 수 있습니다.

## 모킹(Mocking) 예시

다음은 Python에서 `unittest.mock` 모듈을 사용하여 모킹을 하는 간단한 예시 코드입니다:

```python
from unittest.mock import MagicMock

# 가짜 객체 생성
fake_object = MagicMock()

# 메서드 호출에 대한 리턴 값 설정
fake_object.method_name.return_value = 10

# 메서드 호출 및 결과 사용
result = fake_object.method_name(20)
assert result == 10
```

## 결론

모킹(Mocking)은 단위 테스트를 보다 효과적으로 수행할 수 있도록 도와주는 강력한 도구입니다. 의존성을 제어하고 외부 환경에 영향을 받지 않는 안정적인 테스트 환경을 구축할 수 있도록 모킹을 적극적으로 활용해 보세요.