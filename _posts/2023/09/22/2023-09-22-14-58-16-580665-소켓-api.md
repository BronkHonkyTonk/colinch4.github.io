---
layout: post
title: "소켓 api"
description: " "
date: 2023-09-22
tags: [소켓]
comments: true
share: true
---

소켓 API는 네트워크 통신을 구현하기 위한 중요한 도구입니다. 소켓 API를 사용하여 클라이언트와 서버 사이의 데이터 교환을 간편하게 할 수 있습니다. 이번 포스트에서는 소켓 API를 활용한 네트워크 통신에 대해 살펴보겠습니다.

## 소켓이란?

소켓은 클라이언트와 서버 사이의 통신을 가능하게 하는 추상화된 인터페이스입니다. 소켓은 IP 주소와 포트 번호를 사용하여 특정 프로세스와 연결됩니다. 이를 통해 데이터를 주고받을 수 있습니다.

## 소켓 API

소켓을 사용하기 위해서는 소켓 API를 호출해야 합니다. 대표적인 소켓 API는 다음과 같습니다.

### Socket()

```python
sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
```

위의 예제 코드에서는 TCP/IP 기반의 소켓을 생성하는 `socket.socket()` 함수를 호출하고 있습니다. `AF_INET`은 IPv4 주소 체계를 사용하겠다는 의미이며, `SOCK_STREAM`은 TCP 프로토콜을 사용하겠다는 의미입니다.

### Bind()

```python
sock.bind((host, port))
```

`bind()` 함수는 소켓에 IP 주소와 포트 번호를 할당합니다. 이를 통해 소켓이 특정 주소와 연결되어 데이터를 주고받을 수 있게 됩니다.

### Listen()

```python
sock.listen()
```

`listen()` 함수는 서버 소켓을 대기 상태로 만듭니다. 클라이언트의 연결 요청을 기다리며, 연결이 이루어지면 클라이언트와 통신할 수 있게 됩니다.

### Accept()

```python
conn, addr = sock.accept()
```

`accept()` 함수는 클라이언트의 연결 요청을 수락하고, 클라이언트와 통신을 위한 새로운 소켓과 주소 정보를 반환합니다. 이후에는 이 새로운 소켓을 통해 클라이언트와 데이터를 주고받습니다.

### Connect()

```python
sock.connect((host, port))
```

`connect()` 함수는 클라이언트 소켓이 서버에 연결되도록 합니다. 서버의 IP 주소와 포트 번호를 지정하여 연결을 요청하면, 서버와 클라이언트 간의 데이터 교환을 시작할 수 있습니다.

### Send() / Receive()

```python
data = sock.recv(1024)
sock.send(data)
```

`recv()` 함수는 소켓으로부터 데이터를 수신하고, `send()` 함수는 소켓을 통해 데이터를 전송합니다. 데이터의 크기를 설정할 수 있으며, 위의 예제 코드에서는 1024바이트의 데이터를 한번에 수신하거나 전송하는 것을 보여줍니다.

## 마무리

소켓 API를 사용하면 클라이언트와 서버 간의 네트워크 통신을 구현할 수 있습니다. 소켓을 생성하고 바인딩하며, 연결을 수락하고, 데이터를 주고받을 수 있는 다양한 함수들을 사용합니다. 이러한 소켓 API를 활용하여 안정적이고 효율적인 네트워크 애플리케이션을 개발할 수 있습니다.

#네트워크통신 #소켓API