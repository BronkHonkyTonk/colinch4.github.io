---
layout: post
title: "[파이썬] unittest 프로덕션 코드와 테스트 코드의 분리"
description: " "
date: 2023-09-07
tags: [python,unittest]
comments: true
share: true
---

프로덕션 코드를 개발하는 동안 테스트 코드를 작성하는 것은 매우 중요합니다. 테스트 코드를 작성하는 것은 프로덕션 코드의 오류를 미리 감지하고 수정하는 데 도움이 됩니다. 이러한 테스트 코드의 효과를 극대화하기 위해서는 프로덕션 코드와 테스트 코드를 분리하여 작성하는 것이 좋습니다.

## 왜 프로덕션 코드와 테스트 코드를 분리해야 할까요?

프로덕션 코드와 테스트 코드를 분리하는 것은 여러 가지 장점이 있습니다.

**1. 코드의 가독성 향상:** 프로덕션 코드와 테스트 코드를 분리하면 프로덕션 코드의 가독성이 향상됩니다. 테스트 코드에서는 프로덕션 코드에 대한 사전 지식이나 구현 세부 사항을 알 필요가 없습니다. 이렇게 하면 프로덕션 코드가 보다 간결하고 이해하기 쉬운 상태를 유지할 수 있습니다.

**2. 유지보수 용이성:** 프로덕션 코드와 테스트 코드를 분리하면 유지보수가 훨씬 쉬워집니다. 특히 프로덕션 코드를 변경하거나 업그레이드할 때, 테스트 코드에 대한 수정이 필요하지 않습니다. 또한, 테스트 코드에서 버그를 수정하거나 새로운 테스트를 추가할 때 프로덕션 코드에 영향을 미치지 않아야 합니다.

**3. 모듈화 및 재사용성:** 테스트 코드와 프로덕션 코드를 분리하여 모듈화하면 테스트 코드를 재사용할 수 있습니다. 다양한 시나리오에 대해 동일한 테스트 코드를 사용하여 코드의 일관성과 안정성을 유지할 수 있습니다.

## 프로덕션 코드와 테스트 코드의 분리 방법

프로덕션 코드와 테스트 코드를 분리하는 가장 일반적인 방법은 디렉토리 구조를 사용하는 것입니다. 디렉토리를 나누고 프로덕션 코드와 테스트 코드를 각각 해당 디렉토리에 배치합니다. 예를 들어, 다음과 같은 디렉토리 구조를 사용할 수 있습니다:

```
- my_project
  - src  # 프로덕션 코드
    - module1.py
    - module2.py
  - tests  # 테스트 코드
    - test_module1.py
    - test_module2.py
```

프로덕션 코드와 테스트 코드를 각각 해당 디렉토리에 배치함으로써 코드를 관리하고 유지보수하는 데 도움이 됩니다. 또한, 테스트 코드만 실행하거나 배포에서 제외할 수도 있습니다.

## Python에서 unittest로 프로덕션 코드와 테스트 코드 분리하기

Python에서는 `unittest` 모듈을 사용하여 테스트 코드를 작성할 수 있습니다. `unittest`를 사용하면 프로덕션 코드와 테스트 코드를 분리하여 작성할 수 있습니다. 예를 들어, 다음은 `unittest` 모듈을 사용하여 프로덕션 코드와 테스트 코드를 분리하는 방법 예시입니다:

```python
# module1.py (프로덕션 코드)

def add_numbers(a, b):
    return a + b


# test_module1.py (테스트 코드)

import unittest
from module1 import add_numbers

class AddNumbersTestCase(unittest.TestCase):
    def test_add_numbers(self):
        result = add_numbers(2, 3)
        self.assertEqual(result, 5)

if __name__ == '__main__':
    unittest.main()
```

위의 예시에서는 `module1.py` 파일에 프로덕션 코드를 작성하고 `test_module1.py` 파일에 테스트 코드를 작성했습니다. 이렇게 분리된 코드는 각각 실행하거나 테스트할 수 있습니다.

## 마무리

프로덕션 코드와 테스트 코드를 분리하여 작성하면 코드의 가독성과 유지보수성을 향상시킬 수 있습니다. Python의 `unittest` 모듈을 사용하여 프로덕션 코드와 테스트 코드를 분리하는 것은 좋은 개발 관행 중 하나입니다. 프로덕션 코드와 테스트 코드를 분리하여 효과적인 테스트를 수행하고 안정성을 유지하세요.