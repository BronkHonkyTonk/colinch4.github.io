---
layout: post
title: "[파이썬] `bokeh` 내부 구조 및 원리"
description: " "
date: 2023-09-07
tags: [python,bokeh]
comments: true
share: true
---

`bokeh`는 인터랙티브한 시각화를 제공하는 파이썬 라이브러리입니다. 그러나 `bokeh`의 내부 구조와 원리를 이해하는 것은 이 라이브러리를 더 효과적으로 사용하는 데 도움이 될 수 있습니다.

## `bokeh`의 구조
`bokeh`는 크게 세 가지 주요 구성 요소로 구성됩니다:

1. `bokeh.models`: 사용자 인터페이스 요소를 나타내는 다양한 모델 클래스를 포함합니다. 예를 들어, `Circle`, `Line`, `TextInput` 등이 있습니다. 이 모델들은 시각적 요소의 속성을 정의하고, 해당 요소에 대한 이벤트를 처리하는 메서드를 제공합니다.

2. `bokeh.plotting`: 그래프와 플롯을 생성하는 데 사용되는 인터페이스를 제공하는 모듈입니다. `figure` 함수를 사용하여 그래프 객체를 생성하고, `add_glyph` 함수를 사용하여 모델 객체를 그래프에 추가할 수 있습니다.

3. `bokeh.layouts`: 시각화 요소를 배치하는 레이아웃을 제공하는 모듈입니다. `row`, `column`, `gridplot` 등의 함수를 사용하여 여러 그림을 페이지에 배치할 수 있습니다.

## `bokeh`의 작동 원리
`bokeh`는 웹 기반의 시각화 도구로 작동합니다. 아래는 `bokeh`의 작동 원리에 대한 간략한 개요입니다:

1. `bokeh`를 사용하면 시각화를 위한 데이터를 준비해야 합니다. 데이터는 `pandas` 데이터프레임, `numpy` 배열 또는 다른 데이터 구조로 제공될 수 있습니다.

2. 시각화 요소를 정의하기 위해 `bokeh.models`의 클래스를 사용합니다. 각 모델 클래스는 시각화 요소의 속성을 정의하고, 해당 요소에 대한 이벤트 처리기를 제공합니다.

3. 데이터와 시각화 요소를 `bokeh.plotting` 모듈을 사용하여 결합합니다. `figure` 함수로 그래프 객체를 생성하고, `add_glyph` 함수를 사용하여 모델 객체를 그래프에 추가합니다.

4. 그래프 객체와 다른 `bokeh` 요소들을 `bokeh.layouts` 모듈을 사용하여 배치합니다. 필요한 경우 여러 개의 그래프를 동시에 표시할 수도 있습니다.

5. `bokeh`는 웹 기반의 시각화를 가능하게 하기 위해 필요한 HTML, CSS, JavaScript 코드를 자동으로 생성합니다. 이 코드를 사용하여 웹 브라우저에서 시각화를 렌더링할 수 있습니다.

6. 생성된 시각화는 웹 페이지에 표시되며, 사용자와의 상호작용은 이벤트 처리기를 통해 수행됩니다. 사용자가 시각화 요소에 대한 동작을 수행하면 `bokeh`는 이를 감지하고 시각화를 업데이트합니다.

## 예제 코드

아래는 `bokeh`를 사용하여 간단한 선 그래프를 만드는 예제 코드입니다:

```python
from bokeh.plotting import figure, show

# 데이터 준비
x = [1, 2, 3, 4, 5]
y = [2, 4, 6, 8, 10]

# 그래프 객체 생성
p = figure(title="Simple Line Graph", x_axis_label="X", y_axis_label="Y")

# 선 그래프 추가
p.line(x, y)

# 그래프 표시
show(p)
```

이 코드는 `bokeh.plotting` 모듈의 `figure` 함수를 사용하여 그래프 객체를 생성하고, `line` 함수를 사용하여 선 그래프를 추가합니다. 마지막으로, `show` 함수를 사용하여 그래프를 표시합니다.

`bokeh`의 더 복잡한 기능을 사용하려면 `bokeh`의 다양한 모듈과 클래스에 대해 자세히 학습해야 합니다. 이를테면 다양한 시각화 속성 및 사용자 이벤트를 처리하는 방법에 대해 공부해 보는 것이 좋습니다.