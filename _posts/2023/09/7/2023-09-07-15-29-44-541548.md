---
layout: post
title: "[파이썬] pytest 테스트 자동 발견과 실행"
description: " "
date: 2023-09-07
tags: [pytest]
comments: true
share: true
---

pytest는 파이썬용 테스트 프레임워크로, 손쉽게 테스트를 작성하고 실행할 수 있는 강력한 도구입니다. pytest는 테스트 코드를 자동으로 발견하고 실행하는 기능을 제공하여 개발자의 생산성을 향상시킵니다. 이번 글에서는 pytest의 테스트 자동 발견과 실행에 대해 알아보겠습니다.

## 테스트 자동 발견

pytest는 테스트 함수와 메서드를 자동으로 발견하여 실행할 수 있습니다. pytest는 특정한 규칙을 따르는 함수나 메서드를 자동으로 테스트로 인식하므로, 테스트를 추가하거나 제거할 때 일일이 설정을 변경할 필요가 없습니다. pytest는 기본적으로 다음과 같은 규칙을 따릅니다.

- 테스트 함수의 이름은 "test_"로 시작해야 합니다.
- 테스트 클래스의 이름은 "Test"로 시작해야 합니다.

pytest는 디렉토리 구조를 분석하여 적절한 테스트를 자동으로 발견합니다. 예를 들어, 프로젝트의 루트 디렉토리에 "tests"라는 디렉토리가 있고 해당 디렉토리 내에 테스트 코드가 있다면 pytest는 해당 테스트를 자동으로 발견하여 실행할 수 있습니다.

## 테스트 실행

pytest는 발견한 테스트를 간편하게 실행할 수 있습니다. pytest를 실행하면 pytest는 자동으로 테스트를 찾아 실행하고 결과를 출력합니다. 테스트 결과는 성공, 실패 및 오류로 구분됩니다. 성공한 테스트는 초록색으로 출력되고, 실패한 테스트는 빨간색으로 출력됩니다. 오류가 발생한 테스트는 노란색으로 출력되며 추가 정보를 제공합니다.

테스트 실행은 파이썬의 `assert`문을 사용하여 예상 결과와 실제 결과를 비교하는 방식으로 이루어집니다. 각 테스트는 예상 결과를 검증하기 위해 `assert`문을 사용하며, 테스트가 실패하거나 오류가 발생한 경우 해당 부분을 찾아 수정할 수 있습니다.

아래는 간단한 테스트 함수의 예시입니다.

```python
import pytest

def test_addition():
    assert 1 + 1 == 2

def test_subtraction():
    assert 5 - 2 == 3
```

이 예시에서는 `test_addition`과 `test_subtraction`이라는 두 개의 테스트 함수가 정의되어 있습니다. `assert`문을 사용하여 각각의 테스트가 예상한 결과를 검증합니다. pytest를 실행하면 이 두 개의 테스트가 실행되고 결과를 출력합니다.

## 결론

pytest는 테스트 자동 발견과 실행에 뛰어난 기능을 제공하는 파이썬용 테스트 프레임워크입니다. 테스트 함수와 메서드를 자동으로 찾아 실행하므로 테스트 추가나 제거에 따른 설정 변경이 필요하지 않습니다. 이를 통해 개발자는 효율적이고 안정적인 테스트를 작성하고 실행할 수 있습니다.