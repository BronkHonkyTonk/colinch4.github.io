---
layout: post
title: "[파이썬] pytest 단점 및 주의사항"
description: " "
date: 2023-09-07
tags: [python,pytest]
comments: true
share: true
---

pytest는 파이썬으로 작성된 테스트 프레임워크로서, 간결하고 직관적인 문법을 제공하여 테스트 작성을 쉽고 효율적으로 만들어 줍니다. 하지만 pytest를 사용할 때 몇 가지 단점과 주의사항을 알고 있어야 합니다. 이 글에서는 pytest의 단점과 주의사항에 대해서 알아보겠습니다.

## 1. 테스트 실행 순서의 무질서함
pytest는 테스트 함수를 실행하는 순서를 보장하지 않습니다. 테스트 함수들은 독립적으로 실행되기 때문에 실행 순서가 중요한 경우에는 테스트 코드를 조심해야 합니다. 만약 어떤 테스트 결과가 이전의 테스트 실행 결과에 의존한다면, pytest를 사용하는 것이 적합하지 않을 수 있습니다.

## 2. 픽스처의 남용
pytest에서 픽스처(fixture)는 테스트 실행 전에 필요한 전처리 작업을 정의하는 함수입니다. 픽스처를 적절하게 사용하면 테스트 코드를 간결하게 유지하고 중복을 피할 수 있지만, 픽스처를 남발하면 테스트의 의도를 분명하게 전달하기 어렵게 됩니다. 픽스처의 사용을 최소화하고 필요한 경우에만 사용하는 것이 좋습니다.

## 3. Assertion의 가독성
pytest에서는 assert 문을 사용하여 테스트 결과를 확인합니다. 하지만 assert 문은 테스트 결과를 파악하기 어렵게 만들 수 있습니다. 가독성을 고려하여 assert 문을 사용할 때는 조금 더 명시적인 방법인 `assert condition, 'error message'` 형태로 작성하는 것이 좋습니다.

## 4. Mocking의 어려움
Mocking은 pytest에서 자주 사용되는 기술 중 하나입니다. 하지만 mocking을 잘못 사용하면 테스트의 신뢰성을 잃을 수 있습니다. 특히 외부 의존성이 있는 코드를 테스트하는 경우, 올바른 mocking 전략을 선택해야 합니다.

## 5. 테스트 커버리지
pytest는 테스트 커버리지(테스트로 실행되는 코드의 비율)를 측정하거나 보고하지 않습니다. 테스트 커버리지를 측정하고 싶다면 pytest 외에 별도의 도구를 사용해야 합니다.

pytest는 많은 장점을 가지고 있지만, 이러한 단점과 주의사항을 알고 사용하는 것이 중요합니다. 이를 고려하여 pytest를 적절하게 활용하면 좀 더 효율적인 테스트 개발을 할 수 있습니다.