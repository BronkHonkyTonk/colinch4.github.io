---
layout: post
title: "[파이썬] pytest와 코드 스타일 가이드"
description: " "
date: 2023-09-07
tags: [pytest]
comments: true
share: true
---

## pytest란?

**pytest**는 파이썬에서 동작하는 테스트 프레임워크로, 간단하고 직관적인 문법을 제공하여 효율적인 테스트 코드 작성을 도와줍니다. pytest는 다양한 기능을 제공하며, 픽스처(fixture), 테스트 격리(isolation), 매개변수화 테스트(parameterized testing) 등의 확장 기능을 지원합니다.

## 코드 스타일 가이드

일관된 코드 스타일은 가독성과 유지보수성을 향상시킵니다. 파이썬에서는 PEP 8이라는 공식적인 코드 스타일 가이드가 존재하며, 다음은 몇 가지 중요한 지침입니다:

- **들여쓰기**: 파이썬에서 권장하는 들여쓰기는 스페이스 4칸입니다. 탭(tab) 대신 스페이스를 사용하는 것이 좋습니다.

- **문자 길이**: 한 줄의 문자 길이는 최대 79자로 제한되어 있습니다. 필요할 경우 줄 바꿈을 사용하여 가독성을 높일 수 있습니다.

- **명명 규칙**: 변수, 함수 및 클래스의 이름은 소문자와 밑줄을 사용하여 작성하는 것이 관례입니다. 클래스 이름의 경우 각 단어의 첫 글자를 대문자로 작성합니다.

- **주석**: 코드를 설명하는 주석은 가독성을 높이는데 도움이 됩니다. 주석은 코드에 적절한 위치에 추가하되, 지나치게 많은 주석은 오히려 혼동을 일으킬 수 있으므로 적절한 사용을 권장합니다.

이 외에도 다양한 가이드라인이 있으며, 회사 또는 프로젝트마다 고유한 코드 스타일 가이드가 있을 수 있습니다. 따라서 프로젝트에 따라 적절한 코드 스타일을 유지하는 것이 중요합니다.

## 예제 코드

다음은 pytest를 사용하여 간단한 테스트를 작성하는 예제 코드입니다.

```python
import pytest

def add(a, b):
    return a + b

def test_addition():
    assert add(2, 3) == 5
    assert add(10, -5) == 5
    assert add(0, 0) == 0

def test_invalid_input():
    with pytest.raises(TypeError):
        add("2", 3)
```

위 코드는 `add` 함수를 정의하고, 해당 함수에 대한 테스트를 작성한 예제입니다. `test_addition` 함수에서는 `add` 함수의 반환 값을 확인하는 단언문(assertion)을 사용하여 테스트를 수행합니다. `test_invalid_input` 함수는 `add` 함수에 잘못된 입력이 들어왔을 때 `TypeError` 예외가 발생하는지를 확인하는 테스트입니다.

pytest를 사용하면 자동으로 테스트를 검색하여 실행하므로, 테스트를 실행하려면 단순히 `pytest` 명령을 실행하면 됩니다.

## 결론

pytest와 코드 스타일 가이드를 따르면 효율적이고 견고한 테스트를 작성할 수 있습니다. 코드 스타일 가이드에 따른 일관성 있는 코드 작성은 코드의 가독성을 높이고 유지보수성을 향상시킬 수 있습니다. 따라서 pytest와 코드 스타일 가이드를 적극적으로 활용하여 프로젝트를 관리해 보세요.