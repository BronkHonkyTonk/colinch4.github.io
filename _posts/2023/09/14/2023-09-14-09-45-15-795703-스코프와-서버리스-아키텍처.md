---
layout: post
title: "스코프와 서버리스 아키텍처"
description: " "
date: 2023-09-14
tags: [serverless]
comments: true
share: true
---

서버리스 아키텍처는 클라우드 기반의 컴퓨팅 모델로, 개발자가 서버 관리 없이 코드를 실행할 수 있는 환경을 제공합니다. 이러한 아키텍처의 핵심 개념 중 하나는 "스코프"이며, 이는 서버리스 애플리케이션에서 코드 실행에 대한 권한을 정의하는 방식을 의미합니다.

## 서버리스 아키텍처의 장점
- **확장성**: 서버리스 아키텍처는 필요에 따라 자동으로 리소스를 확장하므로 애플리케이션의 부하 증가에 유연하게 대응할 수 있습니다.
- **비용 절감**: 서버리스 아키텍처는 사용한 만큼만 비용을 지불하므로 효율적인 자원 사용에 따라 비용을 절감할 수 있습니다.
- **운영 단순화**: 서버 관리를 할 필요가 없으므로 개발자는 애플리케이션 개발에 집중할 수 있습니다.

## 스코프와 서버리스 아키텍처
서버리스 아키텍처에서 스코프는 함수나 메서드 수준에서 코드 실행 권한을 제어하는 기능을 가진 서비스입니다. 스코프가 정의된 코드만이 스코프 내에서 실행될 수 있으며, 스코프 밖의 코드는 실행할 수 없습니다. 이를 통해 보안과 코드 격리를 강화할 수 있습니다.

서버리스 아키텍처에서는 일반적으로 트리거(trigger)라는 이벤트에 응답하여 코드를 실행합니다. 예를 들어, 파일이 업로드 되었을 때 트리거를 설정하여 특정 함수가 실행되도록 할 수 있습니다. 이때, 트리거가 발생한 스코프에서 실행되는 코드는 스코프의 권한을 가지게 됩니다.

## 예시 코드

```python
# 서버리스 함수 예제
import boto3

def lambda_handler(event, context):
    # 이벤트에서 필요한 데이터 추출
    bucket_name = event['bucket']
    file_name = event['key']

    # S3 버킷에서 파일 다운로드
    s3 = boto3.client('s3')
    s3.download_file(bucket_name, file_name, '/tmp/' + file_name)

    # 다운로드한 파일 처리
    with open('/tmp/' + file_name, 'r') as file:
        # 파일 처리 로직
        pass

    # 처리 완료 후 응답
    return {
        'statusCode': 200,
        'body': 'File processed successfully'
    }
```

위 예시 코드는 AWS Lambda 서비스를 사용한 서버리스 함수입니다. 특정 S3 버킷에 파일이 업로드되면 Lambda 함수가 실행되어 파일을 다운로드하고 처리하는 과정을 보여줍니다. 이를 통해 서버 관리 없이 손쉽게 코드를 실행할 수 있는 서버리스 아키텍처의 기본 개념을 이해할 수 있습니다.

#tech #serverless