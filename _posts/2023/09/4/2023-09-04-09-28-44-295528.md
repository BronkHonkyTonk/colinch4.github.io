---
layout: post
title: "[파이썬] 코드 최적화와 메모이제이션(Memoization)"
description: " "
date: 2023-09-04
tags: [python]
comments: true
share: true
---

코드 최적화는 프로그램의 실행 속도를 향상시키는 과정입니다. 이를 통해 효율적인 코드를 작성하고 실행 시간을 단축시킬 수 있습니다. 메모이제이션은 코드 최적화 방법 중 하나로, 이전에 계산한 결과를 저장하여 재사용하는 방식입니다. 이를 통해 중복 계산을 피하고 실행 시간을 줄일 수 있습니다.

## 메모이제이션의 개념

메모이제이션은 계산 결과를 캐시하여 동일한 입력에 대해 다시 계산하지 않고 저장된 값을 반환하는 기법입니다. 함수의 반환값을 저장하는 캐시 메모리를 사용하여 이전에 계산한 값을 저장하고, 동일한 입력이 들어올 경우 저장된 값으로 바로 반환합니다.

일반적으로 재귀적인 함수나 반복적인 계산이 필요한 함수에 메모이제이션을 적용합니다. 예를 들어, 피보나치 수열이나 팩토리얼 계산은 중복 계산이 많기 때문에 메모이제이션을 통해 성능을 향상시킬 수 있습니다.

## 메모이제이션의 구현 방법

Python에서는 functools 모듈의 lru_cache 데코레이터를 사용하여 메모이제이션을 구현할 수 있습니다. lru_cache는 Least Recently Used 알고리즘을 사용하여 캐시 메모리를 관리합니다.

다음은 피보나치 수열을 계산하는 메모이제이션 함수의 예입니다.

```python
from functools import lru_cache

@lru_cache
def fibonacci(n):
    if n <= 1:
        return n
    return fibonacci(n-1) + fibonacci(n-2)

print(fibonacci(10))  # 55
```

위 예제에서 fibonacci 함수는 입력값 n에 대한 피보나치 수열 값을 반환합니다. 함수에 lru_cache 데코레이터를 적용하면 중복 계산을 피하고 캐시에 저장된 값으로 바로 반환할 수 있습니다.

## 코드 최적화를 위한 팁

- 중복 계산을 피하기 위해 메모이제이션을 적용해보세요.
- 반복문을 사용하여 재귀 대신 반복적인 연산을 수행할 수 있습니다.
- 데이터 구조의 최적화를 고려해보세요. 예를 들어, 리스트 대신 세트(sets)를 사용하여 검색 속도를 개선할 수 있습니다.
- 코드의 병목 지점(Bottleneck)을 찾고 성능을 개선하는 방법을 고민해보세요.
- 외부 라이브러리를 사용하여 최적화된 함수를 활용할 수도 있습니다.

## 마무리

코드 최적화와 메모이제이션은 프로그램의 성능을 향상시키는 핵심적인 기술입니다. 효율적인 코드를 작성하여 실행 시간을 단축시키고, 중복 계산을 피하며 메모리 사용을 최적화할 수 있습니다. 메모이제이션을 효과적으로 활용하여 작성한 코드는 더 빠르고 효율적인 실행 결과를 가져올 수 있습니다.