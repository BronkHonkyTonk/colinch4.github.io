---
layout: post
title: "[파이썬] 멀티프로세스와 멀티스레딩 비교"
description: " "
date: 2023-09-04
tags: [python]
comments: true
share: true
---

컴퓨터 프로그래밍에서, 멀티프로세스와 멀티스레딩은 동시에 여러 작업을 수행하기 위한 두 가지 기술입니다. 이 두 가지 기술은 서로 다른 방식으로 작업을 처리하고 동시성을 달성하는 방법을 제공합니다. 이번 블로그 포스트에서는 파이썬에서 멀티프로세스와 멀티스레딩을 비교해보겠습니다.

## 멀티프로세스

멀티프로세스는 독립적인 메모리 공간에서 실행되는 여러 프로세스를 생성하는 개념입니다. 각 프로세스는 하나 이상의 스레드를 가지며, 각각의 프로세스는 독립된 메모리 공간을 가지고 작업을 수행합니다. 따라서 멀티프로세스는 여러 작업을 병렬로 처리할 수 있으며, 각 프로세스는 다른 프로세스와 독립적으로 실행됩니다.

파이썬에서 멀티프로세스를 구현하기 위해 `multiprocessing` 모듈을 사용할 수 있습니다. 다음은 간단한 예제 코드입니다.

```python
import multiprocessing

def worker(num):
    """작업을 수행하는 함수"""
    print(f'작업 {num}을(를) 수행 중...')

if __name__ == '__main__':
    # 프로세스 생성
    p1 = multiprocessing.Process(target=worker, args=(1,))
    p2 = multiprocessing.Process(target=worker, args=(2,))
    
    # 프로세스 실행
    p1.start()
    p2.start()
    
    # 프로세스 종료 대기
    p1.join()
    p2.join()
```

이 예제에서는 `multiprocessing.Process` 클래스를 사용하여 두 개의 프로세스를 생성하고, `start()` 메서드를 호출하여 각 프로세스를 실행시킵니다. `join()` 메서드를 사용하여 프로세스가 종료될 때까지 대기합니다.

## 멀티스레딩

멀티스레딩은 단일 프로세스 내에서 여러 스레드를 생성하는 개념입니다. 스레드는 하나의 프로세스 내에서 메모리를 공유하며, 각 스레드는 해당 프로세스 내에서 병렬로 실행될 수 있습니다. 따라서 멀티스레딩은 여러 작업을 동시에 처리하기 위한 가벼운 방법입니다.

파이썬에서 멀티스레딩을 구현하기 위해 `threading` 모듈을 사용할 수 있습니다. 다음은 간단한 예제 코드입니다.

```python
import threading

def worker(num):
    """작업을 수행하는 함수"""
    print(f'작업 {num}을(를) 수행 중...')

if __name__ == '__main__':
    # 스레드 생성
    t1 = threading.Thread(target=worker, args=(1,))
    t2 = threading.Thread(target=worker, args=(2,))
    
    # 스레드 실행
    t1.start()
    t2.start()
    
    # 스레드 종료 대기
    t1.join()
    t2.join()
```

이 예제에서도 `threading.Thread` 클래스를 사용하여 두 개의 스레드를 생성하고, `start()` 메서드를 호출하여 각 스레드를 실행시킵니다. `join()` 메서드를 사용하여 스레드가 종료될 때까지 대기합니다.

## 멀티프로세스 vs. 멀티스레딩

멀티프로세스와 멀티스레딩은 동시성을 달성하기 위한 두 가지 기술이지만, 각각의 장단점이 있습니다.

멀티프로세스는 각 프로세스가 독립된 메모리 공간을 가지기 때문에 한 프로세스가 오류로 인해 종료되더라도 다른 프로세스에 영향을 미치지 않습니다. 또한 멀티프로세스는 병렬 처리를 통해 작업을 빠르게 수행할 수 있습니다. 하지만 프로세스 간의 통신에는 추가적인 비용이 발생하며, 프로세스 생성 및 관리에 대한 오버헤드가 있을 수 있습니다.

반면, 멀티스레딩은 단일 프로세스 내에서 작업을 처리하기 때문에 통신 비용이 적습니다. 또한 스레드 간의 데이터 공유가 쉽고 빠르기 때문에 효율적인 작업 처리가 가능합니다. 하지만 스레드 간의 경쟁 상태(race condition)와 데드락(deadlock) 등과 같은 문제가 발생할 수 있으며, 이를 해결하기 위한 동기화 메커니즘이 필요합니다.

따라서 멀티프로세스와 멀티스레딩을 선택할 때는 작업의 종류와 성격에 따라 적합한 기술을 선택하는 것이 중요합니다. 현존하는 다양한 파이썬 라이브러리를 활용하여 작업을 효율적으로 처리할 수 있습니다.