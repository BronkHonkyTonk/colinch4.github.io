---
layout: post
title: "[파이썬] 파이썬의 GIL 영향과 멀티스레딩"
description: " "
date: 2023-09-04
tags: [python]
comments: true
share: true
---

파이썬은 많은 사람들에게 인기 있는 프로그래밍 언어 중 하나입니다. 그러나 파이썬은 **Global Interpreter Lock (GIL)**이라는 특징을 가지고 있어 멀티스레딩을 제한하게 됩니다. 이러한 GIL의 영향으로 인해 파이썬의 멀티스레딩 성능이 제한될 수 있습니다. 이번 포스트에서는 파이썬의 GIL이 무엇인지, 어떤 영향을 주는지 그리고 이를 극복하기 위한 방법에 대해서 알아보겠습니다.

## GIL의 개념

GIL은 파이썬 인터프리터에서 사용되는 특징적인 기능으로, 파이썬의 모든 스레드가 한 번에 하나의 바이트 코드만을 실행할 수 있도록 제한합니다. 이는 파이썬의 스레드가 실제로 동시에 병렬로 실행되는 것이 아니라, **시분할 방식**으로 번갈아가며 실행되는 것을 의미합니다. 따라서, 멀티코어 시스템에서 멀티스레딩을 이용해 성능을 향상시키는 것이 기대되는 상황에서도 GIL의 영향으로 성능 향상을 기대하기 어렵습니다.

## GIL의 영향

GIL은 파이썬의 멀티스레딩 성능을 제한하는 주요한 요인 중 하나입니다. 만약 CPU 바운드 작업(연산 집약적인 작업)을 수행하는 스레드가 여러 개 있다면, GIL 때문에 실제로는 동시에 실행되는 것이 아니라 번갈아가며 실행됩니다. 이는 멀티코어 시스템에서의 성능 향상을 기대하기 어렵게 만든다는 것을 의미합니다. 단, I/O 바운드 작업(입출력 집약적인 작업)을 수행하는 스레드는 GIL의 영향을 덜 받을 수 있습니다.

## GIL 극복 방법

GIL의 영향을 극복하기 위해 파이썬에서는 **멀티프로세싱** 라이브러리를 제공합니다. 멀티프로세싱은 멀티스레딩과는 달리, 각각의 프로세스가 독립적으로 실행되기 때문에 GIL의 영향을 받지 않습니다. 따라서, CPU 바운드 작업을 수행하는 경우에는 멀티프로세싱을 사용하여 성능을 향상시킬 수 있습니다.

또한, GIL의 영향을 최소화하기 위해 **쓰레드 풀**이라는 개념을 사용할 수도 있습니다. 쓰레드 풀은 미리 생성해둔 스레드를 사용하여 작업을 처리하는 방식으로, 스레드의 생성과 제거에 따르는 오버헤드를 줄일 수 있습니다. 이를 통해 일부 GIL의 영향을 피할 수 있으나, 여전히 GIL 때문에 완전한 병렬 처리는 어렵다는 점을 염두에 두어야 합니다.

## 결론

파이썬의 GIL은 멀티스레딩을 제한하는 요인 중 하나이며, 멀티코어 시스템에서의 성능 향상을 어렵게 만듭니다. 이를 극복하기 위해 멀티프로세싱과 쓰레드 풀을 활용할 수 있지만, GIL 때문에 완벽한 병렬 처리를 기대하기 어렵다는 점을 유념해야 합니다. 따라서, CPU 바운드 작업의 성능 향상을 원한다면 멀티프로세싱을 활용하는 것이 좋은 선택일 수 있습니다.