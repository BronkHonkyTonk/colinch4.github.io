---
layout: post
title: "[파이썬] 도커 컨테이너와 호스트 간 보안 설정"
description: " "
date: 2023-09-05
tags: [python]
comments: true
share: true
---

도커는 가상화 기술을 사용하여 애플리케이션을 컨테이너로 실행합니다. 이는 호스트 운영체제와는 별개의 환경을 제공하여 애플리케이션의 격리를 보장합니다. 하지만 도커 컨테이너와 호스트 간의 보안 설정은 중요한 요소입니다. 이를 통해 악의적인 사용자로부터 시스템을 보호할 수 있습니다. 

## 컨테이너와 호스트 간의 격리

도커는 Kernel Namespace와 Cgroups을 사용하여 컨테이너를 격리합니다. 이는 컨테이너가 자신의 파일 시스템, 네트워크, 프로세스 등을 가질 수 있음을 의미합니다. 따라서 컨테이너에서 실행되는 애플리케이션은 호스트의 다른 프로세스들과는 독립적으로 실행됩니다. 

그러나 기본적으로 도커 컨테이너는 호스트의 네트워크 인터페이스를 공유하므로, 컨테이너가 호스트 시스템 내부의 리소스에 접근할 수 있습니다. 이는 보안 취약성을 악용할 수 있는 가능성을 내포하고 있습니다.

## 컨테이너 보안 설정

도커는 호스트와 컨테이너 간의 보안을 강화하기 위해 몇 가지 설정을 제공합니다.

### 1. 네트워크 격리

도커는 컨테이너 간의 네트워크 격리를 제공합니다. 기본적으로 도커는 컨테이너 내부에서만 실행되는 가상의 네트워크를 생성하며, 호스트와 컨테이너 간의 네트워크는 격리됩니다. 이는 외부에서 컨테이너에 접근할 때 추가적인 보안을 제공합니다.

```python
docker run --network=none <image>
```

### 2. 리소스 제한

도커는 컨테이너의 리소스 사용을 제한하는 기능을 제공합니다. 이를 통해 애플리케이션의 무한한 리소스 사용을 방지하고, 호스트 시스템의 성능을 안정적으로 유지할 수 있습니다.

```python
docker run --cpus=<number> --memory=<size> <image>
```

### 3. 볼륨 마운트

도커는 호스트와 컨테이너 간의 파일 시스템을 공유하는 볼륨 마운트를 지원합니다. 이를 통해 컨테이너 내부에서 파일을 작성하거나 읽을 때 호스트 시스템을 직접 건들이지 않아도 됩니다. 파일 시스템을 공유하는 것은 컨테이너 내부에서 발생하는 데이터 유출을 방지하는 데 도움이 됩니다.

```python
docker run -v <host-path>:<container-path> <image>
```

## 결론

도커 컨테이너와 호스트 간의 보안 설정은 중요한 요소입니다. 기본적으로 도커는 컨테이너를 격리하여 애플리케이션의 보안을 제공하지만, 추가적인 설정이 필요할 수도 있습니다. 네트워크 격리, 리소스 제한, 볼륨 마운트 등 다양한 설정을 통해 컨테이너와 호스트 간의 보안을 강화할 수 있습니다.