---
layout: post
title: "[파이썬] AWS Lambda와 S3를 활용한 파일 처리 및 변환"
description: " "
date: 2023-09-05
tags: [python]
comments: true
share: true
---

AWS Lambda는 서버리스 컴퓨팅 서비스로, 람다 함수를 사용하여 이벤트-드리븐 코드를 실행할 수 있습니다. 이와 함께 AWS S3는 객체 스토리지 서비스로, 파일을 저장하고 가져올 수 있습니다. 이 블로그 포스트에서는 AWS Lambda와 S3를 함께 사용하여 파일 처리 및 변환을 어떻게 수행하는지 살펴보겠습니다.

## 1. AWS Lambda 함수 생성

먼저, AWS Management Console에 로그인하고 Lambda 서비스로 이동합니다. 여기서 "함수 만들기"를 클릭하고 새로운 함수를 생성합니다. 함수의 이름, 런타임, 역할 등을 설정한 후 "만들기"를 클릭합니다.

## 2. Lambda 함수 코드 작성

함수가 생성되면, 코드 편집기를 사용하여 함수를 작성할 수 있습니다. 이 예제에서는 Python을 사용하므로 코드 편집기에 Python 코드를 작성합니다. 다음은 파일 처리 및 변환을 위한 기본 코드 예시입니다:

```python
import boto3

def lambda_handler(event, context):
    # S3 버킷 및 파일명 가져오기
    bucket = event['Records'][0]['s3']['bucket']['name']
    key = event['Records'][0]['s3']['object']['key']

    # 파일 처리 및 변환 로직
    # TODO: 파일 처리 및 변환 코드 작성

    return {
        'statusCode': 200,
        'body': 'File processing and transformation completed.'
    }
```

위 코드에서 `event` 매개변수를 통해 Lambda 함수에 전달된 이벤트 정보를 가져올 수 있습니다. 여기서는 S3 버킷 및 파일에 대한 정보를 사용하고 있습니다.

## 3. S3 트리거 설정

Lambda 함수가 S3에서 파일 처리 및 변환을 수행하려면 S3에 대한 트리거를 구성해야 합니다. 함수 편집기에서 "추가 트리거"를 선택하고, 트리거 유형으로 "S3"를 선택합니다. 그런 다음, S3 버킷 및 이벤트 (예: 객체 생성)를 선택하고, 객체 키 패턴을 지정할 수 있습니다.

## 4. Lambda 함수 배포

코드 작성 및 S3 트리거 구성이 완료되었다면, Lambda 함수를 배포해야 합니다. 이를 위해 함수 편집기 상단의 "배포" 버튼을 클릭하고, 새로운 Lambda 함수 버전을 생성하여 배포합니다.

## 5. 테스트 및 디버깅

Lambda 함수가 배포되었으면, 테스트 및 디버깅을 위해 테스트 이벤트를 생성하여 실행할 수 있습니다. 이 이벤트를 통해 Lambda 함수가 S3 파일을 처리하고 변환하는지 확인할 수 있습니다.

## 6. 추가 기능 구현

위의 예시 코드는 파일 처리 및 변환 로직이 작성되지 않은 상태입니다. 이 단계에서는 실제 파일 처리 및 변환 로직을 구현해야 합니다. 이에 대한 구체적인 내용은 여러분이 처리하고자 하는 파일 형식과 작업에 따라 다를 수 있습니다.

이제 AWS Lambda와 S3를 사용하여 파일 처리 및 변환을 수행하는 방법을 이해하였습니다. 이 기술을 결합하여 더 복잡한 파일 관리 및 데이터 변환 작업을 수행할 수 있습니다.