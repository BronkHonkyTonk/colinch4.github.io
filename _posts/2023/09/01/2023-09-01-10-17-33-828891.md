---
layout: post
title: "[파이썬] finally 블록의 중요성"
description: " "
date: 2023-09-01
tags: [python]
comments: true
share: true
---

파이썬에서 `finally` 블록은 예외 처리 과정에서 매우 중요합니다. 예외가 발생하든 발생하지 않든, `finally` 블록은 항상 실행되는 코드를 포함합니다. 이 블록은 예외 처리의 마무리 작업을 할 수 있는 좋은 장소입니다.

## 예외 처리와 `finally` 블록

파이썬에서 예외 처리는 `try-except` 문을 사용하여 수행됩니다. 이 구문은 예외가 발생할 수 있는 코드 영역을 `try` 블록으로 감싸고, 예외가 발생했을 때 실행되는 코드를 `except` 블록에 작성합니다. 하지만 이제 `finally` 블록이 추가되면, 예외가 발생하든 발생하지 않든 `finally` 블록이 항상 실행됩니다.

```python
try:
    # 예외가 발생할 수 있는 코드
    ...
except SomeException:
    # 예외 처리
    ...
finally:
    # 항상 실행되어야 하는 코드
    ...
```

## `finally` 블록의 역할

`finally` 블록은 주로 자원을 관리하는 데 사용됩니다. 예를 들어, 파일이나 네트워크 연결 등과 같은 리소스를 열었을 때, `finally` 블록에서 해당 리소스를 닫는 작업을 수행할 수 있습니다. 이렇게 함으로써, 예외가 발생하더라도 리소스를 안전하게 해제하고 정리할 수 있습니다.

```python
try:
    # 파일 열기
    file = open("myfile.txt", "r")
    # 파일 읽기 또는 쓰기 코드
    ...
except FileNotFoundError:
    # 파일이 없을 때 처리
    ...
finally:
    # 파일 닫기
    file.close()
```

또한, `finally` 블록은 예외가 발생해도 처리를 완료하기 위해 사용될 수 있습니다. 예를 들어, 데이터베이스 연결 작업을 수행하고 예외가 발생하더라도 연결을 닫는 등의 마무리 작업을 수행할 수 있습니다.

## `finally` 블록의 주의점

`finally` 블록은 예외 처리 과정에서 중요한 역할을 수행하지만, 몇 가지 주의사항을 염두에 두어야 합니다.

1. `finally` 블록은 `try` 블록이 끝난 후 항상 실행됩니다. 즉, `return`, `break` 또는 `continue` 등으로 중간에 함수나 반복문에서 탈출해도 `finally` 블록은 실행됩니다.
2. `finally` 블록 내에서 예외를 발생시키는 것은 좋지 않습니다. 이로 인해 예기치 않은 동작이 발생할 수 있으며, 디버깅이 어려워질 수 있습니다.
3. `finally` 블록이 사용되지 않는 경우에는 `try-except` 문만 사용하여 예외 처리를 할 수 있습니다.

## 결론

파이썬의 `finally` 블록은 예외 처리 과정에서 매우 중요한 역할을 합니다. 이 블록을 사용하여 파일, 네트워크 연결과 같은 리소스를 안전하게 닫거나 마무리 작업을 수행할 수 있습니다. `finally` 블록을 올바르게 사용하여 예외 처리 코드를 작성하는 것은 안정성과 유지보수성 측면에서 매우 중요합니다.