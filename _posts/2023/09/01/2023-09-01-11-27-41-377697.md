---
layout: post
title: "[파이썬] 파일 객체의 반복 순회"
description: " "
date: 2023-09-01
tags: [python]
comments: true
share: true
---

파일을 읽거나 쓰기 위해 파일 객체를 사용하는 경우, 파일 내용을 반복적으로 처리해야하는 경우가 종종 있습니다. 이번 포스트에서는 **Python**에서 파일 객체를 반복하는 방법에 대해 알아보겠습니다.

## 파일 객체 생성하기

먼저, 파일을 읽거나 쓰기 위해 파일 객체를 생성해야 합니다. 파일 객체를 생성하는 방법은 다음과 같습니다.

```python
file = open("파일명 확장자", "모드")
```

- "파일명 확장자": 읽거나 쓸 파일의 이름과 확장자를 입력합니다. 
- "모드": 파일을 열 때 사용할 모드를 나타냅니다. 읽기 모드인지 쓰기 모드인지 등을 선택할 수 있습니다. (`r`, `w`, `a` 등)

## 파일 내용 반복적으로 처리하기

파일 객체를 반복적으로 처리하기 위해서는 **for** 문을 사용합니다. 각 줄을 읽어서 처리하고자 하는 경우, 다음과 같이 작성할 수 있습니다.

```python
file = open("파일명 확장자", "모드")
for line in file:
    # 각 줄에 대한 처리 코드 작성
```

위 코드에서 `line`은 파일의 각 줄을 의미하며, 각 줄을 처리하기 위한 코드를 작성하면 됩니다. 예를 들어, 파일의 각 줄을 출력해보겠습니다.

```python
file = open("파일명 확장자", "r")
for line in file:
    print(line)
```

## 파일 객체 반복 순회 후 파일 닫기

파일 객체를 다 사용한 후에는 파일을 닫아주는 것이 좋습니다. 파일을 닫지 않으면 다른 작업에서 해당 파일에 접근할 수 없고, 프로그램이 종료될 때까지 파일이 사용 중인 상태로 남을 수도 있습니다. 따라서, 파일 처리가 끝난 후에는 반드시 파일을 닫아주는 것이 좋습니다.

```python
file = open("파일명 확장자", "r")
for line in file:
    print(line)
file.close()
```

## with문을 이용한 파일 자동 닫기

위에서는 파일을 명시적으로 닫아주는 방법을 사용했습니다. 하지만, 실수로 파일을 닫지 않는 경우가 발생할 수 있으며 이는 예기치 않은 오류를 초래할 수 있습니다. 이러한 상황을 방지하기 위해 **with문**을 사용하여 파일 객체를 처리하는 방법도 있습니다. 

```python
with open("파일명 확장자", "모드") as file:
    for line in file:
        print(line)
```

위와 같이 파일 객체를 `with` 문과 함께 사용하면, `with` 블록이 끝날 때 파일 객체가 자동으로 닫히게 됩니다. 이렇게 하면 파일 닫기를 신경 쓰지 않고도 안전하게 파일을 다룰 수 있습니다.

## 정리

이번 포스트에서는 **Python**에서 파일 객체를 반복하는 방법을 알아보았습니다. 파일 객체를 생성한 후 `for`문을 이용해서 파일 내용을 반복적으로 처리할 수 있습니다. 또한, 파일을 다 사용한 후에는 파일을 명시적으로 닫아주는 것이 중요하며, 이를 자동으로 처리하기 위해 `with`문을 사용하는 방법도 알아보았습니다.

파일 객체의 반복 순회는 파일 처리를 간편하게 해주는 유용한 기능이므로, 다양한 상황에서 활용해보시기 바랍니다!