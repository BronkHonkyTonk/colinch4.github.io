---
layout: post
title: "[파이썬] 다중 상속의 의미와 함정"
description: " "
date: 2023-09-01
tags: [python]
comments: true
share: true
---

파이썬은 다중 상속을 지원하는 객체지향 프로그래밍 언어입니다. 다중 상속은 하나 이상의 부모 클래스로부터 상속받는 것을 의미합니다. 이는 여러 개의 클래스로부터 필요한 기능을 상속받아 하나의 클래스에서 결합하는 효과를 갖는 것을 의미합니다.

하지만 다중 상속은 잘못 사용할 경우 많은 함정을 야기할 수 있습니다. 이번 글에서는 다중 상속의 의미와 함정을 살펴보겠습니다.

## 다중 상속의 의미

다중 상속은 코드 재사용과 확장성에 있어서 매우 유용한 도구입니다. 여러 부모 클래스로부터 상속받는 것을 통해 각 클래스의 필요한 기능들을 조합하여 새로운 클래스를 만들 수 있습니다.

예를 들어, `Duck` 클래스와 `Flyable` 클래스가 있을 때, `Duck` 클래스는 수영 기능을, `Flyable` 클래스는 날 수 있는 기능을 가지고 있을 수 있습니다. 이때 `Duck` 클래스가 `Flyable` 클래스를 상속받는다면, `Duck` 클래스는 수영과 날기 기능을 모두 갖게 됩니다.

```python
class Duck(Flyable):
    def swim(self):
        print("I can swim!")

duck = Duck()
duck.fly()   # 날기 기능
duck.swim()  # 수영 기능
```

위의 예시에서 `Duck` 클래스는 `Flyable` 클래스와 `Duck` 클래스의 기능을 모두 갖게 됩니다. 이렇게 다중 상속을 통해 필요한 기능들을 조합할 수 있어 코드의 재사용성과 확장성이 크게 증가할 수 있습니다.

## 다중 상속의 함정

하지만 다중 상속은 신중하게 사용해야 하는데, 그 이유는 다중 상속으로 인해 다음과 같은 함정들이 발생할 수 있기 때문입니다.

### 이름 충돌

다중 상속을 사용할 때 각 부모 클래스들 사이에 같은 이름의 메서드나 속성이 존재할 경우, 이름 충돌이 발생합니다. 이때 어떤 메서드나 속성을 사용해야 할지 애매모호하게 되어 예기치 않은 동작이 발생할 수 있습니다.

이러한 경우에는 해당 메서드나 속성을 명시적으로 지정하여 호출해야 합니다.

### 다이아몬드 상속

다이아몬드 상속은 하나의 클래스가 두 개 이상의 클래스로부터 상속받는 상황을 의미합니다. 이때, 다이아몬드 상속을 사용하면 상속 관계의 모호함과 충돌이 발생할 수 있습니다.

```python
class A:
    def method(self):
        print("A method")

class B(A):
    def method(self):
        print("B method")

class C(A):
    def method(self):
        print("C method")

class D(B, C):
    pass

d = D()
d.method()  # 어떤 method가 호출될까요?
```

위의 예시에서 `D` 클래스는 `B` 클래스와 `C` 클래스를 다중 상속하고 있습니다. 그리고 `B`와 `C` 클래스는 모두 `A` 클래스를 상속받고 있습니다.

이때 `D` 클래스의 `method`를 호출하면 어떤 `method`가 호출되는지 알 수 없습니다. 따라서 다이아몬드 상속을 사용할 때는 상속 관계를 잘 파악하고 우선 순위를 명확히 지정해야 합니다.

## 결론

다중 상속은 코드의 재사용성과 확장성을 높일 수 있는 강력한 기능입니다. 하지만 신중하게 사용해야 하며, 이름 충돌과 다이아몬드 상속과 같은 함정에 대비하여 코드를 작성해야 합니다.

다중 상속을 사용할 때는 상속 관계를 명확히 파악하고, 이름 충돌을 방지하기 위해 메서드나 속성을 명시적으로 지정하여 호출하는 것이 좋습니다. 또한, 다이아몬드 상속을 사용할 때는 상속의 우선 순위를 명확히 정해야 합니다.

올바르게 사용한다면 다중 상속은 여러분의 코드를 보다 유연하고 강력하게 만들어 줄 수 있습니다.