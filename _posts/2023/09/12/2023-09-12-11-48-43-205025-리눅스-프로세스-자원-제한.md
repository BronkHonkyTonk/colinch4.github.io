---
layout: post
title: "리눅스 프로세스 자원 제한"
description: " "
date: 2023-09-12
tags: [linux]
comments: true
share: true
---

리눅스 운영체제는 다양한 자원을 효율적으로 관리하기 위해 프로세스에 대한 자원 제한 기능을 제공합니다. 자원 제한은 프로세스가 사용할 수 있는 리소스의 양을 조절하여 시스템 전체적인 안정성과 성능을 유지하는 데 도움을 줍니다. 이번 포스트에서는 리눅스에서 프로세스에 대한 자원 제한 기능을 알아보고, 이를 활용하는 방법에 대해 설명하겠습니다.

## 자원 유형

리눅스에서 자원 제한은 다양한 유형의 자원에 대해 적용될 수 있습니다. 대표적으로는 CPU 시간, 메모리, 파일 디스크립터, 네트워크 연결 등이 있습니다. 각 자원 유형은 프로세스가 사용할 수 있는 최대량을 지정하는 제한 값과 실제로 사용 중인 양을 나타내는 현재 값으로 구성됩니다.

## 자원 제한 설정

자원 제한은 `ulimit` 명령어를 사용하여 프로세스마다 설정할 수 있습니다. `ulimit` 명령어는 자원 제한 설정을 변경하는 데 사용되며, 다양한 옵션을 제공합니다. 

```bash
$ ulimit -a
```

위 명령어를 실행하면 현재 사용 중인 자원 제한 설정을 확인할 수 있습니다. 이를 통해 어떤 자원이 제한되어 있는지 알 수 있고, 제한 값 및 제한 유형도 확인할 수 있습니다.

## 자원 제한 관리

리눅스에서는 자원 제한을 관리하기 위해 `/etc/security/limits.conf` 파일을 사용합니다. 이 파일은 시스템 전체적으로 자원 제한을 설정하는 데 사용됩니다. 파일에는 사용자 및 그룹별로 자원 제한을 설정할 수 있으며, 각각의 제한 유형과 제한 값도 정의할 수 있습니다.

아래는 `/etc/security/limits.conf` 파일의 예시입니다.

```plaintext
<domain>  <type>  <item>  <value>
```

- `<domain>`: 적용 대상을 지정합니다. 사용자 이름 또는 그룹 이름으로 지정할 수 있습니다.
- `<type>`: 자원 유형을 지정합니다. 예를 들어 `hard`, `soft`, `unlimited` 등이 있습니다.
- `<item>`: 자원 항목을 지정합니다. 예를 들어 `cpu`, `nofile` 등이 있습니다.
- `<value>`: 자원의 제한 값을 지정합니다.

## 예시: CPU 시간 제한 설정

다음은 `/etc/security/limits.conf` 파일에서 CPU 시간 제한 설정을 2초로 제한하는 예시입니다.

```plaintext
username       hard    cpu          2
```

위 설정을 적용하면 `username` 사용자로 접속한 프로세스들은 최대 2초 동안 CPU 시간을 사용할 수 있습니다.

## 결론

리눅스에서 자원 제한 기능은 프로세스의 자원 사용량을 제어하여 시스템의 안정성과 성능을 유지하는 데 큰 역할을 합니다. `ulimit` 명령어와 `/etc/security/limits.conf` 파일을 사용하여 자원 제한을 설정하고 관리할 수 있습니다. 이를 효과적으로 활용하여 리눅스 시스템의 자원 관리를 개선해보세요.