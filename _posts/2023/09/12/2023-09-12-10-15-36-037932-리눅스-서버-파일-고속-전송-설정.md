---
layout: post
title: "리눅스 서버 파일 고속 전송 설정"
description: " "
date: 2023-09-12
tags: [linux]
comments: true
share: true
---

리눅스 서버에서 파일 전송 속도를 최적화하여 고속으로 전송할 수 있는 방법에 대해 알아보겠습니다. 파일 전송 속도를 개선하면 큰 파일 또는 여러 파일을 빠르게 전송할 수 있으므로 시간과 노력을 절약할 수 있습니다.

## 1. 파일 압축 및 압축 해제

파일을 전송하기 전에 파일을 압축하여 전송할 수 있습니다. 파일을 압축하면 파일 크기가 줄어들어 전송 시간이 단축됩니다. 

파일을 압축하려면 `gzip`나 `zip` 명령어를 사용할 수 있습니다. 예를 들어, 다음과 같이 파일을 압축할 수 있습니다.

```
gzip myfile.txt
```

압축된 파일은 `.gz` 확장자를 가지게 됩니다. 

압축된 파일을 전송받은 서버에서 압축을 해제하려면 다음과 같이 명령어를 사용합니다.

```
gzip -d myfile.txt.gz
```

## 2. 파일 전송 시 암호화 사용

파일을 전송할 때 암호화를 사용하면 보안성을 높일 수 있으면서도 전송 속도를 유지할 수 있습니다. 

SSH 프로토콜을 사용하여 파일을 전송하는 방법은 암호화된 터널을 사용하여 안전한 파일 전송이 가능합니다. `scp` 명령어를 사용하여 SSH를 통해 파일을 전송할 수 있습니다. 예를 들어, 다음과 같이 파일을 전송할 수 있습니다.

```
scp myfile.txt user@destination:/path/to/destination
```

위 명령어에서 `user`는 전송 받는 서버의 사용자 이름이고, `destination`은 전송 받는 서버의 IP 주소 또는 도메인 이름입니다.

## 3. Parallel 데이터 전송

파일 전송을 빠르게 하기 위해 병렬 데이터 전송을 사용할 수 있습니다. 병렬 데이터 전송은 여러 개의 데이터 스트림을 동시에 전송하여 전송 속도를 향상시킵니다.

`rsync` 명령어를 사용하여 병렬 데이터 전송을 할 수 있습니다. 예를 들어, 다음과 같이 명령어를 사용하여 파일을 병렬로 전송할 수 있습니다.

```
rsync -P --numeric-ids myfile.txt user@destination:/path/to/destination
```

위 명령어에서 `-P` 옵션은 병렬 데이터 전송을 활성화하고, `--numeric-ids` 옵션은 사용자 및 그룹 ID를 숫자로 표시합니다. `user`는 전송 받는 서버의 사용자 이름이고, `destination`은 전송 받는 서버의 IP 주소 또는 도메인 이름입니다.

## 4. 네트워크 최적화

네트워크 환경을 최적화하여 파일 전송 속도를 개선할 수도 있습니다.

파일 전송을 할 때 사용하는 TCP 소켓의 버퍼 크기를 설정할 수 있습니다. `sysctl` 명령어를 사용하여 TCP 소켓의 버퍼 크기를 설정할 수 있습니다. 예를 들어, 다음과 같이 명령어를 사용하여 버퍼 크기를 설정할 수 있습니다.

```
sysctl -w net.core.rmem_default=1048576
sysctl -w net.core.wmem_default=1048576
sysctl -w net.core.rmem_max=16777216
sysctl -w net.core.wmem_max=16777216
```

위 명령어는 소켓의 수신 및 송신 버퍼의 기본 값과 최대 값에 대한 설정을 변경합니다.

또한, 네트워크 환경에 따라 MTU (Maximum Transmission Unit) 크기를 조정할 수 있습니다. MTU 크기는 네트워크를 통한 데이터 전송 속도에 직접적인 영향을 줍니다. MTU 값을 변경하려면 `ifconfig` 또는 `ip` 명령어를 사용하여 네트워크 인터페이스의 MTU 값을 설정할 수 있습니다.

```
ifconfig eth0 mtu 1500
```

위 명령어는 `eth0` 인터페이스의 MTU 값을 1500으로 설정합니다.

## 결론

리눅스 서버에서 파일 전송 속도를 최적화하는 방법에 대해 알아보았습니다. 파일을 압축하여 전송하거나 암호화를 사용하거나 병렬 데이터 전송을 활용하면 전송 시간을 단축시킬 수 있습니다. 또한, 네트워크 최적화를 통해 전송 속도를 개선할 수 있습니다. 이러한 조치를 적용하여 파일 전송을 고속으로 처리할 수 있습니다.