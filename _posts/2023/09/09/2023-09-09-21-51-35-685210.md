---
layout: post
title: "자바스크립트 함수 호출과 메모리 관리 (Function Invocation and Memory Management)"
description: " "
date: 2023-09-09
tags: [javascript]
comments: true
share: true
---

자바스크립트에서 함수는 매우 중요한 역할을 합니다. 함수는 코드의 모듈화, 재사용성, 그리고 효율적인 메모리 관리를 위해 사용됩니다. 이번 포스트에서는 자바스크립트에서 함수 호출과 메모리 관리에 대해 알아보겠습니다.

## 함수 호출

함수를 호출하는 방법은 다양합니다. 일반적으로 함수를 호출할 때는 함수 이름을 작성하고 괄호 안에 인수(argument)를 전달합니다. 예를 들면 다음과 같습니다:

```javascript
function add(a, b) {
  return a + b;
}

let result = add(3, 4);
console.log(result); // 7
```

이 예제에서 `add` 함수는 두 개의 인수를 받아 더한 후 결과를 반환합니다. 함수를 호출할 때는 `add` 함수의 이름을 사용하고 괄호 안에 필요한 인수를 전달했습니다. 함수는 `return` 키워드를 사용하여 값을 반환합니다.

함수 호출은 스택 메모리에서 처리됩니다. 함수를 호출하면 현재 실행 중인 함수의 메모리 공간을 스택에 저장하고, 새로운 함수의 메모리 공간을 스택에 할당합니다. 위의 예제에서는 `add` 함수 호출 시 메모리 공간이 스택에 저장되었습니다.

## 메모리 관리

자바스크립트는 가비지 컬렉터를 통해 메모리를 관리합니다. 가비지 컬렉터는 사용되지 않는 메모리를 자동으로 회수하여 메모리 누수(memory leaks)를 방지합니다. 하지만 함수 호출과 관련된 작업 중 일부는 메모리 관리에 영향을 줄 수 있습니다.

### 재귀 함수

재귀 함수는 자기 자신을 호출하는 함수입니다. 재귀 함수를 작성할 때는 재귀 종료 조건을 명시해야 합니다. 이렇게 하지 않으면 스택 오버플로우(stack overflow) 에러가 발생할 수 있습니다. 예를 들어, 팩토리얼 계산을 위한 재귀 함수는 다음과 같이 작성될 수 있습니다:

```javascript
function factorial(n) {
  // 재귀 종료 조건
  if (n === 0 || n === 1) {
    return 1;
  }
  
  // 재귀 호출
  return n * factorial(n - 1);
}

let result = factorial(5);
console.log(result); // 120
```

이 예제에서 `factorial` 함수는 자기 자신을 호출하여 팩토리얼을 계산합니다. 재귀 종료 조건을 명시하여 스택 오버플로우를 예방합니다.

### 클로저

클로저는 함수와 그 함수가 선언된 렉시컬 환경의 조합입니다. 클로저를 사용하면 함수가 반환된 후에도 렉시컬 환경에 접근할 수 있습니다. 이는 함수가 참조하는 변수가 메모리에서 해제되지 않는다는 의미입니다. 예를 들어:

```javascript
function outer() {
  let x = 10;

  function inner() {
    console.log(x);
  }

  return inner;
}

let closureFunction = outer();
closureFunction(); // 10
```

이 예제에서 `outer` 함수는 `inner` 함수를 반환합니다. 이후 `outer` 함수가 종료되어도 `inner` 함수는 외부 변수 `x`에 접근할 수 있습니다. 이는 `inner` 함수가 클로저로서 외부 변수를 참조하기 때문입니다.

클로저를 사용할 때에는 메모리 누수에 주의해야 합니다. 클로저가 외부 변수를 참조하면 해당 변수는 메모리에서 해제되지 않습니다. 따라서 클로저를 사용할 때는 외부 변수를 정리해야 메모리 관리가 잘 이루어집니다.

## 결론

자바스크립트에서 함수 호출과 메모리 관리는 중요한 주제입니다. 함수를 호출할 때 스택 메모리를 사용하고, 가비지 컬렉터를 통해 메모리를 관리합니다. 재귀 함수와 클로저는 메모리 관리에 영향을 미칠 수 있으므로 적절한 조치를 취해야 합니다. 올바른 함수 호출과 메모리 관리를 통해 자바스크립트 코드의 효율성을 높일 수 있습니다.