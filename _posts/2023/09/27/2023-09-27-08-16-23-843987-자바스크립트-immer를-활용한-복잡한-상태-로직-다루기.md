---
layout: post
title: "자바스크립트 Immer를 활용한 복잡한 상태 로직 다루기"
description: " "
date: 2023-09-27
tags: [immer]
comments: true
share: true
---

이번 글에서는 자바스크립트에서 복잡한 상태 로직을 다루는 방법 중 하나로 Immer 라이브러리를 소개하고자 합니다. Immer는 불변성을 유지하면서도 상태를 변화시킬 수 있는 간편한 방법을 제공하여 복잡한 상태 로직을 관리하는 작업을 더욱 쉽게 만들어줍니다.

## Immer란 무엇인가요?

Immer는 불변성을 유지하는 작업을 좀 더 간편하게 처리할 수 있게 해주는 도구입니다. 주로 상태 관리 라이브러리인 Redux와 함께 사용되며, 복잡한 상태 변화를 다룰 때 특히 유용합니다.

Immer는 immer라는 함수를 제공하며, 이 함수를 사용하면 상태 객체의 변경을 추적하고 변화를 적용하는 작업을 간단하게 처리할 수 있습니다. 이를 통해 기존의 불변성을 유지하기 위해 수많은 코드를 작성할 필요 없이 상태를 간편하게 변경할 수 있습니다.

## Immer의 사용법은 어떤가요?

Immer를 사용하기 위해서는 우선 immer 라이브러리를 설치해야 합니다. 아래의 명령어를 실행하여 Immer를 프로젝트에 추가하세요.

```javascript
npm install immer
```

Immer를 사용하는 간단한 예시를 살펴보겠습니다.

```javascript
import produce from 'immer';

const state = {
  name: "John",
  age: 25
};

const nextState = produce(state, draft => {
  draft.age = 26;
});

console.log(nextState);
```

위의 코드는 Immer를 사용하여 상태 객체의 나이(age)를 변경하는 예시입니다. `produce` 함수는 첫 번째 인자로 변경할 상태 객체를, 두 번째 인자로 변경 작업을 수행하는 함수를 받습니다. 이 함수 내에서는 원하는 변경 작업을 수행하고, draft 객체를 사용하여 상태를 변경합니다.

위의 예시에서는 `draft.age = 26;` 코드를 사용하여 상태 객체의 age 속성을 26으로 변경하였습니다. 변경된 상태는 nextState 변수에 저장되어 출력됩니다.

## Immer의 장점은 무엇인가요?

Immer를 사용하면 복잡한 상태 로직을 다루는 작업을 더욱 간편하게 만들 수 있습니다. 다음은 Immer의 주요 장점입니다.

- **간편한 상태 변경**: 기존의 불변성 유지를 위한 코드와 비교하여 훨씬 간결하게 상태를 변경할 수 있습니다.
- **추적 가능한 변경**: Immer는 상태 변경 작업을 추적하기 때문에 디버깅이 필요한 경우 변경 내역을 쉽게 확인할 수 있습니다.
- **성능 향상**: Immer는 내부적으로 변경을 추적하고 최적화하여 성능을 향상시킵니다.

## 결론

Immer는 자바스크립트에서 복잡한 상태 로직을 다루는 작업을 더욱 편리하게 만들어주는 라이브러리입니다. 불변성을 유지하면서도 간단하고 간결한 코드로 상태를 변경할 수 있기 때문에, Redux와 함께 사용하는 경우 많은 도움이 될 것입니다. [ #Immer #상태로직 ]