---
layout: post
title: "리눅스 디스크 사용량 확인"
description: " "
date: 2023-09-11
tags: [linux]
comments: true
share: true
---

이번 블로그에서는 리눅스 시스템에서 디스크 사용량을 확인하는 방법에 대해 알아볼 것입니다. 리눅스 서버에서 디스크 사용량을 모니터링하면 디스크 용량 부족으로 인한 문제를 사전에 예방할 수 있습니다. 우리는 bash 스크립트를 사용하여 디스크 사용량을 확인할 것입니다.

## df 명령어를 사용한 디스크 사용량 확인

**df** 명령어는 리눅스 시스템에서 현재 디스크 사용량과 여유 공간을 표시하는 데 사용됩니다. 다음은 **df** 명령어를 사용한 디스크 사용량 확인의 예입니다.

```bash
df -h
```

이 명령어를 실행하면 디스크 사용량을 메가바이트 또는 기가바이트 단위로 표시하는 테이블이 출력됩니다. 각 행은 마운트된 파일 시스템을 나타내며, 디스크 사용량, 여유 공간, 마운트 경로 등을 나타냅니다.

## du 명령어를 사용한 디렉토리별 디스크 사용량 확인

**du** 명령어는 특정 디렉토리의 디스크 사용량을 확인하는 데 사용됩니다. 다음은 **du** 명령어를 사용한 디렉토리별 디스크 사용량 확인의 예입니다.

```bash
du -sh /path/to/directory
```

이 명령어를 실행하면 지정한 디렉토리의 디스크 사용량을 누적 및 요약하여 출력합니다. 추가적으로 사용량이 큰 하위 디렉토리를 확인하려면 `-S` 옵션을 추가할 수도 있습니다.

## 스크립트를 사용한 정기적인 디스크 사용량 모니터링

디스크 사용량을 정기적으로 모니터링하려면 운영 체제의 스케줄러를 사용하여 bash 스크립트를 실행할 수 있습니다. 다음은 스크립트를 사용한 정기적인 디스크 사용량 모니터링의 예입니다.

```bash
#!/bin/bash

LOG_FILE="/var/log/disk_usage.log"
DATE=$(date +"%Y-%m-%d %T")
DISK_USAGE=$(df -h)

echo "[$DATE] Disk Usage:" >> $LOG_FILE
echo "$DISK_USAGE" >> $LOG_FILE
echo "-----------------------------" >> $LOG_FILE
```

이 스크립트를 실행하면 df 명령어의 결과와 현재 날짜를 로그 파일에 기록합니다. 이 스크립트를 스케줄러에 등록하여 매 시간, 매일 또는 매주 등의 주기로 실행하여 디스크 사용량을 확인할 수 있습니다.

# 마치며

이제 리눅스 시스템에서 디스크 사용량을 확인하는 몇 가지 방법을 알아보았습니다. df와 du 명령어를 사용하여 실시간으로 디스크 사용량을 확인하고, 스크립트를 사용하여 정기적인 모니터링을 설정할 수 있습니다. 이를 통해 디스크 용량 부족으로 인한 잠재적인 문제를 사전에 예방할 수 있습니다.