---
layout: post
title: "리눅스 배치 처리"
description: " "
date: 2023-09-11
tags: [linux]
comments: true
share: true
---

리눅스(bash)에서 **배치 처리**는 자동화된 작업을 실행하고 관리하는 것을 의미합니다. 배치 처리는 일련의 명령과 스크립트를 실행하고 결과를 처리하는 프로세스를 의미합니다. 이를 통해 시스템 관리, 데이터 처리, 작업 자동화 등 다양한 작업을 효율적으로 처리할 수 있습니다.

## 배치 처리의 장점

- 자동화: 배치 처리를 사용하면 예약된 시간에 작업을 실행할 수 있으며, 작업들을 일괄적으로 처리할 수 있습니다. 이를 통해 인간의 개입 없이 작업을 자동으로 처리할 수 있습니다.
- 시간 절약: 일일 작업을 일일이 실행하지 않고 한 번에 실행할 수 있으므로 시간을 절약할 수 있습니다.
- 오류 감소: 일일 작업을 자동화하면 인간의 실수를 감소시킬 수 있습니다. 예를 들어, 파일 이름 오류, 잘못된 인자 입력 등을 방지할 수 있습니다.

## 배치 처리 스크립트 작성하기

리눅스에서 배치 처리 스크립트를 작성하는 가장 일반적인 방법은 **bash 쉘 스크립트**를 사용하는 것입니다. 다음은 간단한 배치 처리 스크립트의 예입니다.

```bash
#!/bin/bash

# 현재 날짜와 시간 출력
echo "현재 시간은 $(date)입니다."

# 작업 1 실행
echo "작업 1을 실행합니다."
<작업 1 명령어>

# 작업 2 실행
echo "작업 2를 실행합니다."
<작업 2 명령어>

# 작업 3 실행
echo "작업 3을 실행합니다."
<작업 3 명령어>

# 작업 완료 메시지 출력
echo "배치 처리가 완료되었습니다."
```

위의 예제 스크립트는 다음과 같은 작업을 실행합니다:

1. 현재 날짜와 시간을 출력합니다.
2. 작업 1을 실행합니다.
3. 작업 2를 실행합니다.
4. 작업 3을 실행합니다.
5. 배치 처리가 완료되었다는 메시지를 출력합니다.

작업은 필요에 따라 추가하거나 제거할 수 있으며, 실행 순서를 변경할 수도 있습니다. 스크립트는 **cron** 또는 **systemd**와 같은 스케줄링 도구와 함께 사용하여 주기적으로 실행되게 할 수 있습니다.

## 배치 처리에서 에러 처리하기

배치 처리 중에 발생할 수 있는 오류를 처리하는 것은 매우 중요합니다. 이를 위해 `if-else` 문을 사용하여 오류에 대한 처리 로직을 구현할 수 있습니다. 다음은 예제 스크립트에 오류 처리 로직을 추가한 예입니다.

```bash
#!/bin/bash

# 현재 날짜와 시간 출력
echo "현재 시간은 $(date)입니다."

# 작업 1 실행
echo "작업 1을 실행합니다."
<작업 1 명령어>
if [ $? -ne 0 ]; then
    echo "작업 1이 실패하였습니다."
    exit 1
fi

# 작업 2 실행
echo "작업 2를 실행합니다."
<작업 2 명령어>
if [ $? -ne 0 ]; then
    echo "작업 2가 실패하였습니다."
    exit 1
fi

# 작업 3 실행
echo "작업 3을 실행합니다."
<작업 3 명령어>
if [ $? -ne 0 ]; then
    echo "작업 3이 실패하였습니다."
    exit 1
fi

# 작업 완료 메시지 출력
echo "배치 처리가 완료되었습니다."
```

위의 예제에서는 `<작업 명령어>`가 실패한 경우 `echo`를 통해 실패 메시지를 출력하고, `exit 1`을 사용하여 스크립트를 종료합니다. 이렇게 함으로써 오류가 발생했을 때 프로세스의 종료 상태 코드를 확인할 수 있습니다.

## 결론

리눅스 배치 처리는 자동화된 작업을 실행하고 관리하는데 사용되는 강력한 도구입니다. 배치 처리 스크립트를 작성하고 실행함으로써 작업의 자동화, 시간 절약 및 오류 감소를 실현할 수 있습니다. 배치 처리 스크립트를 작성할 때는 에러 처리에 유의하며, 스케줄링 도구와 함께 사용하여 예약된 작업을 주기적으로 실행할 수 있습니다.