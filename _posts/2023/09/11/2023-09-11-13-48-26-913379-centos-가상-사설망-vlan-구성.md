---
layout: post
title: "CentOS 가상 사설망 (VLAN) 구성"
description: " "
date: 2023-09-11
tags: [linux]
comments: true
share: true
---

## 소개
이번 글에서는 CentOS 가상 사설망 (VLAN) 구성에 대해 알아보겠습니다. 가상 사설망(VLAN)이란, 네트워크를 논리적으로 분할하여 여러 개의 독립된 네트워크 세그먼트로 구성하는 기술입니다. 가상 사설망은 보안, 관리 및 네트워크 트래픽 분리를 위해 사용됩니다. CentOS는 가상 사설망 생성과 관리를 간단하게 할 수 있는 다양한 도구와 기능을 제공합니다. 

## 전제 조건
이 글을 따라하기 위해선 다음과 같은 요구 사항이 필요합니다:
- CentOS 7 이상의 운영체제 설치
- root 권한 활성화
- 네트워크 인터페이스가 VLAN을 지원해야 함

## 단계별 구성

### 단계 1: VLAN 모듈 로드

VLAN을 사용하기 위해 `8021q` 모듈을 로드해야 합니다. 다음 명령을 통해 모듈을 로드합니다:

```bash
modprobe 8021q
```

### 단계 2: VLAN 인터페이스 생성

VLAN 인터페이스를 생성하기 위해 `vconfig` 명령을 사용합니다. 예를 들어, VLAN ID가 10인 VLAN 인터페이스를 생성하려면 다음 명령을 입력합니다:

```bash
vconfig add eth0 10
```

위 명령을 실행하면 `eth0.10`라는 VLAN 인터페이스가 생성됩니다.

### 단계 3: VLAN 인터페이스 구성

VLAN 인터페이스를 구성하려면 일반적인 네트워크 인터페이스와 마찬가지로 IP 주소, 서브넷 마스크, 게이트웨이 등을 설정해야 합니다. VLAN 인터페이스를 설정하기 위해 적절한 설정 파일을 수정합니다. 일반적으로 `/etc/sysconfig/network-scripts/` 디렉토리에 `ifcfg-eth0.10`와 같은 파일 이름으로 파일을 생성하고 다음과 같이 설정합니다:

```bash
DEVICE=eth0.10
TYPE=Ethernet
BOOTPROTO=none
ONBOOT=yes
IPADDR=192.168.10.2
NETMASK=255.255.255.0
```

위 설정 파일에서 `DEVICE`, `IPADDR`, `NETMASK` 값을 적절하게 설정해야 합니다.

### 단계 4: VLAN 인터페이스 활성화

VLAN 인터페이스를 활성화하기 위해 `ifup` 명령을 사용합니다:

```bash
ifup eth0.10
```

위 명령을 실행하면 VLAN 인터페이스가 활성화되고 설정한 IP 주소를 사용하여 네트워크에 연결됩니다.

### 단계 5: VLAN 인터페이스 검증

VLAN 인터페이스가 제대로 구성되었는지 확인하기 위해 `ifconfig` 명령을 사용할 수 있습니다:

```bash
ifconfig eth0.10
```

위 명령을 실행하면 VLAN 인터페이스의 IP 주소, 서브넷 마스크, 게이트웨이 등의 정보가 표시됩니다.

## 마무리
이제 CentOS 가상 사설망(VLAN) 구성을 완료했습니다. VLAN을 사용하여 네트워크를 효율적으로 구성하고 관리할 수 있습니다. VLAN 인터페이스를 설정하려면 서버에 대한 네트워크 구성 및 VLAN ID에 대한 이해가 필요합니다. 이 글은 CentOS 7을 기준으로 작성되었으며, 다른 버전의 CentOS에서도 유사한 방법으로 VLAN을 설정할 수 있습니다.