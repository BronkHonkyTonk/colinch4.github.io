---
layout: post
title: "리눅스 성능 튜닝"
description: " "
date: 2023-09-11
tags: [linux]
comments: true
share: true
---

리눅스 운영체제는 많은 기능과 유연성으로 인해 많은 사용자들에게 사랑받고 있습니다. 하지만 때때로 성능 문제가 발생할 수도 있습니다. 이를 해결하기 위해 리눅스 성능 튜닝은 필수적입니다. 아래에는 리눅스 성능을 향상시키기 위한 7가지 방법을 소개하겠습니다.

## 1. 캐시 관리

리눅스는 디스크에서 데이터를 읽어와 캐시에 저장하는 기능을 갖고 있습니다. 이를 통해 디스크 접근 시간을 줄여 성능을 향상시킬 수 있습니다. 하지만 캐시 사용량이 너무 높으면 시스템에 영향을 줄 수 있으므로 적절하게 캐시를 관리해야 합니다. `sysctl` 명령어를 사용하여 캐시 관련 설정을 조정할 수 있습니다.

예시:
```bash
# 캐시 비율 조정
sysctl -w vm.vfs_cache_pressure=50
```

## 2. 스왑 분할

리눅스는 메모리 부족 시 스왑 공간에 데이터를 저장하여 메모리 부족을 해소합니다. 그러나 스왑 활동이 과도할 경우 성능 저하를 초래할 수 있습니다. 이를 방지하기 위해 스왑 분할을 조정할 수 있습니다. `swappiness` 값을 조정하여 스왑 활동을 제어할 수 있습니다.

예시:
```bash
# 스왑 활동을 제어하기 위해 swappiness 값 조정
sysctl -w vm.swappiness=10
```

## 3. 프로세스 관리

많은 프로세스가 동시에 실행될 때 성능에 영향을 미칠 수 있습니다. 따라서 프로세스 관리를 통해 성능을 향상시킬 수 있습니다. `nice` 명령어를 사용하여 프로세스 우선순위를 조정할 수 있습니다.

예시:
```bash
# 프로세스 우선순위 조정 (-20은 가장 높은 우선순위)
nice -n -20 command_name
```

## 4. 디스크 I/O 스케줄러 변경

리눅스는 디스크 I/O 작업을 처리하는 스케줄러를 갖고 있습니다. **많은 디스크 I/O 작업이 동시에 발생할 때 성능 저하가 발생할 수 있습니다.** 이를 방지하기 위해 스케줄러를 변경할 수 있습니다.

예시:
```bash
# 디스크 I/O 스케줄러를 변경하여 성능 향상
echo 'deadline' > /sys/block/sda/queue/scheduler
```

## 5. 향상된 파일 시스템

리눅스는 다양한 파일 시스템을 지원합니다. 사용 중인 파일 시스템이 성능에 영향을 미칠 수 있으므로 더 나은 파일 시스템을 선택해서 사용하는 것이 중요합니다.

**향상된 파일 시스템 예시:**
- ext4
- XFS
- Btrfs

## 6. 네트워크 설정

네트워크 설정도 성능 향상의 핵심입니다. 중요한 네트워크 설정 요소인 TCP/IP 파라미터를 조정하여 네트워크 성능을 최적화할 수 있습니다. `sysctl` 명령어를 사용하여 조정할 수 있습니다.

예시:
```bash
# TCP/IP 파라미터 조정
sysctl -w net.core.somaxconn=1024
sysctl -w net.ipv4.tcp_keepalive_time=120
```

## 7. 서비스 관리

많은 서비스가 실행될 때 성능 저하가 발생할 수 있습니다. 필요한 서비스만 실행하고, 불필요한 서비스는 중지하여 성능을 향상시킬 수 있습니다. 

예시:
```bash
# 서비스 중지 (apache2 서비스)
systemctl stop apache2.service
```

위의 방법들을 적용하여 리눅스 성능 튜닝을 진행해보세요. 하지만 주의해야 할 점은 튜닝 과정에서 시스템 안정성을 해치지 않도록 신중하게 조정해야 한다는 것입니다. 성능 향상과 안정성을 최대한 유지할 수 있도록 항상 주의해주세요.