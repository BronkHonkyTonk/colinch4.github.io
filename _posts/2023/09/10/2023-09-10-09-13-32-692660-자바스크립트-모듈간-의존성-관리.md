---
layout: post
title: "자바스크립트 모듈간 의존성 관리"
description: " "
date: 2023-09-10
tags: [javascript]
comments: true
share: true
---

자바스크립트 프로젝트를 개발하다 보면 여러 모듈을 사용하고, 이 모듈들 간에 종속성(dependency)이 생기는 경우가 많습니다. 이러한 종속성을 관리하는 것은 프로젝트의 성공적인 개발과 유지보수를 위해 매우 중요합니다. 자바스크립트에서는 다양한 방법을 사용하여 모듈 간의 의존성을 처리할 수 있습니다.

## 1. 전역 네임스페이스 객체

일반적으로 자바스크립트에서는 전역 네임스페이스 객체를 사용하여 모듈 간의 의존성을 관리합니다. 다음은 예시 코드입니다.

```javascript
// 모듈A
var moduleA = (function() {
  // 모듈A의 로직
})();

// 모듈B
var moduleB = (function() {
  // 모듈B가 모듈A에 의존성을 가짐
  var dependency = moduleA;

  // 모듈B의 로직
})();
```

위의 코드에서 `moduleB`는 `moduleA` 객체에 의존성을 가지고 있습니다. 이를 전역 네임스페이스 객체를 사용하여 관리하고 있습니다.

이러한 방식은 모듈 간의 의존성을 직접 관리할 수 있지만, 전역 변수를 사용하는 것은 좋지 않은 프로그래밍 습관으로 알려져 있습니다. 전역 변수의 남발로 인해 충돌이 발생하거나 코드의 가독성과 유지보수가 어려워지는 등의 문제가 발생할 수 있습니다.

## 2. CommonJS

CommonJS는 자바스크립트 모듈 시스템의 일종으로, Node.js와 같은 환경에서 주로 사용됩니다. CommonJS 모듈 시스템은 `require`와 `exports` 함수를 통해 모듈 간의 의존성을 관리합니다.

```javascript
// 모듈A
exports.a = 10;

// 모듈B
var moduleA = require('./moduleA');
console.log(moduleA.a); // 10
```

위의 예시에서 `require` 함수를 사용하여 다른 모듈을 불러올 수 있습니다. `exports` 객체에는 해당 모듈이 외부로 노출할 변수나 함수를 정의합니다.

CommonJS는 모듈 단위로 코드를 모듈화할 수 있어 코드의 재사용성과 유지보수성을 높일 수 있습니다. 하지만 브라우저 환경에서는 기본적으로 CommonJS를 지원하지 않기 때문에, 번들러를 사용해야만 합니다.

## 3. AMD (Asynchronous Module Definition)

AMD는 비동기적으로 모듈을 로드하는 자바스크립트 모듈 시스템입니다. 주로 브라우저 환경에서 사용되며, 브라우저의 비동기적 특성에 맞게 설계되었습니다.

```javascript
// 모듈A
define(function() {
  return {
    a: 10
  };
});

// 모듈B
define(['moduleA'], function(moduleA) {
  console.log(moduleA.a); // 10
});
```

위의 코드에서 `define` 함수를 사용하여 모듈을 정의하고, 의존성 배열을 지정할 수 있습니다. 필요한 모듈이 로드되면 콜백 함수가 실행되어 해당 모듈을 사용할 수 있습니다.

AMD는 비동기 모듈 로딩에 최적화되어 있기 때문에 페이지의 초기 로딩 시간을 단축할 수 있습니다. 하지만 AMD 형식의 코드는 상대적으로 복잡하고 가독성이 떨어질 수 있으며, 모듈 정의의 성능적인 측면에서도 약간의 성능 저하가 있을 수 있습니다.

## 4. ES6 모듈

ES6 모듈은 자바스크립트의 표준 모듈 시스템으로, ECMAScript 6(ES6) 버전부터 사용할 수 있게 되었습니다. ES6 모듈은 `import`와 `export` 문법을 통해 모듈 간의 의존성을 관리할 수 있습니다.

```javascript
// 모듈A
export const a = 10;

// 모듈B
import { a } from './moduleA';
console.log(a); // 10
```

위의 예시에서는 `export` 키워드로 모듈 A에서 변수 `a`를 내보내고(`export`), 모듈 B에서 `import` 키워드로 해당 변수를 가져옵니다. 

ES6 모듈은 가장 표준적이고 간결한 모듈 관리 방식입니다. 하지만 모든 브라우저에서 지원하지 않기 때문에, Babel과 같은 트랜스파일러를 사용하여 ES5 호환 코드로 변환해야 합니다.

## 결론

자바스크립트 모듈 간의 의존성 관리는 프로젝트의 장기적인 성공에 영향을 미치는 중요한 요소입니다. 위에서 소개한 전역 네임스페이스 객체, CommonJS, AMD, ES6 모듈을 사용하여 의존성을 관리할 수 있으며, 각각의 방식에는 장단점이 있습니다. 프로젝트의 환경과 요구사항에 따라 적절한 모듈 관리 방식을 선택하여 개발하시기 바랍니다.