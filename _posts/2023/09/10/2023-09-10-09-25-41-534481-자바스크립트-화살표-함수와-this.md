---
layout: post
title: "자바스크립트 화살표 함수와 this"
description: " "
date: 2023-09-10
tags: [javascript]
comments: true
share: true
---

자바스크립트에서 함수를 정의할 때, `this` 키워드는 매우 중요한 개념입니다. 그러나 함수를 선언하는 방식에 따라 `this`의 동작은 달라질 수 있습니다. 이번 글에서는 일반 함수 선언과 화살표 함수 선언 사이의 차이점을 살펴보고, 화살표 함수에서의 `this` 동작에 대해 자세히 알아보겠습니다.

## 화살표 함수의 기본 개념

화살표 함수는 ES6(ES2015)에서 도입된 새로운 함수 선언 방식입니다. 전통적인 함수 선언 방식과 달리, 화살표 함수는 항상 익명 함수로 정의되며, 명시적인 `return` 문을 생략할 수 있습니다. 또한, 화살표 함수는 자신만의 `this` 값이 없으며, 외부 컨텍스트의 `this` 값을 그대로 사용합니다.

## 화살표 함수에서의 `this`

일반적으로 자바스크립트에서 함수를 호출할 때, `this`는 호출한 객체에 바인딩됩니다. 하지만, 화살표 함수에서의 `this`는 외부 함수의 `this` 값을 그대로 상속합니다. 이는 화살표 함수가 생성될 때의 환경을 유지하기 때문에 가능한 것입니다.

```javascript
const obj = {
  name: 'John',
  greet: function() {
    setTimeout(() => {
      console.log(`Hello, my name is ${this.name}`);
    }, 1000);
  }
};

obj.greet(); // 출력: "Hello, my name is John" (1초 후에 출력됨)
```

위 예제에서 `greet` 함수는 화살표 함수로 정의되어 있습니다. 이 함수는 1초 후에 실행되며, 실행 시점에서의 `this` 값은 `greet` 함수를 호출한 `obj` 객체입니다. 따라서 `this.name`은 `John`이라는 결과를 출력합니다.

## 화살표 함수와 `this` 사용 시 주의사항

화살표 함수에서의 `this` 동작은 매우 편리하지만, 몇 가지 주의해야 할 점이 있습니다.

1. 메소드로 사용하지 않는다면, 화살표 함수 대신 일반 함수를 사용해야 합니다. 화살표 함수는 자신만의 `this` 값을 가지지 않기 때문에, 객체의 메소드로 정의할 경우 원하는 동작을 얻지 못할 수 있습니다.

2. 프로토타입 메소드나 생성자 함수로 사용할 때는 화살표 함수를 사용하지 않아야 합니다. 이러한 경우, `this`는 인스턴스 객체를 가리켜야 하기 때문에, 화살표 함수는 원하는 결과를 얻을 수 없습니다.

3. 이벤트 핸들러로 사용할 때는 화살표 함수를 주의해서 사용해야 합니다. 일반 함수를 사용하면 이벤트가 발생한 요소를 `this`로 참조할 수 있지만, 화살표 함수를 사용한 경우에는 `this`가 상위 스코프를 가리키므로 원하지 않는 결과가 발생할 수 있습니다.

## 결론

화살표 함수는 자바스크립트에서 함수 선언을 보다 간결하고 효과적으로 만들어줍니다. `this` 동작에 대한 특징을 이해하고, 사용 시 주의사항을 지켜야 합니다. 올바르게 활용하면 화살표 함수는 코드를 더욱 가독성 있고 유지보수하기 쉽게 만들어줄 것입니다.