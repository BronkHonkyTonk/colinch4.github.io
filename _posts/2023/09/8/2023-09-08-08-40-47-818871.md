---
layout: post
title: "[파이썬] logging 로그와 서비스 레벨 약정 (SLA) 관리"
description: " "
date: 2023-09-08
tags: [python,logging]
comments: true
share: true
---

서비스 레벨 약정(Service Level Agreement, SLA)은 사용자와 서비스 제공 업체 간에 합의된 서비스 수준의 기준입니다. 이를 효과적으로 관리하기 위해서 로그(logging)는 필수 도구입니다. 로그는 운영 및 유지관리에 필수적인 정보를 제공하며, 서비스의 SLA 준수 여부를 모니터링할 수 있도록 도와줍니다.

이 블로그 포스트에서는 파이썬을 사용해 로그를 기록하고 SLA 관리를 수행하는 방법에 대해 알아보겠습니다.

## 1. 로그 라이브러리 선택

파이썬에서는 다양한 로그 라이브러리가 있지만, 가장 널리 사용되는 라이브러리 중 하나인 `logging`을 선택하는 것이 좋습니다. `logging` 라이브러리는 파이썬 표준 라이브러리로 제공되며, 다양한 로깅 수준과 포맷팅 옵션을 제공하여 유연한 로깅 기능을 구현할 수 있습니다.

## 2. 로그 레벨 설정

로그 레벨은 로그의 중요도를 나타내며, 로그 메시지의 심각도에 따라 다르게 설정됩니다. 로그 레벨은 다음과 같은 수준이 있습니다.

- DEBUG: 디버깅 정보를 기록합니다. (가장 상세한 로그 레벨)
- INFO: 정보성 로그 메시지를 기록합니다.
- WARNING: 경고 메시지를 기록합니다. (잠재적인 문제의 경고)
- ERROR: 오류 메시지를 기록합니다. (하지만 프로그램은 계속 실행될 수 있음)
- CRITICAL: 심각한 오류 메시지를 기록합니다. (프로그램 중단 요구)

어떤 로그 레벨을 사용할지는 SLA에 따라 결정되어야 합니다. SLA에 따라 필요한 정보를 기록하고 관리하는 것이 중요합니다.

## 3. 로그 파일 작성

로그 메시지를 파일에 작성하려면 로그 파일을 설정해야 합니다. 로그 파일은 시간별, 크기별 등 다양한 방식으로 관리할 수 있으며, 로그 파일명과 경로를 지정해야 합니다.

다음은 로그 파일을 작성하는 예시 코드입니다.

```python
import logging

# 로그 파일 설정
logging.basicConfig(filename='app.log', level=logging.INFO) # 로그 파일명과 로그 레벨 설정

# 로그 메시지 작성
logging.debug('This is a debug message')
logging.info('This is an info message')
logging.warning('This is a warning message')
logging.error('This is an error message')
logging.critical('This is a critical message')
```

위 코드에서는 `basicConfig` 메서드를 사용하여 로그 파일명을 'app.log'로 설정하고, 로그 레벨을 INFO로 설정했습니다. 이후 다양한 로그 메시지를 작성하고, 해당 로그 레벨에 맞춰 파일에 기록됩니다.

## 4. SLA 관리

로그를 사용하여 SLA를 관리하는 방법은 다양합니다. 가장 기본적인 방법은 로그의 각 레벨에 따라서 SLA의 기준과 비교하여 경고 또는 오류가 발생하는 경우 알림을 받는 것입니다. 예를 들어, 특정 로그 레벨이 SLA의 기준을 초과하는 경우 이를 모니터링 서비스에 알려줄 수 있습니다.

파이썬에서는 이를 구현하기 위해 로그 핸들러(logging handler)를 사용할 수 있습니다. 로그 핸들러는 로그 메시지를 전달받아서 사용자 정의 로직을 수행하거나 외부 서비스에 전달하는 역할을 합니다. 로그 핸들러를 활용하여 SLA 관리를 자동화할 수 있습니다.

## 마무리

로그는 서비스의 운영과 유지보수에 필수적인 요소입니다. SLA 관리를 위해 로그를 적절하게 활용하는 것은 서비스 품질의 향상과 잠재적인 문제의 조기 발견에 크게 기여할 수 있습니다. 파이썬의 `logging` 라이브러리를 통해 로그를 기록하고 SLA를 관리하는 방법에 대해 알아보았습니다.

더 나아가서 로그를 시각화하거나 로그 데이터를 분석하는 방법도 존재하며, 이를 통해 더 정교한 SLA 관리와 서비스 향상을 이룰 수 있습니다.