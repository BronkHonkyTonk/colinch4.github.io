---
layout: post
title: "[파이썬] regex 정규 표현식의 내부 구조 및 원리"
description: " "
date: 2023-09-08
tags: [python,regex]
comments: true
share: true
---

정규 표현식(regular expression)은 문자열 패턴을 검색하거나 대체하거나 추출하기 위해 사용되는 강력한 도구입니다. 이 기술은 대부분의 프로그래밍 언어에서 지원되며, 특히 문자열 처리에 많이 사용됩니다. 이번 블로그 포스트에서는 정규 표현식의 내부 구조와 작동 원리에 대해 알아보겠습니다.

## 1. 정규 표현식의 구성 요소

정규 표현식은 다음과 같은 구성 요소들로 이루어져 있습니다:

- **리터럴 (Literal)**: 문자열 내에서 정확히 일치해야하는 문자를 나타냅니다. 예를 들어, `abc`는 문자열 "abc"와 정확히 일치합니다.

- **메타 문자 (Metacharacters)**: 특별한 의미를 가지는 문자입니다. 주요 메타 문자로는 `^`, `$`, `.`, `*`, `+`, `?`, `{}`, `[]`, `()`, `\` 등이 있습니다. 이들 메타 문자는 패턴을 조정하거나 검색하는 데 사용됩니다.

- **문자 클래스 (Character Classes)**: 정규 표현식 내에서 검색할 문자의 그룹을 지정합니다. 대괄호 `[]` 내에 포함된 문자는 해당 위치에서 일치해야 합니다. 예를 들어, `[abc]`는 문자열 내에서 "a", "b", "c" 중 하나와 일치합니다.

- **반복 수량자 (Repetition Quantifiers)**: 일치하는 문자 또는 문자 그룹의 반복을 지정합니다. 가장 일반적으로 사용되는 반복 수량자로는 `*`, `+`, `?`, `{n}`, `{n,}`, `{n,m}` 등이 있습니다.

- **앵커 (Anchors)**: 문자열의 특정 위치에서 매치가 이루어져야 함을 나타냅니다. 예를 들어, `^`는 문자열의 시작 부분에 위치한 패턴과 일치해야 함을 나타냅니다. 마찬가지로, `$`는 문자열의 끝 부분에 위치한 패턴과 일치해야 함을 나타냅니다.

## 2. 정규 표현식의 작동 원리

정규 표현식은 입력 문자열을 패턴과 일치하는 부분과 일치하지 않는 부분으로 분리합니다. 이러한 패턴 매칭은 일반적으로 왼쪽에서 오른쪽으로 진행되며, 문자열 내에서 매치할 수 있는 모든 위치에서 시도됩니다. 매치가 성공하면 해당 부분이 선택되거나 추출될 수 있습니다.

정규 표현식은 파서(parser)를 통해 작동합니다. 이 파서는 정규 표현식을 구성 요소로 분리하고, 이를 기반으로 입력 문자열을 분석하여 패턴 매칭을 수행합니다. 이러한 분석은 일반적으로 유한 상태 기계(finite state machine)나 NFA(non-deterministic finite automaton)로 구현됩니다.

정규 표현식에서 사용하는 다양한 메타 문자, 문자 클래스, 반복 수량자 및 앵커를 조합하여 원하는 패턴을 만들 수 있습니다. 이를 통해 문자열 내에서 특정 패턴을 검색하거나 추출하는 등 다양한 문자열 처리 작업을 수행할 수 있습니다.

## 3. 정규 표현식 예제

파이썬에서 정규 표현식을 사용하는 예제 코드를 살펴보겠습니다.

```python
import re

# 패턴 매치 검사
pattern = r"ab*c"
text = "ac"
match = re.search(pattern, text)
print(match)  # <re.Match object; span=(0, 2), match='ac'>

# 패턴 매치 추출
pattern = r"(\d{3})-(\d{4}-\d{4})"
text = "010-1234-5678"
match = re.search(pattern, text)
print(match.group(1))  # 010
print(match.group(2))  # 1234-5678
```

위의 예제 코드는 `'ab*c'`라는 패턴이 `'ac'`라는 문자열과 일치하는지 확인하고, 일치하면 매치 객체를 반환합니다. 또한, `'(\d{3})-(\d{4}-\d{4})'`라는 패턴에서 `'010-1234-5678'`라는 문자열로부터 전화번호를 추출하는 예제를 보여줍니다.

## 마무리

정규 표현식은 문자열 처리와 검색에 매우 유용한 도구입니다. 이 블로그 포스트를 통해 정규 표현식의 내부 구조와 작동 원리에 대해 살펴보았고, 파이썬을 사용하여 간단한 예제 코드를 살펴봤습니다. 정규 표현식을 잘 활용하여 문자열 작업을 효율적으로 처리할 수 있도록 노력해보세요.