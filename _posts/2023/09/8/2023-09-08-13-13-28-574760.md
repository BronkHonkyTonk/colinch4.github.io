---
layout: post
title: "[파이썬] mpmath의 자료구조 및 메모리 관리"
description: " "
date: 2023-09-08
tags: [python,mpmath]
comments: true
share: true
---

mpmath은 파이썬에서 대수 연산과 수치 계산을 수행하기 위한 강력한 라이브러리입니다. 이 라이브러리는 고정 및 부동 소수점 연산을 다루는데 사용되며, 정확한 수치 결과를 보장하기 위해 임의 정밀도 산술을 지원합니다. 이 문서에서는 mpmath의 주요 자료구조와 메모리 관리에 대해 알아보겠습니다.

## mpf: 고정 소수점 수

mpmath의 가장 기본적인 자료형은 `mpf`입니다. `mpf`는 고정 소수점 연산을 위한 클래스로, 임의 정밀도 소수점 수를 나타낼 수 있습니다. 예를 들어, 다음과 같이 사용할 수 있습니다:

```python
from mpmath import mp

mp.dps = 10  # 소수점 이하 10자리까지 정확한 결과를 보장

x = mp.mpf('3.1415926535')
y = mp.mpf('2.7182818284')

result = x + y
print(result)  # 출력: 5.859874482
```

## mpc: 복소수

mpmath은 복소수 연산도 지원합니다. `mpc` 클래스를 사용하여 복소수를 나타낼 수 있습니다. 예를 들어:

```python
from mpmath import mp

mp.dps = 10

z = mp.mpc(2, 3)  # 2 + 3i
w = mp.mpc(1, 1)  # 1 + i

result = z * w
print(result)  # 출력: (1.000000000+5.000000000j)
```

## mp 해상도 조절

`mpmath`은 사용자가 필요에 따라 계산의 정확도를 조절할 수 있는 기능을 제공합니다. `mp.dps` 변수를 사용하여 연산 결과의 소수점 이하 자릿수를 지정할 수 있습니다. 예를 들어, `mp.dps = 50`으로 설정하면 연산 결과가 소수점 이하 50자리까지 정확해집니다.

## 메모리 관리

mpmath은 임의 정밀도 산술을 지원하기 위해 동적으로 메모리를 할당합니다. 이는 매우 큰 수치 연산을 수행할 때 유용하며, 사용자는 연산에 필요한 정밀도와 메모리 사용량을 조절할 수 있습니다.

하지만 메모리 사용량이 큰 연산을 수행하는 경우, `mpmath`의 메모리 관리에 주의해야 합니다. 연산이 끝난 후에는 `mpf`와 `mpc` 객체를 명시적으로 삭제하여 메모리를 해제해야 합니다. 이러한 삭제는 `del` 키워드를 사용하여 수행할 수 있습니다:

```python
from mpmath import mp

mp.dps = 1000

x = mp.mpf('3.1415926535')
y = mp.mpf('2.7182818284')

result = x * y

# 연산이 끝난 후 메모리를 명시적으로 해제
del x, y, result
```

mpmath의 자료구조와 메모리 관리 방법에 대한 간단한 소개였습니다. 이러한 기능과 관례를 효과적으로 사용하면 복잡한 수치 연산을 수행하는데 도움이 될 것입니다. mpmath 공식 문서를 참조하여 자세한 내용을 확인해보세요!