---
layout: post
title: "[파이썬] pdb에서의 프레임 및 객체 탐색"
description: " "
date: 2023-09-08
tags: [python,pdb]
comments: true
share: true
---

디버깅은 소프트웨어 개발의 중요한 부분입니다. 버그를 찾고 수정하는 과정에서 디버거 도구는 개발자에게 큰 도움을 줍니다. Python에서는 기본 디버깅 도구로 pdb (Python Debugger)를 제공합니다. pdb는 프로그램 실행 중에 중단점을 설정하고 실행을 일시 중지하는 기능을 제공합니다.

pdb를 사용하여 디버깅할 때 디버깅 프로세스 내 프레임 및 객체를 탐색하는 것은 매우 유용합니다. 이 기능을 활용하여 버그를 신속하게 찾고 해결할 수 있습니다. 이번 블로그 포스트에서는 pdb를 사용하여 프레임과 객체를 탐색하는 방법에 대해 알아보겠습니다.

## 1. 중단점 설정하기
중단점은 디버깅 프로세스를 중지시키는 지점을 의미합니다. 중단점을 설정하여 프로그램의 실행을 일시 중지하고 pdb의 명령 프롬프트로 제어를 전달할 수 있습니다. 다음은 중단점을 설정하는 방법입니다:

```python
import pdb

def foo():
    pdb.set_trace()
    x = 10
    y = 20
    z = x + y
    print(z)

foo()
```

위 예제에서는 `pdb.set_trace()`를 호출하여 중단점을 설정하고, `foo()` 함수에서 중단점 이후의 코드를 실행합니다.

## 2. 프레임 탐색하기
pdb에서 `l` 명령을 사용하여 현재 실행중인 코드 라인을 표시할 수 있습니다. `l` 명령은 현재 실행중인 구문을 표시하고, 추가적인 구문도 표시합니다. 또는 `w` 명령을 사용하여 현재 스택 프레임의 호출 체인을 표시할 수 있습니다.

```python
(Pdb) l
  2     def foo():
  3         pdb.set_trace()
  4         x = 10
  5         y = 20
  6         z = x + y
  7  ->     print(z)
[EOF]
```

위의 예제에서는 `l` 명령어를 실행하여 현재 실행중인 구문을 표시하고 있습니다. `->` 표시는 현재 실행중인 라인을 나타내며, `foo()` 함수의 마지막 `print` 문이 실행중임을 나타냅니다.

## 3. 객체 내용 탐색하기
pdb를 사용하여 객체의 내용을 확인할 수도 있습니다. 예를 들어, 변수나 객체의 값을 출력하려면 `p` 명령을 사용합니다.

```python
(Pdb) p x
10
(Pdb) p y
20
```

위의 예제에서는 `p` 명령을 사용하여 변수 `x`와 `y`의 값을 출력합니다.

## 4. 변수 변경하기
pdb에서는 실행 중인 코드에서 변수를 변경할 수도 있습니다. `p` 명령을 사용하여 변수의 값을 확인한 후, `!` 접두사를 사용하여 변수의 값을 변경합니다.

```python
(Pdb) p x
10
(Pdb) p y
20
(Pdb) !x = 30
(Pdb) p x
30
```

위의 예제에서는 `p` 명령을 사용하여 변수 `x`와 `y`의 값을 확인한 후, `!` 접두사를 사용하여 `x` 변수의 값을 변경합니다. 변경된 `x` 변수의 값은 이후의 코드 실행에 반영됩니다.

## 5. 스텝 오버 및 스텝 인
pdb에서는 `n` 명령을 사용하여 현재 라인을 실행하고 다음 라인으로 이동할 수 있습니다. `s` 명령을 사용하면 현재 함수로 진입하여 첫 번째 라인으로 이동합니다.

```python
(Pdb) n
30
(Pdb) n
40
(Pdb) s
> /path/to/file.py(2)foo()
-> def foo():
(Pdb) n
> /path/to/file.py(3)foo()
-> pdb.set_trace()
```

위의 예제에서는 `n` 명령을 사용하여 현재 라인을 실행하고 다음 라인으로 이동한 후, `s` 명령을 사용하여 `foo()` 함수로 진입하였습니다.

pdb는 Python 디버깅을 위한 강력한 도구입니다. `pdb.set_trace()`를 사용하여 중단점을 설정하고, 프레임과 객체를 탐색하여 버그를 신속하게 찾을 수 있습니다. 디버깅 시간을 단축시키고 안정성을 향상시키기 위해 pdb를 적극적으로 활용해 보세요!