---
layout: post
title: "[파이썬] regex 비탐욕적 반복자 활용"
description: " "
date: 2023-09-08
tags: [python,regex]
comments: true
share: true
---

정규 표현식(Regular Expression)은 텍스트에서 패턴을 찾고 추출하는 강력한 도구입니다. Python의 `re` 모듈을 사용하면 정규 표현식을 쉽게 작성하고 적용할 수 있습니다. 이번 포스트에서는 정규 표현식에서 비탐욕적 반복자를 활용하는 방법을 알아보겠습니다.

## 비탐욕적 반복자란?

정규 표현식에서 반복자는 패턴의 반복을 나타내는 역할을 합니다. 기본적으로 반복자는 탐욕적(greedy)으로 동작하여 가능한 큰 부분을 찾으려고 합니다. 그러나, 경우에 따라 작은 부분을 찾고 싶을 수도 있습니다. 이때 비탐욕적(non-greedy) 반복자를 사용할 수 있습니다.

비탐욕적 반복자는 다음과 같은 두 가지 형태로 표현할 수 있습니다:
- `*?` : 이 패턴은 0번 이상의 반복을 의미합니다. 탐욕적 반복자(`*`)와 함께 사용하면 최소한의 반복을 찾습니다.
- `+?` : 이 패턴은 1번 이상의 반복을 의미합니다. 탐욕적 반복자(`+`)와 함께 사용하면 최소한의 반복을 찾습니다.

## 비탐욕적 반복자 사용 예제: 태그에서 텍스트 추출하기

HTML 태그에서 텍스트를 추출하고 싶다고 가정해봅시다. 여기서는 탐욕적 반복자와 비탐욕적 반복자를 비교해보고, 비탐욕적 반복자의 활용법을 알아보겠습니다.

다음은 HTML 코드의 일부분입니다:
```html
<p>This is some <strong>bold</strong> text.</p>
```

우리는 `<p>` 태그 내의 텍스트만 추출하려고 합니다.

### 탐욕적 반복자 사용 예제

먼저 탐욕적 반복자를 사용하는 방식을 보겠습니다:
```python
import re

html = '<p>This is some <strong>bold</strong> text.</p>'
pattern = '<p>.*</p>'
result = re.search(pattern, html)
print(result.group())
```

위의 코드에서 패턴 `<p>.*</p>` 는 `<p>`로 시작하고 `.*` 는 아무 문자나 0번 이상 반복하는 패턴을 의미합니다. 그리고 `</p>`로 끝나는 패턴을 찾습니다.

태그를 여는 `<p>`와 닫는 `</p>` 사이에는 어떠한 문자열이 올 수 있으므로, 이러한 경우에는 탐욕적 반복자에 의해 가장 큰 영역인 전체 문자열이 반환됩니다.

### 비탐욕적 반복자 사용 예제

이번에는 비탐욕적 반복자를 사용하는 방식을 보겠습니다:
```python
import re

html = '<p>This is some <strong>bold</strong> text.</p>'
pattern = '<p>.*?</p>'
result = re.search(pattern, html)
print(result.group())
```

위의 코드에서는 패턴 `<p>.*?</p>` 는 비탐욕적 반복자 `.*?`를 사용하여 최소한의 반복을 찾도록 합니다. 따라서, 가장 작은 범위인 `<p>` 태그 내의 텍스트만 추출됩니다.

### 결과

탐욕적 반복자를 사용한 경우 결과는 다음과 같습니다:
```
<p>This is some <strong>bold</strong> text.</p>
```

비탐욕적 반복자를 사용한 경우 결과는 다음과 같습니다:
```
<p>This is some 
```

## 결론

비탐욕적 반복자를 사용하면 탐욕적 반복자와 달리 최소한의 반복을 찾을 수 있습니다. 이를테면 HTML 태그에서 텍스트를 추출하는 등의 상황에서 유용하게 활용할 수 있습니다. Python의 `re` 모듈을 사용하여 정규 표현식을 작성하고 활용하는 법을 익혀두면 필요한 경우 손쉽게 패턴을 찾고 추출할 수 있습니다.