---
layout: post
title: "[파이썬] mpmath 수치 해석에서의 `mpmath` 활용"
description: " "
date: 2023-09-08
tags: [python,mpmath]
comments: true
share: true
---

수치 해석은 실제 세계에서 발생하는 수학적 문제를 수치적으로 해결하는 기술입니다. 이를 통해 우리는 미분방정식, 최적화, 적분 등과 같은 다양한 문제를 해결할 수 있습니다. Python 언어에는 수치 해석에 유용한 다양한 라이브러리가 있지만, 그 중에서도 `mpmath`는 고정 밀도 실수 연산에 특화된 강력한 도구입니다.

## `mpmath` 라이브러리 소개

`mpmath` 라이브러리는 Python에서 고정 밀도 실수 연산을 제공하는 라이브러리입니다. 기본적으로 `mpmath`는 파이썬의 내장된 `float` 자료형의 부동 소수점 연산보다 더 높은 정밀도의 연산을 지원합니다. 이를 통해 소수점 연산에서 발생할 수 있는 정밀도 손실 문제를 피할 수 있습니다.

## `mpmath` 사용 예시

### 정밀도 설정하기

먼저 `mpmath` 라이브러리를 사용하기 위해 import 문을 추가해야 합니다. 다음과 같이 `mp`라는 이름으로 라이브러리를 import할 수 있습니다.

```python
import mpmath as mp
```

기본적으로 `mp` 객체는 15 자리의 정밀도를 사용합니다. 하지만 우리는 필요에 따라 더 높은 정밀도를 설정할 수 있습니다. `mp` 객체의 `mp.dps` 속성을 사용하여 정밀도를 설정할 수 있습니다. 예를 들어, 30 자리의 정밀도를 설정하려면 다음과 같이 코드를 작성할 수 있습니다.

```python
mp.dps = 30
```

### 연산하기

`mpmath`는 다양한 수학 함수와 연산을 제공합니다. 예를 들어, 고전적인 `sqrt()` 함수는 다음과 같이 사용할 수 있습니다.

```python
result = mp.sqrt(2)  # result에 2의 제곱근 계산 결과를 할당
print(result)  # 1.41421356237309504880168872421

```

또한, `mpmath`는 다양한 적분 및 미분 기능을 제공합니다. 예를 들어, 다음과 같이 정적분 문제를 해결할 수 있습니다.

```python
result = mp.quad(lambda x: mp.exp(-x), [0, mp.inf])  # 0부터 무한대까지 exp(-x)를 적분
print(result)  # 1.00000000000000000000000000000
```

### 고급 기능 활용하기

`mpmath`는 정밀도 이외에도 다양한 고급 기능을 제공합니다. 예를 들어, 다음과 같이 범위 내에서의 근을 찾는 함수를 사용할 수 있습니다.

```python
root = mp.findroot(lambda x: x**3 - 2*x - 5, 1)  # x^3 - 2x - 5 = 0의 해 계산
print(root)  # 2.09455148154232658184513666493
```

또한, `mpmath`는 다른 수의 집합에 대한 연산도 지원합니다. 다음은 다른 수 체계에서의 연산 예시입니다.

```python
# 대수체에 대한 연산
mp.dps = 15  # 정밀도 설정
x = mp.mpf(2 + 3j)  # 복소수 생성
y = mp.mpf(1 + 2j)
result = x + y  # 덧셈 연산
print(result)  # (3.0 + 5.0j)
```

## 결론

`mpmath` 라이브러리는 고정 밀도 실수 연산을 수행해야 하는 수치 해석 작업에 유용한 도구입니다. 위에서 언급한 예시들은 `mpmath`의 다양한 기능 중 일부에 불과합니다. 따라서, 수치 해석에 관심이 있는 경우 `mpmath`를 고려해보는 것이 좋습니다.