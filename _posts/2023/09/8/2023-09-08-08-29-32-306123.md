---
layout: post
title: "[파이썬] pdb 디버깅 세션 관리 및 저장"
description: " "
date: 2023-09-08
tags: [python,pdb]
comments: true
share: true
---

디버깅은 소프트웨어 개발 과정에서 중요한 부분입니다. PDB는 Python 디버거로서, 코드의 실행 중에 중지하고 특정 지점에서 변수를 검사하거나 코드를 분석할 수 있도록 도와줍니다. 이 기능은 복잡한 버그 추적과 성능 최적화에 매우 유용합니다.

하지만, PDB를 사용하여 디버깅하는 동안 많은 시간을 투자하게 될 수 있습니다. 디버깅 세션을 관리하고 저장하여 시간을 절약하고, 나중에 다시 사용할 수 있도록 하는 방법을 소개하겠습니다.

## 1. PDB 세션 저장하기

**pdb** 모듈에는 현재 실행중인 PDB 세션의 상태를 디스크에 저장하는 기능이 내장되어 있습니다. 저장된 세션을 나중에 다시 불러와서 디버깅 작업을 이어갈 수 있습니다.

다음 코드는 PDB 세션을 저장하는 간단한 예시입니다.

```python
import pdb

# 디버깅 세션 시작
pdb.set_trace()

# 세션 저장
pdb.save("debug_session.pdb")
```

`pdb.set_trace()` 함수는 디버깅 세션을 시작하고, 중단점을 설정합니다. 그 후에 `pdb.save()` 함수를 사용하여 현재 세션을 디스크에 저장합니다. 저장된 세션은 'debug_session.pdb'라는 파일로 저장됩니다.

## 2. 저장된 PDB 세션 불러오기

저장된 PDB 세션을 다시 불러와서 디버깅 작업을 이어갈 수 있습니다. 코드 실행 시 다음과 같이 `pdb.restore()` 함수를 사용하여 세션을 불러올 수 있습니다.

```python
import pdb

# 세션 불러오기
pdb.restore("debug_session.pdb")
```

`pdb.restore()` 함수를 호출하면 저장된 세션이 현재 세션으로 복원됩니다. 이후에는 디버거 도구를 사용하여 세션을 이어나갈 수 있습니다.

## 3. 디버깅 세션 관리하기

PDB 세션을 효율적으로 관리하기 위해 몇 가지 팁을 제공합니다.

### 3.1. 중단점 설정하기
중단점은 코드의 특정 지점에서 실행이 중지되는 위치를 나타냅니다. 중단점은 소스 코드의 모든 줄에 설정할 수 있으며, `pdb.set_trace()` 함수를 호출하여 중단점을 설정할 수 있습니다.

### 3.2. 스텝 실행하기
디버깅 세션을 진행하는 동안 코드를 한 줄씩 실행하고 결과를 살펴볼 수 있습니다. 다음과 같은 단축키를 사용하여 스텝 실행할 수 있습니다.

- `n` : 다음 줄로 이동하고 현재 함수 내부로 들어가지 않음
- `s` : 현재 줄을 실행하고 현재 함수 내부로 들어감
- `c` : 프로그램 실행을 계속함

### 3.3. 변수 확인하기
디버깅 세션 도중에 변수의 값을 확인하려면 다음과 같은 명령어를 사용할 수 있습니다.

- `p 변수명` : 변수의 값을 출력
- `pp 변수명` : 변수를 pretty print 형식으로 출력

### 3.4. 세션 종료하기
디버깅 세션이 끝나면 `q` 명령어를 입력하여 세션을 종료할 수 있습니다.

## 결론

PDB를 사용하여 코드를 디버깅하는 동안 디버깅 세션을 효과적으로 관리하고 저장하는 방법을 알아보았습니다. 이를 통해 디버깅 작업을 더욱 효율적으로 수행할 수 있으며, 복잡한 버그를 찾고 수정하는 데 유용한 도구로 활용할 수 있습니다. PDB를 활용하여 Python 프로그램의 신속한 디버깅을 지원하고, 개발 생산성을 향상시킬 수 있습니다.