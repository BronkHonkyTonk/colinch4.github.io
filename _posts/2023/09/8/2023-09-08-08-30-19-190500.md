---
layout: post
title: "[파이썬] pdb를 활용한 테스트 코드 디버깅"
description: " "
date: 2023-09-08
tags: [python,pdb]
comments: true
share: true
---

테스트 코드 개발은 소프트웨어 개발의 중요한 부분이며, 코드의 정확성과 안정성을 확인하는 데에 큰 역할을 합니다. 하지만 때로는 테스트 코드에서 버그나 오류가 발생하여 디버깅이 필요한 경우도 있습니다. 이때 pdb(Python Debugger)를 활용하면 효과적으로 테스트 코드를 디버깅할 수 있습니다.

## **pdb란 무엇인가?**

pdb는 파이썬의 디버깅 도구로, 코드 실행 중에 중단점을 설정하여 개발자가 코드의 상태를 분석하고 수정할 수 있게 해줍니다. pdb는 파이썬 인터프리터에 내장되어 있기 때문에 별도의 설치가 필요하지 않습니다.

## **pdb의 기능**

pdb는 다음과 같은 기능들을 제공합니다:

- 중단점 설정: 코드의 특정 위치에 중단점을 설정하여 해당 위치에서 코드 실행이 중지됩니다.
- 단계별 실행: 중단점에서부터 코드 한 줄씩 실행하면서 디버깅을 진행할 수 있습니다.
- 변수 값 확인: 중단점에서 변수의 값을 확인할 수 있습니다.
- 코드 실행 스택 추적: 현재 실행되고 있는 함수와 모듈의 계층 구조를 추적하여 에러 발생 원인을 파악할 수 있습니다.

## **pdb를 사용한 테스트 코드 디버깅 예제**

다음은 간단한 테스트 함수를 디버깅하는 예제입니다. 테스트 함수는 주어진 두 수를 더하는 간단한 기능을 가지고 있습니다. 하지만 이 예제에서는 의도적으로 버그를 만들어 디버깅 과정을 보여주고자 합니다.

```python
import pdb

def add_numbers(a, b):
    pdb.set_trace()
    sum = a + b + c  # 버그: 변수 'c'는 정의되지 않았음
    return sum

result = add_numbers(10, 5)
print("Result:", result)
```

위 예제에서는 `pdb.set_trace()`를 통해 중단점을 설정하고 있습니다. 이로 인해 코드 실행이 중단되고 pdb의 디버깅 모드로 전환됩니다. 

실행을 진행하면서 코드의 실행 상태를 확인하고 변수 값을 검사할 수 있습니다. 예를 들어, `a`와 `b`의 값을 확인하거나 `sum`의 결과 값을 확인할 수 있습니다.

```
> 테스트.py(5)add_numbers()
-> sum = a + b + c  # 버그: 변수 'c'는 정의되지 않았음
(Pdb)
```

디버깅 과정에서 문제를 발견하면 코드를 수정하고 다시 실행해볼 수도 있습니다. 이를 통해 테스트 코드의 문제를 해결하고 정확한 결과를 얻을 수 있습니다.

## **결론**

테스트 코드 개발에서 디버깅은 매우 중요한 과정입니다. pdb를 활용하면 테스트 코드의 문제를 발견하고 수정하는 과정을 더욱 효과적으로 수행할 수 있습니다. pdb의 다양한 기능들을 활용하여 테스트 코드의 안정성과 정확성을 높이는 데 도움이 될 것입니다.