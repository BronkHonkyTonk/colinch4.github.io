---
layout: post
title: "[파이썬] hug에서의 경로 매개변수"
description: " "
date: 2023-09-08
tags: [python,hug]
comments: true
share: true
---

API 개발에서 사용되는 hug 프레임워크는 간단하고 직관적인 방법으로 파라미터를 전달할 수 있도록 도와줍니다. 이를 통해 클라이언트로부터 요청받은 경로에 있는 값들을 쉽게 받아올 수 있습니다. 이번 포스트에서는 hug에서 경로 매개변수를 사용하는 방법에 대해 알아보겠습니다.

## 경로 매개변수란?

경로 매개변수는 URL 경로에 포함된 값을 파라미터로 사용하는 것을 의미합니다. 일반적으로 경로의 특정 부분을 변수로 사용해야 할 경우에 유용합니다. 예를 들어, 블로그 글을 조회하는 API에서 특정 글의 ID를 전달받아야 한다면, /blog/{id}와 같은 경로를 사용하여 ID 값을 전달할 수 있습니다.

## hug에서 경로 매개변수 사용하기

hug에서는 경로에 중괄호({})로 감싸인 변수를 사용하여 경로 매개변수를 정의합니다. 이 변수는 해당 경로로 들어오는 요청에 포함된 값으로 대체됩니다. 아래의 예제를 통해 경로 매개변수를 사용하는 방법을 살펴보겠습니다.

```python
import hug

@hug.get("/blog/{id}")
def get_blog_post(id: int):
    # Do something with the blog post ID
    return f"Getting blog post with ID {id}"
```

위의 코드에서 `get_blog_post` 함수는 `/blog/{id}` 경로에서 GET 요청을 처리합니다. 이 경로에 접근한 클라이언트가 요청 시 {id} 부분에 숫자 값을 전달하면, 해당 값을 `id` 매개변수로 받아와서 사용할 수 있습니다.

예를 들어, `/blog/42` 경로로 GET 요청을 보내면 `id` 매개변수에는 42라는 값이 전달됩니다. 이 값을 이용하여 해당 글의 데이터를 가져와서 반환하거나, 다른 작업을 수행할 수 있습니다.

## 경로 매개변수의 제약 조건

경로 매개변수는 기본적으로 문자열로 처리됩니다. 그러나, 특정한 제약 조건을 설정하여 입력 값을 검증할 수도 있습니다. 이는 `:` 문자를 사용하여 제약 조건을 포함시킬 수 있습니다.

```python
@hug.get("/blog/{id:int}")
def get_blog_post(id: int):
    # Do something with the blog post ID
    return f"Getting blog post with ID {id}"
```

위의 코드에서 `:int`를 사용하여 `id` 매개변수의 유형이 숫자여야 함을 나타내고 있습니다. 따라서, `/blog/42` 경로로 접근했을 때는 매개변수 `id`가 42로 처리되지만, `/blog/abc` 경로로 접근한 경우에는 유형 오류가 발생합니다.

### 요약

경로 매개변수는 hug 프레임워크에서 URL 경로에 있는 값을 파라미터로 사용하기 위해 사용됩니다. 경로에 중괄호({})로 감싸인 변수를 사용하여 정의하며, 해당 변수에는 클라이언트가 요청 시 전달하는 값을 받아와서 사용할 수 있습니다. 유형 제약 조건을 추가하여 입력 값을 검증할 수도 있습니다.

이를 통해 API 개발에 있어 클라이언트로부터 받은 값을 쉽게 활용할 수 있으며, 더욱 유연하고 동적인 API를 개발할 수 있습니다.