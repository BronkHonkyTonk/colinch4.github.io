---
layout: post
title: "[파이썬] pathlib와 파일시스템의 인코딩"
description: " "
date: 2023-09-08
tags: [python,pathlib]
comments: true
share: true
---

파이썬에서 파일시스템을 다루는 작업은 매우 중요합니다. 파일과 디렉토리를 관리하고 조작하는 것은 운영 체제에 의존하기 때문에 파일시스템의 인코딩과 관련된 문제가 발생할 수 있습니다. pathlib는 이러한 문제를 해결하기 위한 파이썬 표준 라이브러리입니다.

## pathlib이란?

pathlib는 파일시스템 경로를 인코딩 및 다루는 데 사용되는 객체 지향적 인터페이스입니다. 이것은 기존의 문자열 경로 대신에 객체를 사용하기 때문에 코드의 가독성과 이식성을 향상시키는 장점이 있습니다. 따라서 파일시스템 작업을 보다 쉽게 수행할 수 있습니다.

pathlib 모듈은 Python 3.4부터 기본 제공되며, 사용자가 따로 설치할 필요가 없습니다.

## 파일시스템 인코딩 문제

파일시스템의 인코딩 문제는 주로 다양한 언어 및 문자 집합을 지원하지 않는 운영 체제 및 파일시스템에 의해 발생합니다. 이로 인해 파일 또는 디렉토리 이름에 사용할 수 없는 문자가 있을 수 있으며, 이를 처리하지 않고 파일시스템 작업을 수행하면 예외가 발생할 수 있습니다.

## pathlib에서의 인코딩 문제 해결

pathlib는 파일시스템 인코딩 문제를 해결하기 위해 별도의 메서드나 설정을 제공하지는 않습니다. 그러나 pathlib은 기본적으로 운영 체제의 인코딩을 사용하여 경로를 생성하고 처리합니다. 이는 대부분의 경우에 잘 작동하지만, 특정 언어나 문자 집합을 지원하지 않는 운영 체제에서는 문제가 발생할 수 있습니다.

이럴 때 pathlib을 사용하는 대신에 `os` 모듈을 사용하여 운영 체제의 인코딩을 직접 처리할 수 있습니다. `os` 모듈은 다양한 파일시스템 작업을 지원하며, 인코딩 문제를 해결하기 위해 `os.fsencode()` 및 `os.fsdecode()` 함수를 제공합니다.

다음은 `os` 모듈을 사용하여 파일시스템 경로를 다루는 예제 코드입니다.

```python
import os

path = "/파일시스템/경로/테스트"
encoded_path = os.fsencode(path)

# 파일시스템에서 읽어올 때
decoded_path = os.fsdecode(encoded_path)

print(decoded_path)
```

위의 코드는 파일시스템 경로를 인코딩하고 인코딩 된 경로를 디코딩하여 출력합니다. 이를 통해 운영 체제에 따라 다른 인코딩 문제에 유연하게 대응할 수 있습니다.

## 결론

파일시스템의 인코딩 문제는 다양한 언어나 문자 집합을 지원하지 않는 운영 체제에서 발생할 수 있습니다. 이를 해결하기 위해서는 pathlib 대신에 `os` 모듈을 사용하여 직접 인코딩 및 디코딩 작업을 처리할 수 있습니다. 이를 통해 파일시스템 작업에서 발생할 수 있는 예외를 방지하고 코드의 이식성을 향상시킬 수 있습니다.