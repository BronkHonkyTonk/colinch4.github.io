---
layout: post
title: "[IOS] 푸시 알림을 보내기 위해 p12 파일 만드는 방법과 CER 파일 만드는 방법"
description: " "
date: 2023-08-08
tags: [IOS,Swift]
comments: true
share: true
---


iOS 앱에서 푸시 알림을 보내기 위해 p12 파일을 만드는 과정은 다음과 같습니다. p12 파일은 앱 서버에서 Apple Push Notification service (APNs)와 통신하기 위해 필요한 인증서와 개인 키를 함께 포함한 파일입니다.

1.  Apple Developer 계정과 인증서 요청:
    
    -   Apple Developer 계정을 생성하고 iOS 앱을 등록해야 합니다.
    -   인증서 생성을 위해 앱 식별자(App ID)를 생성하고, 개발용과 배포용 인증서를 요청해야 합니다.
2.  인증서 요청 후 다운로드:
    
    -   인증서 요청 후 Apple Developer 사이트에서 해당 인증서를 다운로드 받습니다.
    -   인증서에는 개인 키가 함께 생성되어 있습니다. 개인 키는 노출되지 않도록 주의해야 합니다.
3.  인증서와 개인 키를 키체인에 추가:
    
    -   다운로드 받은 인증서와 개인 키를 더블 클릭하여 키체인에 추가합니다.
    -   키체인에 추가된 인증서와 개인 키가 올바르게 설치되었는지 확인합니다.
4.  p12 파일 생성:
    
    -   키체인에서 개인 키와 인증서를 선택하고, 마우스 오른쪽 버튼을 클릭한 뒤 "내보내기"를 선택합니다.
    -   내보내기 과정에서 p12 파일을 생성합니다. 이때 비밀번호를 설정해야 합니다.
    -   생성된 p12 파일은 앱 서버에서 푸시 알림을 보낼 때 사용됩니다.

중요한 점은, p12 파일은 개인 키를 포함하고 있기 때문에 보안에 유의해야 합니다. 개인 키를 외부에 노출되지 않도록 주의하고, 앱 서버 등에서 안전하게 관리해야 합니다.

푸시 알림을 위해 p12 파일을 사용하는 방법은 서버에서 사용하는 언어 또는 라이브러리에 따라 다를 수 있습니다. 서버 언어와 라이브러리에 맞게 p12 파일을 로드하고, APNs와 통신하는 코드를 작성해야 푸시 알림을 보낼 수 있습니다.


cer 파일은 인증서 파일로, 개인 키를 포함하고 있지 않습니다. 따라서 cer 파일만으로는 p12 파일을 직접 생성할 수 없습니다. p12 파일은 인증서와 개인 키를 함께 포함하는 파일이기 때문에, p12 파일을 생성하려면 인증서와 개인 키가 모두 필요합니다.

따라서 p12 파일을 생성하려면 먼저 개인 키가 포함된 p12 파일을 생성한 후, 해당 p12 파일과 인증서 파일(cer 파일)을 함께 사용해야 합니다. 이를 위해 다음 단계를 따르세요:

1.  개인 키와 인증서를 함께 보유한 p12 파일 생성:
    
    -   개발자 계정에서 Apple Developer 사이트에 로그인하여 개인 키와 인증서를 함께 가지고 있는 p12 파일을 생성해야 합니다.
    -   이 작업은 개발자 계정으로 로그인하고, 앱의 인증서를 생성한 후에 진행할 수 있습니다.
    -   Apple Developer 사이트에서 p12 파일을 생성하는 방법은 다음과 같습니다:
        -   "Certificates, Identifiers & Profiles"로 이동하고, "Keys" 섹션에서 개인 키를 생성합니다.
        -   "Certificates" 섹션에서 인증서를 생성합니다.
        -   개인 키와 인증서를 선택하고, "Create a Certificate Signing Request (CSR)"를 선택하여 CSR 파일을 생성합니다.
        -   생성한 CSR 파일을 이용하여 인증서를 생성합니다.
        -   인증서와 개인 키를 선택하고, "Export" 버튼을 클릭하여 p12 파일을 생성합니다. 이때, p12 파일에 암호를 설정할 수 있습니다.
2.  cer 파일과 p12 파일 함께 사용:
    
    -   생성한 p12 파일과 cer 파일을 함께 사용하여 푸시 알림을 위한 인증을 설정합니다.
    -   p12 파일에는 개인 키와 인증서가 포함되어 있으므로, 암호화된 형태로 서버에서 안전하게 보관 및 사용해야 합니다.
    -   cer 파일은 공개키가 포함되어 있어, 서버와 APNs 간의 SSL 연결 설정에 사용됩니다.

이렇게 cer 파일과 p12 파일을 함께 사용하여 iOS 앱에서 푸시 알림을 설정할 수 있습니다. 서버에서는 인증서와 개인 키를 안전하게 보관하고, p12 파일을 사용하여 APNs와 통신할 수 있도록 구현해야 합니다.