---
layout: post
title: "[python] doctest를 사용하여 소스 코드 컴파일을 테스트하는 방법은?"
description: " "
date: 2023-11-23
tags: [python]
comments: true
share: true
---

파이썬에서는 `doctest` 모듈을 사용하여 소스 코드의 컴파일을 테스트할 수 있습니다. `doctest`는 코드 주석에 작성된 예제를 실행하고, 결과가 예상한 대로 나오는지 확인합니다.

이를 통해 소스 코드의 문법 오류를 찾거나, 함수 또는 클래스의 사용 방법을 확인할 수 있습니다. 아래는 `doctest`를 사용하여 소스 코드 컴파일 테스트를 하는 방법에 대한 예시입니다.

## 예시 코드

```python
def add(a, b):
    """
    두 수를 더하는 함수입니다.

    >>> add(2, 3)
    5
    >>> add(-1, 1)
    0
    >>> add(0.5, 0.5)
    1.0
    """

    return a + b
```

## 예시 설명

위 예시 코드에서는 `add` 함수를 정의하고, 함수의 동작을 설명하는 docstring에 `doctest` 예제를 작성했습니다.

예제는 함수 호출을 나타내는 `add(인자1, 인자2)` 형식으로 작성되고, 예상되는 결과값을 주석으로 표시합니다.

`doctest` 모듈을 사용하여 이 예제를 실행하고 결과를 확인하면 됩니다. 결과가 예상한 값과 일치하지 않는 경우, `doctest`는 오류를 출력하는 등의 알려줍니다.

## 테스트 실행

위의 예제 코드를 실행해보면 다음과 같이 출력될 것입니다.

```shell
$ python -m doctest -v example.py
```
위 명령을 실행하면 `add` 함수의 예제가 실행되고, 결과가 예상한 대로 나오는지 검증됩니다. `-v` 옵션을 사용하면 더 자세한 정보를 출력할 수 있습니다.

## 결론

`doctest`를 사용하면 소스 코드의 컴파일을 테스트할 수 있습니다. 소스 코드에 작성된 예제를 실행하고, 결과를 검증하는 방식으로 코드의 문법 오류를 찾을 수 있습니다. `doctest`를 활용하여 소스 코드의 안정성을 높이고, 사용자들에게 정확한 사용 방법을 안내할 수 있습니다.