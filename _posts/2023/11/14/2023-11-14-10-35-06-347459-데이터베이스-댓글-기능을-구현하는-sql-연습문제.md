---
layout: post
title: "데이터베이스 댓글 기능을 구현하는 SQL 연습문제"
description: " "
date: 2023-11-14
tags: [데이터베이스]
comments: true
share: true
---

이번 연습문제에서는 SQL을 사용하여 데이터베이스에서 댓글 기능을 구현하는 방법을 연습해보겠습니다. 데이터베이스 시스템으로는 MySQL을 사용하겠습니다.

### 문제

주어진 테이블을 사용하여 간단한 영화 리뷰 웹 애플리케이션의 데이터베이스 댓글 기능을 구현해야 합니다. 다음과 같은 테이블이 주어집니다:

**영화 리뷰 테이블 (movies_reviews)**

| 컬럼   | 타입        |
|--------|-------------|
| id     | INT         |
| movie  | VARCHAR(50) |
| review | TEXT        |

1. **id**는 댓글의 고유 식별자입니다.
2. **movie**는 리뷰가 작성된 영화의 제목을 나타냅니다.
3. **review**는 리뷰의 내용을 저장하는 열입니다.

데이터베이스에 다음과 같은 조건으로 댓글을 추가하는 SQL을 작성해야 합니다:

1. 리뷰를 작성하는 사용자는 영화의 id를 알고 있어야 합니다.
2. 댓글 내용은 최대 500자까지 입력할 수 있습니다.
3. 댓글을 추가할 때마다 id 값은 자동으로 증가해야 합니다.

### 해결 방법

먼저, 데이터베이스에 댓글을 저장하기 위한 테이블을 생성해야 합니다. 적절한 이름과 열의 타입을 선택하여 테이블을 만듭니다.

```sql
CREATE TABLE comments (
  id INT AUTO_INCREMENT PRIMARY KEY,
  movie_id INT,
  comment TEXT
);
```

이제 리뷰를 작성하는 사용자가 작성한 댓글을 데이터베이스에 추가하는 SQL을 작성해보겠습니다.

```sql
INSERT INTO comments (movie_id, comment)
VALUES (1, '이 영화 정말 좋네요!');

INSERT INTO comments (movie_id, comment)
VALUES (3, '재미있는 영화였습니다.');

INSERT INTO comments (movie_id, comment)
VALUES (2, '이 영화는 지루하네요.');
```

위의 예제에서는 세 가지 서로 다른 댓글이 세 가지 다른 영화에 추가되었습니다. 각 댓글은 해당되는 영화의 id와 함께 comment 열에 저장됩니다.

### 결과 확인

댓글을 정상적으로 추가했다면, 다음 SQL을 실행하여 데이터베이스에 있는 모든 댓글을 가져올 수 있습니다.

```sql
SELECT * FROM comments;
```

위의 SQL을 실행하여 댓글이 제대로 저장되었는지 확인할 수 있습니다.

### 마무리

데이터베이스에서 댓글 기능을 구현하는 방법에 대해 연습해보았습니다. 이러한 구현을 통해 웹 애플리케이션을 개발하거나 데이터베이스 관련 작업을 수행할 때 유용한 기술을 배울 수 있습니다. 데이터베이스 관련 기술을 익히는 것은 개발자로서 꼭 필요한 능력입니다.

> \#SQL \#데이터베이스