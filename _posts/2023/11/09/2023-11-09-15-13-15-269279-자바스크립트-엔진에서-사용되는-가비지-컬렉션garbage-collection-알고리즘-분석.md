---
layout: post
title: "자바스크립트 엔진에서 사용되는 가비지 컬렉션(Garbage Collection) 알고리즘 분석"
description: " "
date: 2023-11-09
tags: [자바스크립트]
comments: true
share: true
---

자바스크립트는 동적으로 메모리를 할당하고 해제하는 언어입니다. 이렇게 메모리를 사용하다 보면 필요 없어진 객체들이 쌓이게 되는데, 이를 관리하기 위해 가비지 컬렉션이라는 기능이 존재합니다. 가비지 컬렉션은 필요 없어진 객체들을 자동으로 탐지하고 해제하여 메모리를 최적화합니다.

자바스크립트 엔진마다 가비지 컬렉션에 사용되는 알고리즘이 다르지만, 대부분의 엔진에서는 "Mark and Sweep" 알고리즘을 기반으로 가비지 컬렉션을 수행합니다. 여기서는 이 알고리즘에 대해 간단히 알아보도록 하겠습니다.

## Mark and Sweep 알고리즘

Mark and Sweep 알고리즘은 다음과 같은 단계로 진행됩니다.

1. Root 객체들을 찾아서 마킹(mark)합니다. 이는 전역 객체, 실행 중인 함수의 변수 등이 될 수 있습니다.
2. 참조된 객체들을 탐색하여 마킹합니다. 이는 루트 객체에서 시작해 참조된 객체를 순차적으로 확인하는 과정입니다.
3. 마킹되지 않은 객체들은 사용되지 않은 것으로 간주하고 메모리에서 해제(sweep)합니다.
4. 마킹을 초기화하고 다음 가비지 컬렉션을 대기합니다.

Mark and Sweep 알고리즘의 장점은 모든 메모리를 순회하며 해제할 수 있다는 것입니다. 하지만 이 알고리즘의 단점은 객체가 메모리에서 해제된 후에도 여전히 참조되고 있는 경우에도 해제하지 못한다는 것입니다.

## 다른 가비지 컬렉션 알고리즘

Mark and Sweep 알고리즘 외에도 다양한 가비지 컬렉션 알고리즘이 존재합니다. 예를 들어, 대부분의 최신 자바스크립트 엔진은 "Generational" 가비지 컬렉션 알고리즘을 사용합니다. 이 알고리즘은 객체를 "새로운 객체"와 "오래된 객체"로 구분하여 가비지 컬렉션을 수행합니다. 또한, "Incremental" 가비지 컬렉션 알고리즘은 가비지 컬렉션을 여러 단계로 나누어 수행하여 실행 시간을 분산시키는 방법을 채택합니다.

## 결론

자바스크립트 엔진은 가비지 컬렉션 알고리즘을 통해 메모리를 최적화하고 필요 없는 객체들을 자동으로 해제합니다. 이러한 가비지 컬렉션 알고리즘은 엔진마다 다를 수 있으며, 최신 엔진들은 효율적인 알고리즘을 사용하여 성능을 높여줍니다.

가비지 컬렉션 알고리즘에 대한 이해는 자바스크립트 개발자에게 중요한 요소 중 하나입니다. 메모리 누수를 방지하고 성능을 최적화하기 위해서는 가비지 컬렉션 동작 원리를 이해하는 것이 필수적입니다.

> 참고 자료: [Understanding Garbage Collection in JavaScript](https://scotch.io/tutorials/understanding-garbage-collection-in-javascript)