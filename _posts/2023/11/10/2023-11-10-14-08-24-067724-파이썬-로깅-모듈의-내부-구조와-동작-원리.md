---
layout: post
title: "파이썬 로깅 모듈의 내부 구조와 동작 원리"
description: " "
date: 2023-11-10
tags: [Python, logging]
comments: true
share: true
---

파이썬은 로깅을 위한 표준 라이브러리인 `logging` 모듈을 제공합니다. 이 모듈은 애플리케이션의 로그를 관리하고 기록하는 기능을 제공하여 디버깅 및 모니터링을 용이하게 합니다. 이번 포스트에서는 `logging` 모듈의 내부 구조와 동작 원리에 대해 알아보겠습니다.

## 내부 구조

`logging` 모듈은 크게 5가지 주요 컴포넌트로 구성되어 있습니다.

1. **로거 (Logger):** 로깅 메시지를 생성하는 역할을 수행합니다. 애플리케이션에서는 로거를 사용하여 로그를 기록합니다.

2. **핸들러 (Handler):** 로그 메시지를 받아 처리하는 역할을 합니다. 로그 메시지를 파일에 저장하거나 콘솔에 출력하는 등 다양한 방식으로 처리할 수 있습니다.

3. **포매터 (Formatter):** 로그 메시지의 형식을 지정하는 역할을 합니다. 시간 정보, 로그 레벨, 메시지 내용 등을 포함하여 로그를 보다 가독성 좋게 포맷합니다.

4. **필터 (Filter):** 로그 메시지를 필터링하는 역할을 합니다. 특정 조건에 따라 로그를 필터링하여 원하는 로그만 기록하도록 설정할 수 있습니다.

5. **계층 구조 (Hierarchy):** 로거는 계층 구조를 가지고 있습니다. 각 로거는 부모 로거에게 메시지를 전달하고, 부모 로거는 메시지를 자신의 핸들러로 전달하는 방식으로 동작합니다.

## 동작 원리

`logging` 모듈의 동작은 다음과 같은 순서로 진행됩니다.

1. 로그 메시지를 생성하는 애플리케이션 코드에서 `logging.getLogger()`를 호출하여 로거 객체를 생성합니다.

2. 로거 객체에 설정된 로그 레벨에 따라 메시지를 처리할지 여부를 결정합니다. 로그 레벨은 다양한 수준으로 설정할 수 있으며, DEBUG, INFO, WARNING, ERROR, CRITICAL 등이 있습니다.

3. 로그 메시지가 로거 객체를 통해 전달됩니다. 로그 레벨, 메시지 내용, 시간 정보 등이 포함된 로그 메시지 객체가 생성됩니다.

4. 로그 메시지의 필터링 및 포맷팅은 로거 객체와 설정된 핸들러, 포매터, 필터에 의해 처리됩니다.

5. 처리된 로그 메시지는 해당 핸들러로 전달되어 원하는 방식으로 처리됩니다. 예를 들어, 파일에 저장되거나 콘솔에 출력될 수 있습니다.

6. 로거 객체는 자신의 부모 로거에게 메시지를 전달합니다. 부모 로거는 동일한 방식으로 메시지를 처리하며, 계층 구조를 따라 상위 로거로 전달됩니다.

`logging` 모듈의 내부 동작을 이해하면 로그 메시지를 원하는 대로 다루고 관리하는 데 도움이 됩니다.

## 요약

이번 포스트에서는 파이썬의 로깅 모듈인 `logging` 모듈의 내부 구조와 동작 원리에 대해 알아보았습니다. `logging` 모듈은 로깅 메시지를 생성하고 처리하는 역할을 수행하는 로거, 핸들러, 포매터, 필터, 계층 구조 등으로 구성되어 있습니다. 이러한 컴포넌트들을 조합하여 로그를 원하는 형식으로 기록하고 관리할 수 있습니다. `logging` 모듈을 잘 이용하면 애플리케이션의 디버깅과 모니터링을 더욱 효과적으로 수행할 수 있습니다.

[Python Logging HOWTO](https://docs.python.org/3/howto/logging.html)를 참조하여 더 많은 정보를 얻을 수 있습니다.

#Python #logging