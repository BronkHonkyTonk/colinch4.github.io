---
layout: post
title: "파이썬으로 Rust 컴파일된 모듈 사용하기: PyO3"
description: " "
date: 2023-11-10
tags: [Rust, PyO3]
comments: true
share: true
---

Rust는 안전하고 속도가 빠른 시스템 프로그래밍 언어로써 많은 개발자들의 관심을 받고 있습니다. Rust로 작성된 모듈을 파이썬에서 사용하기 위해 PyO3라는 툴을 사용할 수 있습니다. 이번 포스트에서는 PyO3를 이용해 파이썬에서 Rust 모듈을 호출하는 방법에 대해 알아보겠습니다.

## PyO3란 무엇인가요?

PyO3는 Rust로 작성된 파이썬 확장 모듈을 생성하거나 호출하기 위한 라이브러리입니다. 이는 Rust와 CPython API 사이의 인터페이스를 제공하여 Rust로 작성된 코드를 파이썬에서 직접 호출할 수 있도록 합니다.

## PyO3 설치하기

PyO3를 사용하기 위해선, Rust와 관련 의존성 패키지가 설치되어 있어야 합니다. 먼저, Rust를 설치한 다음에 다음 명령어를 실행하여 PyO3를 설치할 수 있습니다:

```shell
$ pip install pyo3
```
## Rust로 모듈 작성하기

Rust로 작성된 기능을 파이썬에서 사용할 수 있도록 하려면, 우선 Rust 프로젝트를 생성해야 합니다. 다음은 간단한 "Hello, World!" 기능을 가지는 Rust 함수를 작성하는 예제입니다.

```rust
#[no_mangle]
pub extern "C" fn hello_world() {
    println!("Hello, World!")
}
```

이 코드는 Rust의 "Hello, World!"를 출력하는 함수를 정의하고 있습니다.

## PyO3로 Rust 모듈 호출하기

Rust 모듈을 호출하기 위해 파이썬에서 PyO3 라이브러리를 사용해야 합니다. 다음은 이전에 작성한 Rust 함수를 파이썬에서 호출하는 예제입니다.

```python
import pyo3

lib = pyo3.CDLL("path_to_rust_module.so")

# Rust 함수를 호출
lib.hello_world()
```

위의 코드에서 `path_to_rust_module.so`는 Rust로 컴파일된 모듈의 경로를 지정하는 부분입니다. 이 경로는 Rust 프로젝트를 빌드한 후 생성된 `.so` 파일의 경로로 변경해야 합니다.

## 결론

PyO3를 사용하면 파이썬에서 Rust로 작성된 모듈을 쉽게 호출할 수 있습니다. 이를 통해 Rust의 안전함과 성능을 파이썬 프로젝트에서도 활용할 수 있습니다. PyO3의 더 많은 기능과 사용법은 공식 문서를 참고하시기 바랍니다.

[#Rust](https://example.com/Rust) [#PyO3](https://example.com/PyO3)