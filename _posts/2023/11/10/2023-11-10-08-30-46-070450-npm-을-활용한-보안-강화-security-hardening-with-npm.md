---
layout: post
title: "npm 을 활용한 보안 강화 (Security hardening with npm)"
description: " "
date: 2023-11-10
tags: [npm]
comments: true
share: true
---

## 개요

npm은 JavaScript 패키지 관리자로서 많은 개발자들이 사용하고 있습니다. 하지만, npm으로 패키지를 설치할 때 보안에 대한 고려를 해야 합니다. 악의적인 패키지를 인식하고 이를 방지하기 위한 보안 강화 방법에 대해 알아보겠습니다.

## 패키지 인증

npm에서 제공하는 패키지들은 패키지 등록시 특정한 인증 절차를 거칩니다. 이 인증 절차에 의해 패키지가 안전하다는 신뢰를 얻을 수 있습니다. 따라서, 패키지를 설치하기 전에 해당 패키지가 인증되었는지 확인하는 것이 중요합니다.

인증된 패키지는 `npm audit` 명령을 사용하여 패키지의 취약점을 확인할 수 있습니다. 이 명령은 설치된 패키지의 취약성을 스캔하고, 보안 문제를 알려줍니다.

## 패키지 버전 관리

일반적으로, 최신 버전의 패키지를 사용하면 많은 보안 문제가 해결될 수 있습니다. 따라서, 항상 최신 버전으로 패키지를 업데이트하는 것이 좋습니다.

`npm outdated` 명령을 사용하여 사용 중인 패키지의 버전을 확인할 수 있습니다. 최신 버전으로 업데이트하기 위해 `npm update` 명령을 이용할 수 있습니다. 

## 패키지 검증

패키지를 설치하기 전에 패키지의 검증이 필요합니다. 패키지의 소스 코드를 확인하고 검증해야 합니다. 이를 위해 패키지의 소스 코드 리포지토리를 방문하여 코드를 검토하거나, 독립적인 패키지 품질 검사 도구를 사용할 수 있습니다.

## 패키지 유효성 검사

패키지를 설치할 때, 패키지의 유효성을 검사하는 것은 중요합니다. `npm ci` 명령을 사용하면 `package-lock.json` 파일을 사용하여 유효성 검사를 진행할 수 있습니다. 이 명령은 패키지의 일관성을 유지하고, 변경사항에 대해 경고를 제공합니다.

## 보안 헤더 설정

보안 헤더는 웹 애플리케이션의 취약점을 방지하는 데 도움을 줍니다. `npm i helmet` 명령을 사용하여 `helmet` 패키지를 설치하고, 보안 헤더를 설정할 수 있습니다. 이 패키지는 XSS, 클릭재킹 등과 같은 보안 취약성을 방지하기 위한 다양한 헤더를 제공합니다.

## 결론

npm을 사용할 때, 보안 취약점에 대한 고려는 매우 중요합니다. 인증된 패키지를 사용하고, 최신 버전의 패키지를 유지하며, 패키지의 검증과 유효성 검사를 수행하는 것이 좋습니다. 또한 보안 헤더를 설정하여 웹 애플리케이션의 보안을 강화할 수 있습니다. 위의 모든 조치를 통해 npm을 보다 안전하게 사용할 수 있습니다.

### 참고 자료

- [npm 공식 문서](https://docs.npmjs.com/)
- [npm audit 공식 문서](https://docs.npmjs.com/cli/v7/commands/npm-audit)
- [npm outdated 공식 문서](https://docs.npmjs.com/cli/v7/commands/npm-outdated)
- [npm ci 공식 문서](https://docs.npmjs.com/cli/v7/commands/npm-ci)
- [helmet 패키지 GitHub 리포지토리](https://github.com/helmetjs/helmet)