---
layout: post
title: "자바스크립트 앱을 위한 도커 멀티 호스트 구성 방법"
description: " "
date: 2023-11-10
tags: [javascript]
comments: true
share: true
---

도커(Docker)는 애플리케이션을 컨테이너로 패키징하여 환경에 구애받지 않고 실행할 수 있게 해주는 플랫폼입니다. 도커는 싱글 호스트로 앱을 실행하는 것 외에도 멀티 호스트로 앱을 실행할 수 있는 기능을 제공합니다. 이번 블로그 포스트에서는 자바스크립트 앱을 도커 멀티 호스트에서 실행하는 방법을 알아보겠습니다.

## 1. 도커 스웜 설정

도커 스웜(Docker Swarm)은 도커의 클러스터링 기능을 지원합니다. 여러 대의 호스트를 하나의 가상 호스트로 묶어 하나의 앱을 실행할 수 있게 해줍니다. 도커 스웜을 설정하기 위해 다음 명령어를 사용합니다.

```bash
$ docker swarm init
```

위 명령어를 실행하면 현재 호스트가 매니저 노드(Manager Node)로 설정되고 스웜 클러스터에 추가됩니다.

## 2. 스웜 클러스터에 노드 추가

다른 호스트를 스웜 클러스터에 추가하려면 해당 호스트에서 다음 명령어를 실행해야 합니다.

```bash
$ docker swarm join --token [토큰] [매니저노드 IP]:[매니저노드 포트]
```

위 명령어를 실행하여 호스트를 스웜 클러스터에 추가합니다.

## 3. 서비스 생성

자바스크립트 앱을 실행하기 위해서는 도커 서비스(Service)를 생성해야 합니다. 서비스는 여러 컨테이너를 실행하고 관리하는 도커 개체입니다. 다음 명령어를 사용하여 서비스를 생성할 수 있습니다.

```bash
$ docker service create --replicas [레플리카 수] --name [서비스명] [이미지명]
```

위 명령어를 실행하여 자바스크립트 앱을 실행할 서비스를 생성합니다.

## 4. 서비스 스케일링

스웜 클러스터에서 실행되는 서비스의 레플리카 수를 변경하여 성능을 조절할 수 있습니다. 다음 명령어를 사용하여 서비스의 레플리카 수를 변경할 수 있습니다.

```bash
$ docker service scale [서비스명]=[레플리카 수]
```

위 명령어를 실행하여 서비스의 레플리카 수를 조절합니다.

## 5. 로드 밸런싱

스웜 클러스터에 여러 대의 호스트가 포함되어 있으므로 로드 밸런싱(Load Balancing)이 필요합니다. 로드 밸런서는 요청을 여러 대의 호스트에 분산하여 처리합니다. 도커 스웜은 내장된 로드 밸런서를 제공하므로 별도의 설정이 필요하지 않습니다.

이제 자바스크립트 앱을 도커 멀티 호스트에서 실행할 수 있게 되었습니다. 도커 스웜을 사용하여 클러스터링된 환경에서 앱을 실행함으로써 안정성과 확장성을 높일 수 있습니다.

바로가기: [도커 공식 문서](https://docs.docker.com/get-started/swarm-deploy/)

#javascript #도커