---
layout: post
title: "npm 을 활용한 커버리지 체크 (Code coverage with npm)"
description: " "
date: 2023-11-10
tags: [npm]
comments: true
share: true
---

코드 커버리지는 소프트웨어 개발에서 중요한 지표 중 하나입니다. 코드 커버리지는 테스트 스위트를 실행하여 소스 코드에서 실행되는 부분의 백분율을 측정하는 것을 의미합니다. 이를 통해 소프트웨어의 품질과 안정성을 평가할 수 있습니다.

npm은 JavaScript 패키지 관리자로 많은 개발자들이 사용하고 있습니다. npm은 코드 커버리지를 계산하는 여러 도구와 플러그인을 제공하며, 이를 통해 프로젝트에서 코드 커버리지를 간단하게 확인할 수 있습니다.

## 커버리지 체크를 위한 npm 도구 설치
코드 커버리지를 체크하기 위해서는 먼저 다음과 같이 npm을 통해 필요한 도구를 설치해야 합니다.

```javascript
npm install --save-dev nyc
```

nyc는 Istanbul 프로젝트의 커버리지 도구인데, 이를 통해 JavaScript 코드의 커버리지를 측정하고 보고서를 생성할 수 있습니다.

## 커버리지 체크 실행
설치가 완료되면, 커버리지 체크를 실행할 수 있습니다. 커버리지를 체크하려는 스크립트를 package.json 파일의 scripts 항목에 등록해줍니다.

```javascript
"scripts": {
  "test": "nyc mocha"
}
```

위 코드는 `npm test` 명령어를 실행할 때 nyc를 사용하여 mocha 테스트를 실행하고 코드 커버리지를 측정하도록 설정한 것입니다. `npm test` 명령어를 실행하면 테스트 유닛이 실행되고, 커버리지 보고서가 생성됩니다.

## 커버리지 보고서 확인
커버리지 체크가 완료되면, Istanbul은 커버리지 보고서를 생성합니다. 생성된 보고서는 `coverage` 폴더 아래의 `index.html` 파일로 확인할 수 있습니다.

커버리지 보고서는 소스 코드에서 실행되는 부분과 그렇지 않은 부분을 구분하여 색상으로 표시합니다. 이를 통해 테스트하지 않은 코드나 실행되지 않은 코드를 식별할 수 있습니다.

## 결론
npm을 활용하여 코드 커버리지를 체크하는 방법에 대해 알아보았습니다. 이를 통해 코드 커버리지를 간단하게 측정하고, 소프트웨어의 품질과 안정성을 높일 수 있습니다. npm과 nyc를 적절히 활용하여 프로젝트의 코드 커버리지를 향상시켜보세요!

[#npm](https://www.npmjs.com/) [#코드커버리지](https://en.wikipedia.org/wiki/Code_coverage)