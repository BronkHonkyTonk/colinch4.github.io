---
layout: post
title: "[swift] Swift Sourcery와 런타임 코드 생성의 차이"
description: " "
date: 2023-11-16
tags: [swift]
comments: true
share: true
---

## 소개
Swift는 정적 언어로, 컴파일 시간에 대부분의 코드 검사를 진행합니다. 하지만 때로는 런타임에 동적으로 코드를 생성해야 하는 상황이 있습니다. 이때 두 가지 선택지인 Swift Sourcery와 런타임 코드 생성을 고려할 수 있습니다.

## Swift Sourcery
Swift Sourcery는 Swift의 메타프로그래밍 도구로, 코드 생성에 사용됩니다. 소스 코드에서 주석이나 어노테이션을 사용하여 템플릿을 정의하고, Sourcery는 이를 기반으로 코드를 자동으로 생성합니다.

### 장점
- 컴파일 시간에 코드를 생성하므로 성능이 우수합니다.
- 미리 정의된 템플릿을 사용하여 반복적인 작업을 자동화할 수 있습니다.
- 코드 생성 과정이 명시적이기 때문에 코드의 의도를 명확하게 전달할 수 있습니다.

### 단점
- 코드를 작성하는 동안 추가 작업이 필요합니다.
- 소스 코드에서 직접 어노테이션을 작성해야 하므로 가독성이 저하될 수 있습니다.

## 런타임 코드 생성
런타임 코드 생성은 프로그램이 실행 중에 동적으로 코드를 생성하는 방식입니다. Swift에서는 Reflection API나 Objective-C 런타임을 사용하여 이 기능을 구현할 수 있습니다.

### 장점
- 코드 작성 시 추가 작업이 필요하지 않습니다.
- 런타임에 코드를 동적으로 생성하므로 유연성이 높습니다.

### 단점
- 런타임 비용이 많이 들어 성능이 저하될 수 있습니다.
- 런타임 코드 생성은 컴파일러 최적화를 받을 수 없으므로 안정성이 떨어질 수 있습니다.

## 결론
Swift Sourcery와 런타임 코드 생성은 각각의 장단점을 가지고 있습니다. 프로젝트의 요구사항과 성능/유연성의 중요도에 따라 선택해야 합니다. 소스 코드 자동 생성이 필요하고 성능이 중요한 경우에는 Swift Sourcery를 고려해보고, 동적으로 코드를 생성해야 하고 유연성이 필요한 경우에는 런타임 코드 생성을 고려해보는 것이 좋습니다.