---
layout: post
title: "[java] 아파치 플링크의 고가용성(High availability in Apache Flink)"
description: " "
date: 2023-11-30
tags: [java]
comments: true
share: true
---

아파치 플링크는 대규모 데이터 처리 및 분석을 위한 실시간 스트림 처리 프레임워크입니다. 플링크의 고가용성 기능을 사용하면 시스템 장애 시에도 데이터 처리 및 분석의 연속성을 유지할 수 있습니다. 이번 블로그 포스트에서는 플링크의 고가용성 기능에 대해 자세히 알아보겠습니다.

## 고가용성 개요
플링크의 고가용성은 장애 복구를 위해 다음과 같은 세 가지 주요 기능을 제공합니다.

### 1. 리더-펄로워 아키텍처
플링크의 고가용성은 리더-펄로워 아키텍처를 기반으로 합니다. 이 아키텍처는 단일 리더 노드와 다수의 펄로워 노드로 구성됩니다. 리더 노드가 모든 데이터 처리 작업을 담당하며, 펄로워 노드는 리더 노드와 동기화되어 데이터 처리 및 분석 작업을 버퍼링합니다. 리더 노드가 장애가 발생하면 펄로워 노드 중 하나가 새로운 리더로 선출되어 작업을 계속합니다.

### 2. 체크포인팅
체크포인팅은 플링크의 고가용성을 보장하기 위한 중요한 메커니즘입니다. 체크포인팅은 주기적으로 스트림 상태를 저장하고 백업하는 것을 의미합니다. 체크포인팅은 리더 노드에서 시작되며, 펄로워 노드에도 동기적으로 적용됩니다. 따라서 만약 리더 노드가 장애가 발생하면, 펄로워 노드가 최신 체크포인트 상태로 작업을 계속할 수 있습니다.

### 3. 자동 장애 감지 및 복구
플링크는 장애를 자동으로 감지하고 복구하는 기능을 제공합니다. 이를 통해 시스템 장애 시에도 연속적인 데이터 처리가 가능합니다. 플링크는 장애 발생 시 자동으로 펄로워 노드 중 하나를 새로운 리더로 선출하고, 체크포인트로부터 데이터를 복구합니다. 이러한 자동 장애 감지 및 복구 기능은 시스템의 신뢰성과 가용성을 높여줍니다.

## 고가용성 설정
플링크의 고가용성 기능을 사용하기 위해서는 몇 가지 설정이 필요합니다. 첫째로, 리더-펄로워 아키텍처를 사용하려면 `high-availability` 속성을 `zookeeper`나 `filesystem` 등으로 설정해야 합니다. 둘째로, 체크포인팅 설정을 통해 정기적인 상태 저장 및 백업을 활성화해야 합니다. 마지막으로, 자동 장애 감지와 복구를 위해 `restart-strategy` 속성을 적절히 설정해야 합니다.

## 결론
아파치 플링크의 고가용성 기능을 사용하면 시스템 장애 시에도 데이터 처리의 연속성을 유지할 수 있습니다. 리더-펄로워 아키텍처, 체크포인팅, 자동 장애 감지 및 복구 등의 기능을 활용하여 플링크의 신뢰성과 가용성을 높일 수 있습니다. 플링크의 고가용성 설정 방법은 공식 문서를 참조하시기 바랍니다.

- 아파치 플링크 공식 문서: [https://flink.apache.org/](https://flink.apache.org/)

이상으로 아파치 플링크의 고가용성에 대해 알아보았습니다. 감사합니다!