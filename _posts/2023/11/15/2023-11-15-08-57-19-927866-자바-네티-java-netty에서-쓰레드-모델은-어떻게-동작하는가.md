---
layout: post
title: "[java] 자바 네티 (Java Netty)에서 쓰레드 모델은 어떻게 동작하는가?"
description: " "
date: 2023-11-15
tags: [java]
comments: true
share: true
---

자바 네티 (Java Netty)는 비동기 이벤트 기반의 네트워크 애플리케이션 프레임워크입니다. 이러한 프레임워크에서 쓰레드 모델은 네티가 어떻게 동작하고 어떻게 이벤트를 처리하는지 결정하는 중요한 요소입니다.

네티의 쓰레드 모델은 단일 쓰레드 이벤트 루프 모델과 다중 쓰레드 이벤트 루프 모델 두 가지로 구성됩니다. 각각의 모델은 애플리케이션의 특성에 맞게 선택할 수 있습니다.

1. 단일 쓰레드 이벤트 루프 모델 (Single Thread Event Loop Model):
   - 단일 쓰레드에서 이벤트 루프가 동작하며, 모든 이벤트를 해당 쓰레드에서 처리합니다.
   - 모든 네트워크 관련 이벤트는 이벤트 루프가 처리하므로 멀티코어 환경에서의 쓰레드 경합 문제를 해결할 수 있습니다.
   - 다만, 이벤트 처리에 오랜 시간이 걸리는 작업이 있을 경우, 다른 이벤트들의 처리를 블로킹하게 될 수 있습니다.
   - 따라서, I/O 작업과 비동기 작업에만 적합한 경우 사용됩니다.
 
2. 다중 쓰레드 이벤트 루프 모델 (Multi-thread Event Loop Model):
   - 여러 쓰레드에서 병렬로 이벤트 루프가 동작하며, 이벤트 처리를 분산시킵니다.
   - I/O 작업과 비동기 작업 이외에도 CPU 집약적인 작업을 처리하는 데에도 적합합니다.
   - 다만, 여러 쓰레드간의 동기화 문제와 쓰레드 경합 문제가 발생할 수 있으므로 주의가 필요합니다.
   - 동기화 문제를 해결하기 위해 네티는 내부적으로 스레드 세이프 (Thread-Safe)한 컴포넌트를 사용합니다.

쓰레드 모델은 네티 애플리케이션의 성능과 확장성에 영향을 미칩니다. 애플리케이션의 특성과 요구사항에 맞게 적절한 쓰레드 모델을 선택하여 네티의 장점을 최대한 활용할 수 있습니다.

[참고 자료]
- Netty Document: https://netty.io/
- Netty GitHub Repository: https://github.com/netty/netty