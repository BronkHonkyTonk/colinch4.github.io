---
layout: post
title: "[java] 리팩토링(Refactoring)"
description: " "
date: 2023-11-15
tags: [java]
comments: true
share: true
---

리팩토링은 소프트웨어 개발 과정에서 코드의 구조나 디자인을 변경하지 않고, 가독성과 유지보수성을 개선하는 작업을 말합니다. 리팩토링은 기능 변경 없이 코드를 개선하므로, 소프트웨어의 외부 동작에는 영향을 주지 않습니다. 따라서 기능에 문제가 없지만, 코드 품질을 향상시키고 싶을 때 주로 적용됩니다.

리팩토링의 목표는 코드를 더 이해하기 쉽고, 수정하기 쉽게 만들 것입니다. 이를 위해 리팩토링은 다음과 같은 작업을 수행할 수 있습니다.

- 중복 코드 제거
- 긴 함수를 여러 개의 작은 함수로 분리
- 복잡한 조건문을 단순화
- 반복적인 코드를 추상화하여 재사용 가능하게 만들기

리팩토링을 수행할 때에는 반드시 테스트 코드를 작성하고, 테스트를 통해 기존 동작에 영향을 주지 않고 리팩토링된 코드가 동작하는지 확인해야 합니다. 테스트를 통과한 코드만을 배포하고 적용해야 합니다.

## 리팩토링의 장점

리팩토링을 통해 코드를 개선하는 것에는 여러 가지 장점이 있습니다.

1. 코드 가독성 향상: 코드를 더 이해하기 쉽고 읽기 쉽도록 변경함으로써 팀원들이 협업하기 쉬워집니다.
2. 유지보수성 개선: 코드의 구조를 개선하고 중복 코드를 제거하여 버그를 예방하고 유지보수 비용을 절감할 수 있습니다.
3. 기능 추가의 용이성: 리팩토링을 통해 코드를 깔끔하고 모듈화된 상태로 유지하면, 새로운 기능을 추가하거나 변경하기 쉬워집니다.
4. 코드 품질 향상: 리팩토링을 하면서 코드 스멜(코드 품질에 대한 문제)을 제거하여 코드의 품질을 향상시킵니다.

## 리팩토링의 주의사항

리팩토링을 할 때에는 몇 가지 주의사항을 지켜야 합니다.

1. 작은 단계로 분할: 한 번에 많은 변경을 가하지 않고, 작은 단계로 나누어서 리팩토링을 진행해야 합니다.
2. 테스트 코드 작성: 리팩토링 전과 후를 비교하기 위해 테스트 코드를 작성하고, 테스트를 통해 안전하게 리팩토링된 코드를 확인해야 합니다.
3. 리뷰 및 피드백: 리팩토링한 코드에 대한 팀원들의 의견을 듣고, 리뷰 및 피드백을 통해 보완할 부분을 찾아야 합니다.

## 결론

리팩토링은 소프트웨어 개발 과정에서 코드의 품질을 향상시키고 유지보수를 용이하게 하는 데에 중요한 역할을 합니다. 리팩토링은 개발자의 능력과 경험이 요구되지만, 코드 품질과 소프트웨어의 장기적인 성공을 위해 꼭 필요한 작업입니다.

> 참고: [Martin Fowler의 리팩토링](https://refactoring.com/)

[자바 코드 예시] 

```java
public class Calculator {
    public static int add(int a, int b) {
        return a + b;
    }
    
    public static int subtract(int a, int b) {
        return a - b;
    }
    
    public static int multiply(int a, int b) {
        return a * b;
    }
    
    public static int divide(int a, int b) {
        if (b == 0) {
            throw new IllegalArgumentException("Cannot divide by zero");
        }
        return a / b;
    }
}
```

위의 예시는 기본적인 4칙 연산 기능을 제공하는 `Calculator` 클래스입니다. 이 코드는 이미 기능적으로는 동작하지만, 리팩토링을 통해 가독성을 개선하거나 중복 코드를 제거하는 등의 작업을 할 수 있습니다.