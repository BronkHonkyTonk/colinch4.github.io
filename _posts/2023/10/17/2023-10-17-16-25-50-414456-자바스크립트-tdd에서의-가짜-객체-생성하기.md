---
layout: post
title: "자바스크립트 TDD에서의 가짜 객체 생성하기"
description: " "
date: 2023-10-17
tags: [TDD]
comments: true
share: true
---

자바스크립트에서 테스트 주도 개발 (Test-Driven Development, TDD)을 수행할 때, 종종 가짜 객체를 사용해야 할 때가 있습니다. 이 가짜 객체를 생성하는 방법에 대해 알아보겠습니다.

테스트 중에는 실제로 작동하는 객체를 사용하기보다는, 테스트가 독립적으로 실행될 수 있도록 가짜 객체로 대체하는 것이 바람직합니다. 이렇게 하면 테스트 결과가 실제 코드에 영향을 주지 않고도 독립적으로 테스트를 수행할 수 있습니다.

## 1. 단순한 가짜 객체 만들기

간단한 가짜 객체를 만들기 위해서는 객체 리터럴을 사용할 수 있습니다. 예를 들어, 다음과 같이 가짜 객체를 만들 수 있습니다.

```javascript
const fakeObject = {
  method1: () => {},
  method2: () => {},
  // ...
};
```

이 가짜 객체에서는 필요한 모든 메서드를 빈 함수로 구현합니다. 이렇게 하면 메서드를 호출할 때 예외가 발생하지 않고, 테스트 코드가 정상적으로 실행됩니다.

## 2. Sinon.js를 사용한 가짜 객체 만들기

Sinon.js는 자바스크립트에서 테스트를 용이하게 하기 위한 도구로, 가짜 객체 생성에도 도움을 줍니다. Sinon.js를 사용하면 스텁(stub)이나 모의(mock)객체를 손쉽게 만들 수 있습니다. 예를 들어, 다음과 같이 가짜 객체를 만들 수 있습니다.

```javascript
const sinon = require('sinon');

const fakeObject = {
  method1: sinon.stub(),
  method2: sinon.stub(),
  // ...
};
```

위 예제에서는 Sinon.js의 `stub()` 함수를 사용해 `method1`과 `method2` 함수를 스텁으로 설정했습니다. 이렇게 하면 해당 메서드를 호출할 때 Sinon.js가 제공하는 기능을 사용할 수 있습니다.

## 3. 모의객체 라이브러리를 사용한 가짜 객체 만들기

실제 코드와 상호작용을 통해 테스트를 수행해야 할 경우에는 모의객체(mock object)를 사용할 수도 있습니다. 모의객체는 실제 객체와 유사한 동작을 구현하면서도, 테스트 중에 발생하는 작업을 추적하고 확인할 수 있습니다.

`jest`나 `sinon`과 같은 모의객체 라이브러리를 사용하면 가짜 객체를 간단히 생성할 수 있습니다. 자세한 사용법은 각 라이브러리의 공식 문서를 참고하세요.

## 마치며

TDD를 수행할 때 가짜 객체를 사용하면 테스트 코드를 더욱 견고하게 만들 수 있습니다. 단순한 가짜 객체 구현부터, Sinon.js나 모의객체 라이브러리를 사용하는 방법까지 다양한 방법을 활용해 필요한 가짜 객체를 생성해보세요.

다양한 가짜 객체 생성 방법에 대한 더 자세한 내용은 자바스크립트 TDD에 관한 문서와 블로그를 참고해보세요.

참고 문서:
- [Sinon.js 공식 문서](https://sinonjs.org/)
- [테스트 주도 개발(TDD) - 위키백과](https://ko.wikipedia.org/wiki/%ED%85%8C%EC%8A%A4%ED%8A%B8_%EC%A3%BC%EB%8F%84_%EA%B0%9C%EB%B0%9C)
- [Jest](https://jestjs.io/)
- [Sinon.js](https://sinonjs.org/)

#javascript #TDD