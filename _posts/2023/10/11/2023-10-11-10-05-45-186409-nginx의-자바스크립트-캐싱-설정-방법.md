---
layout: post
title: "Nginx의 자바스크립트 캐싱 설정 방법"
description: " "
date: 2023-10-11
tags: [Nginx]
comments: true
share: true
---

Nginx는 웹 서버로 유명한 소프트웨어이며, 자바스크립트 파일의 캐싱을 효과적으로 관리하기 위한 몇 가지 설정 옵션을 제공합니다. 자바스크립트 파일의 캐싱을 활성화하면, 클라이언트의 브라우저는 파일을 다운로드하지 않고 이전에 캐시된 버전을 사용하여 웹 페이지를 로드할 수 있습니다. 이는 웹 페이지의 성능을 향상시키고 대역폭을 절약하는 데 도움이 됩니다.

다음은 Nginx에서 자바스크립트 파일의 캐싱을 설정하는 방법입니다:

### 1. Nginx 설정 파일 열기

Nginx 설정 파일을 열기 위해 텍스트 편집기로 `/etc/nginx/nginx.conf` 파일을 엽니다.

### 2. 자바스크립트 캐싱 지시어 추가

`http` 블록 안에 있는 `server` 블록에서 자바스크립트 캐싱을 지시하는 `location` 블록을 추가합니다. 아래는 캐싱 지시어를 담은 예시 코드입니다.

```nginx
http {
  # 기존 Nginx 설정...

  server {
    # 기존 서버 설정...

    location ~* \.(js)$ {
      expires 7d;
      add_header Cache-Control "public";
    }

    # 추가적인 서버 위치 블록...

  }

  # 추가적인 서버 블록...

}
```

### 3. 설정 파일 저장 및 Nginx 서비스 재시작

설정 파일을 저장한 뒤, Nginx 서비스를 재시작하여 변경 사항이 적용되도록 합니다. 이를 위해 터미널에서 다음 명령어를 실행합니다:

```shell
sudo systemctl restart nginx
```

자바스크립트 파일의 캐싱이 성공적으로 설정되었습니다! 이제 웹 페이지에 포함된 자바스크립트 파일은 클라이언트의 브라우저에서 캐시되어, 다음에 해당 웹 페이지를 방문할 때 빠른 로딩 속도를 경험할 수 있게 됩니다.

> 주의: 이러한 캐싱 설정은 자바스크립트 파일이 변경될 때마다 클라이언트의 브라우저에서 새로운 버전을 다운로드하지 않게 하므로, 파일이 실제로 업데이트되었을 때 변경 사항이 제때 반영되지 않을 수 있습니다. 이를 해결하기 위해서는 파일 이름에 버전 관련 파라미터를 추가하는 방법을 고려해야 할 수도 있습니다.

### 마무리

Nginx를 사용하여 자바스크립트 파일의 캐싱을 설정하는 방법에 대해 알아보았습니다. 이를 통해 웹 페이지의 성능을 개선하고 대역폭을 절약할 수 있습니다. 자바스크립트 파일의 캐싱을 유지하면, 다음에 해당 파일이 필요할 때 서버에서 다운로드할 필요 없이 캐시된 버전을 사용할 수 있어서 로딩 속도가 크게 향상됩니다.